[{"title":"vueå¤šçº§è·¯ç”±ç¼“å­˜(keep-alive)å¤±æ•ˆçš„è§£å†³æ–¹æ¡ˆ","url":"http://example.com/2022/05/19/2022-05-19-keep-alive/","content":"<p><img src=\"https://p0.ssl.qhimg.com/t0120e2d462c4771b65.jpg\" alt=\"banner\"></p>\n<p>æœ€è¿‘åœ¨å¼€å‘ä¸€ä¸ªåŸºäºVue3çš„åå°ç®¡ç†ç³»ç»Ÿï¼Œæ•´ä¸ªé¡¹ç›®ç»“æ„å‚è€ƒäº† vue-element-plus-adminï¼ˆç®€ç§° adminï¼‰ï¼Œåœ¨å¤„ç†é¡µé¢ç¼“å­˜æ–¹é¢ï¼Œå®ƒä½¿ç”¨äº† keep-alive ç»“åˆ router-view å®ç°ï¼Œè¿™ä¹Ÿæ˜¯å¤§å¤šåå°ç³»ç»Ÿçš„æ–¹å‘ã€‚ç”±äº admin çš„router æ˜¯ä¸€ä¸ªæ‰å¹³ç»“æ„ï¼Œæ•…ä¸å­˜åœ¨ç¼“å­˜å¤±æ•ˆé—®é¢˜ã€‚è€Œæˆ‘çš„ç³»ç»Ÿçš„routeræ˜¯ä¸ªæ ‘ç»“æ„ï¼Œæ¶‰åŠå¤šå±‚ router-view åµŒå¥—ï¼Œè¿™æ · admin ä¸­ç®€å•çš„å®ç°å°±æ»¡è¶³ä¸äº†æˆ‘çš„éœ€æ±‚äº†ã€‚</p>\n<p>å¦‚ä½•è§£å†³å¤šçº§è·¯ç”±ç¼“å­˜å¤±æ•ˆé—®é¢˜ï¼Ÿæ˜¯æœ¬æ–‡è®¨è®ºçš„é‡ç‚¹ï¼Œå¦‚æœä½ ä¹Ÿæœ‰åŒæˆ‘ä¸€æ ·çš„çƒ¦æ¼ï¼Œä¸å¦¨è¯»è¯»æœ¬æ–‡ğŸ˜†ã€‚</p>\n<p>å°ç¼–ç®€åŒ–ç³»ç»Ÿä¸ºè¿™å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>\n<ul>\n<li>åŸºç¡€å¸ƒå±€ï¼šLayout.vue</li>\n<li>è·¯ç”±é…ç½®ï¼šrouter.js</li>\n<li>è·¯ç”±é¡µé¢ï¼šHome.vueã€About.vueã€Theme1.vueã€Theme2-1.vueã€Theme3ã€NestRouterView.vue</li>\n</ul>\n<h2 id=\"æ–¹æ¡ˆä¸€ï¼ˆæ ‘ç»“æ„è½¬æ‰å¹³ç»“æ„ï¼‰\"><a href=\"#æ–¹æ¡ˆä¸€ï¼ˆæ ‘ç»“æ„è½¬æ‰å¹³ç»“æ„ï¼‰\" class=\"headerlink\" title=\"æ–¹æ¡ˆä¸€ï¼ˆæ ‘ç»“æ„è½¬æ‰å¹³ç»“æ„ï¼‰\"></a>æ–¹æ¡ˆä¸€ï¼ˆæ ‘ç»“æ„è½¬æ‰å¹³ç»“æ„ï¼‰</h2><p>é¡¹ç›®ä¸­çš„ routes ç®¡ç†å¦‚ä¸‹ï¼Œå¾ˆç»å…¸çš„æ ‘ç»“æ„ã€‚æ ¹èŠ‚ç‚¹æ˜¯ä¸€ä¸ªåŸºç¡€å¸ƒå±€ï¼Œæ‰€æœ‰é¡µé¢éƒ½åŸºäºè¿™ä¸ªå¸ƒå±€å±•ç¤ºã€‚äºŒçº§è·¯ç”±ä¸Šï¼Œå€ŸåŠ©äº†<em>router-view</em>ç»„ä»¶å»æ‰¿è½½å­è·¯ç”±ã€‚æˆ‘ä»¬ç»™åƒ NestRouterView.vue æ­¤ç±»åŠŸèƒ½ç»„ä»¶ç»Ÿç§°ä¸ºã€ä¸­é—´ä»¶ã€ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> views = &#123;</span><br><span class=\"line\">  path: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">  component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Layout.vue&quot;</span>),</span><br><span class=\"line\">  children: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      name: <span class=\"string\">&quot;Home&quot;</span>,</span><br><span class=\"line\">      path: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">      component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Home.vue&quot;</span>),</span><br><span class=\"line\">      meta: &#123;</span><br><span class=\"line\">        title: <span class=\"string\">&quot;é¦–é¡µ&quot;</span>,</span><br><span class=\"line\">        keepAlive: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      name: <span class=\"string\">&quot;About&quot;</span>,</span><br><span class=\"line\">      path: <span class=\"string\">&quot;about&quot;</span>,</span><br><span class=\"line\">      component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/About.vue&quot;</span>),</span><br><span class=\"line\">      meta: &#123;</span><br><span class=\"line\">        title: <span class=\"string\">&quot;å…³äº&quot;</span>,</span><br><span class=\"line\">        keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      path: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">      component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/NestRouterView.vue&quot;</span>),</span><br><span class=\"line\">      children: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          name: <span class=\"string\">&quot;Theme1&quot;</span>,</span><br><span class=\"line\">          path: <span class=\"string\">&quot;theme/1&quot;</span>,</span><br><span class=\"line\">          component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme1.vue&quot;</span>),</span><br><span class=\"line\">          meta: &#123;</span><br><span class=\"line\">            title: <span class=\"string\">&quot;ä¸»é¢˜1&quot;</span>,</span><br><span class=\"line\">            keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          name: <span class=\"string\">&quot;Theme3&quot;</span>,</span><br><span class=\"line\">          path: <span class=\"string\">&quot;theme/3&quot;</span>,</span><br><span class=\"line\">          component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme3.vue&quot;</span>),</span><br><span class=\"line\">          meta: &#123;</span><br><span class=\"line\">            title: <span class=\"string\">&quot;ä¸»é¢˜3&quot;</span>,</span><br><span class=\"line\">            keepAlive: <span class=\"literal\">false</span></span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">          path: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">          component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/NestRouterView.vue&quot;</span>),</span><br><span class=\"line\">          children: [</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">              name: <span class=\"string\">&quot;Theme2-1&quot;</span>,</span><br><span class=\"line\">              path: <span class=\"string\">&quot;theme/2/1&quot;</span>,</span><br><span class=\"line\">              component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme2-1.vue&quot;</span>),</span><br><span class=\"line\">              meta: &#123;</span><br><span class=\"line\">                title: <span class=\"string\">&quot;ä¸»é¢˜2-1&quot;</span>,</span><br><span class=\"line\">                keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">          ]</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">      ]</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  name: <span class=\"string\">&#x27;NestRouterView&#x27;</span></span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>å®é™…ä¸Šæ˜¯å¦æ˜¯å¤šçº§è·¯ç”±å¯¹äºé¡¹ç›®æˆ–è€…ä¸šåŠ¡ä¸Šæ¥è®²ä¸€ç‚¹éƒ½ä¸å½±å“ï¼Œåªæ˜¯ç•Œé¢æ˜¾ç¤ºéœ€è¦ï¼Œè®©ç”¨æˆ·èƒ½æ›´å¿«çš„æ‰¾åˆ°è‡ªå·±éœ€è¦çš„åŠŸèƒ½é¡µé¢è€Œå·²ã€‚è¿™æ ·çš„è¯ï¼Œæ˜¾ç¤ºçš„è·¯ç”±ä¿ç•™å¤šçº§çš„ï¼Œå®é™…ä¸Š router ç»´æŠ¤æˆä¸€çº§ï¼Œå°†æ˜¾ç¤ºèœå•å’Œä¸šåŠ¡ router åˆ†ç¦»å¼€ã€‚æ”¾å¼ƒåŸæœ‰æ ‘ç»“æ„ï¼Œä¿æŒ router æ‰å¹³åŒ–ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä»¥ä¸‹çš„ routesï¼Œä¸å­˜åœ¨å¤æ‚åµŒå¥—ï¼Œä¹Ÿä¸æ„å»ºå¤šä½™çš„ã€ä¸­é—´ä»¶ã€ç»„ä»¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> views = &#123;</span><br><span class=\"line\">  path: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">  component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Layout.vue&quot;</span>),</span><br><span class=\"line\">  children: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      name: <span class=\"string\">&quot;Home&quot;</span>,</span><br><span class=\"line\">      path: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">      component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Home.vue&quot;</span>),</span><br><span class=\"line\">      meta: &#123;</span><br><span class=\"line\">        title: <span class=\"string\">&quot;é¦–é¡µ&quot;</span>,</span><br><span class=\"line\">        keepAlive: <span class=\"literal\">false</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    ......</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      name: <span class=\"string\">&quot;Theme1&quot;</span>,</span><br><span class=\"line\">      path: <span class=\"string\">&quot;theme/1&quot;</span>,</span><br><span class=\"line\">      component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme1.vue&quot;</span>),</span><br><span class=\"line\">      meta: &#123;</span><br><span class=\"line\">        title: <span class=\"string\">&quot;ä¸»é¢˜1&quot;</span>,</span><br><span class=\"line\">        keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    ......</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      name: <span class=\"string\">&quot;Theme2-1&quot;</span>,</span><br><span class=\"line\">      path: <span class=\"string\">&quot;theme/2/1&quot;</span>,</span><br><span class=\"line\">      component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme2-1.vue&quot;</span>),</span><br><span class=\"line\">      meta: &#123;</span><br><span class=\"line\">        title: <span class=\"string\">&quot;ä¸»é¢˜2-1&quot;</span>,</span><br><span class=\"line\">        keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>æœ‰äººè¯´æˆ‘è¿™é¡¹ç›®é‡Œæœ‰å‡ åã€ä¸Šç™¾æ¡è·¯ç”±é…ç½®ï¼Œè®©æˆ‘æ‰‹åŠ¨æ‰“å¹³ï¼Œæˆ‘è¿™ä¸€å¤©éƒ½åˆ«å¹²æ´»äº†ã€‚å¥½åŠï¼æ—¢ç„¶ã€ä¸­é—´ä»¶ã€åªæ˜¯æ‰¿è½½å­è·¯ç”±åŠŸèƒ½ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥åœ¨æ‰å¹³åŒ–è¿‡ç¨‹ä¸­ä¸è€ƒè™‘å®ƒã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> formatRouter = <span class=\"function\">(<span class=\"params\">routes, newRoutes = []</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  routes.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (item.children &amp;&amp; item.children.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">      formatRouter(item.children, newRoutes);</span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      newRoutes.push(item);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> newRoutes;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\">views.children = formatRouter(views.children);</span><br></pre></td></tr></table></figure>\n\n<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼Œé™¤äº†<em>é¦–é¡µ</em>å’Œ<em>ä¸»é¢˜3</em>é¡µé¢éƒ½è¿›è¡Œäº†ç¼“å­˜ã€‚</p>\n<p><img src=\"https://p5.ssl.qhimg.com/t013c3e43df8e602339.gif\" alt=\"Video_2022-05-18_160009.gif\"></p>\n<p><a href=\"https://github.com/mileOfSunshine/vue3-keep-alive-flat-router\">å®Œæ•´ä»£ç </a></p>\n<h2 id=\"æ–¹æ¡ˆäºŒ\"><a href=\"#æ–¹æ¡ˆäºŒ\" class=\"headerlink\" title=\"æ–¹æ¡ˆäºŒ\"></a>æ–¹æ¡ˆäºŒ</h2><p>æ–¹æ¡ˆä¸€çš„å®ç°ç›´æ¥æ˜äº†ï¼Œå´å­˜åœ¨å¾ˆå¤šå±€é™æ€§ã€‚ç‰¹åˆ«æ˜¯ã€ä¸­é—´ä»¶ã€æ–‡ä»¶ï¼ˆNestRouterView.vueï¼‰ï¼Œè¦æ˜¯æ‰¿è½½ç€ä¸šåŠ¡åŠŸèƒ½ï¼Œé‚£å°±ä¸èƒ½è¿™ä¹ˆç®€å•ç²—æš´è§£å†³äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹çœ‹æ–¹æ¡ˆäºŒçš„è§£æ³•ã€‚</p>\n<p>æ–¹æ¡ˆäºŒçš„å®ç°å¾—åŠ›äº3ä¸ªå‡½æ•°ï¼š</p>\n<ul>\n<li>findRouterWith</li>\n<li>getFileNameByFunContext</li>\n<li>getCachesByRoutes</li>\n</ul>\n<p><code>findRouterWith</code> ä»¥ã€ä¸­é—´ä»¶ã€ç»„ä»¶åä½œä¸ºæŸ¥è¯¢æ¡ä»¶æ¥è·å–æ‰€æœ‰ä»¥å…¶ä½œä¸ºè½½ä½“çš„é¡µé¢ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// æ‰¾åˆ°ä»¥ç»„ä»¶å name ä½œä¸ºâ€œä¸­é—´ä»¶â€çš„æ‰€æœ‰è·¯ç”±</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> findRouterWith = <span class=\"function\">(<span class=\"params\">name</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> fn = <span class=\"function\">(<span class=\"params\">routes, newRoutes = []</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    routes.forEach(<span class=\"function\">(<span class=\"params\">item</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (item.children &amp;&amp; item.children.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (getFileNameByFunContext(item.component.toString()) === name) &#123;</span><br><span class=\"line\">          newRoutes.push(item.children);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        fn(item.children, newRoutes);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> newRoutes.flat(<span class=\"literal\">Infinity</span>);</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> fn;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ç”±äºåœ¨ router.js ä¸­é…ç½®çš„ component æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥è·å–ã€ä¸­é—´ä»¶ã€ç»„ä»¶åï¼Œæ•…é‡‡ç”¨é€šè¿‡å‡½æ•°å†…å®¹æ¥è·å–ç»„ä»¶åã€‚</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  path: &quot;/&quot;,</span><br><span class=\"line\">  component: () =&gt; import(&quot;@/views/NestRouterView.vue&quot;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>component.toString()</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">function component() &#123;</span><br><span class=\"line\">      return __webpack_require__.e(&#x2F;*! import() *&#x2F; 4).then(__webpack_require__.bind(null, &#x2F;*! @&#x2F;views&#x2F;NestRouterView.vue *&#x2F; &quot;.&#x2F;src&#x2F;views&#x2F;NestRouterView.vue&quot;));</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n<p>é€šè¿‡è§‚å¯Ÿï¼Œæˆ‘ä»¬å‘ç°å¥½æå–çš„ç»„ä»¶åä½äºåŒå¼•å·ä¹‹é—´ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å…ˆé€šè¿‡æå–ç»„ä»¶è·¯å¾„ï¼Œç„¶åå†åŒ¹é…æ–‡ä»¶åã€‚å¦‚æœä½ æœ‰æ›´å¥½çš„å†™æ³•ä¹Ÿå¯ä»¥åœ¨è¯„è®ºåŒºå‘Šè¯‰æˆ‘ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é€šè¿‡å‡½æ•°å†…å®¹è·å–æ–‡ä»¶å</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> getFileNameByFunContext = <span class=\"function\">(<span class=\"params\">str</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [file = <span class=\"string\">&quot;&quot;</span>] = str.match(<span class=\"regexp\">/&quot;.+&quot;/</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> file.replace(<span class=\"regexp\">/(.*\\/)*([^.]+).*/gi</span>, <span class=\"string\">&quot;$2&quot;</span>);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\n<p><code>getCachesByRoutes</code> å‡½æ•°ä»¥è·¯ç”±æ•°ç»„å…¥å‚ï¼Œè¿”å›éœ€è¿›è¡Œç¼“å­˜çš„ä¸€ä¸ªæ•°ç»„ã€‚</p>\n<p>å‡½æ•°å…ˆæ˜¯å®šä¹‰äº†ä¸€ä¸ª <code>children</code> å˜é‡æ¥å­˜å‚¨ã€ä¸­é—´ä»¶ã€ï¼Œæ¥ç€è¿‡æ»¤æ‰è·¯ç”±ä¸­æ‰€æœ‰<strong>å«æœ‰å­é›†</strong>ï¼ˆå€ŸåŠ©äº†ã€ä¸­é—´ä»¶ã€ï¼‰æˆ–æ˜¯<strong>ä¸éœ€è¦ç¼“å­˜</strong>çš„é¡¹ï¼Œå°†å«æœ‰å­é›†é¡¹çš„å€¼å­˜å‚¨äº <code>children</code> ä¸­ï¼Œæœ€åçš„è¿”å›å€¼æ˜¯ç”±<strong>å·²è¿‡æ»¤è·¯ç”±</strong>å’Œã€ä¸­é—´ä»¶ã€é›†ç»„æˆã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// è·å–éœ€è¿›è¡Œç¼“å­˜çš„é¡µé¢</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">const</span> getCachesByRoutes = <span class=\"function\">(<span class=\"params\">routes = []</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> children = [];</span><br><span class=\"line\">  <span class=\"keyword\">const</span> caches = routes</span><br><span class=\"line\">    .filter(<span class=\"function\">(<span class=\"params\">o</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      <span class=\"comment\">// æœ‰childrenè¯´æ˜è¿›è¡Œäº†è·¯ç”±åµŒå¥—ï¼Œéœ€è®°å½•â€œä¸­é—´ä»¶â€</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> (o.children) &#123;</span><br><span class=\"line\">        children.push(o.component);</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      <span class=\"comment\">// è¿‡æ»¤æ‰â€œä¸­é—´ä»¶â€å’Œä¸éœ€è¦ç¼“å­˜çš„ç»„ä»¶</span></span><br><span class=\"line\">      <span class=\"keyword\">return</span> !o.children &amp;&amp; o.meta.keepAlive;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">    .map(<span class=\"function\">(<span class=\"params\">o</span>) =&gt;</span> o.name);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">if</span> (children.length &gt; <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// è·¯ç”±åµŒå¥—çš„ç»„ä»¶ä¹Ÿéœ€include</span></span><br><span class=\"line\">    children.forEach(<span class=\"function\">(<span class=\"params\">fun</span>) =&gt;</span> &#123;</span><br><span class=\"line\">      caches.push(getFileNameByFunContext(fun.toString()));</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> [...new <span class=\"built_in\">Set</span>(caches)]; <span class=\"comment\">// æ’é‡</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ä»¥ã€ä¸­é—´ä»¶ã€ï¼ˆNestRouterView.vueï¼‰ä¸ºä¾‹ï¼Œæ­¤æ—¶çš„ <code>NestRouterView</code> ä¸ä»…ä»…æ˜¯å®¹å™¨ï¼Œè¿˜æ‰¿è½½åŠŸèƒ½ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬çœ‹ <code>router.js</code> æ–‡ä»¶ï¼Œ<code>routes</code> æ¯”åŸæ¥å¤šäº†å±‚åµŒå¥—ï¼Œæƒ…å†µä¹Ÿå°±æ›´å¤æ‚ï¼›æ¥ç€ <code>findRouterWith</code> è·å–ä»¥ NestRouterView ä¸ºçˆ¶ç»„ä»¶çš„æ‰€æœ‰è·¯ç”±ï¼Œæœ€åé€šè¿‡ <code>getCachesByRoutes</code> æ¥è·å–éœ€åœ¨æœ¬ç»„ä»¶è¿›è¡Œç¼“å­˜çš„æ•°ç»„ã€‚</p>\n<p>router.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> routes = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    path: <span class=\"string\">&quot;/&quot;</span>,</span><br><span class=\"line\">    component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Layout.vue&quot;</span>),</span><br><span class=\"line\">    children: [</span><br><span class=\"line\">      ...... <span class=\"comment\">// åŒä¸Š</span></span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        path: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">        component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/NestRouterView.vue&quot;</span>),</span><br><span class=\"line\">        children: [</span><br><span class=\"line\">          ......<span class=\"comment\">// åŒä¸Š</span></span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            path: <span class=\"string\">&quot;&quot;</span>,</span><br><span class=\"line\">            component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/NestRouterView.vue&quot;</span>),</span><br><span class=\"line\">            children: [</span><br><span class=\"line\">              &#123;</span><br><span class=\"line\">                name: <span class=\"string\">&quot;Theme2-1&quot;</span>,</span><br><span class=\"line\">                path: <span class=\"string\">&quot;theme/2/1&quot;</span>,</span><br><span class=\"line\">                component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme2-1.vue&quot;</span>),</span><br><span class=\"line\">                meta: &#123;</span><br><span class=\"line\">                  title: <span class=\"string\">&quot;ä¸»é¢˜2-1&quot;</span>,</span><br><span class=\"line\">                  keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">              &#125;</span><br><span class=\"line\">            ]</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">];</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p>NestRouterView.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">fieldset</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;goBack&quot;</span>&gt;</span>è¿”å›<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">fieldset</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-slot</span>=<span class=\"string\">&quot;&#123; Component &#125;&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">:include</span>=<span class=\"string\">&quot;caches&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;Component&quot;</span> /&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> &#123; routes &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/router&quot;</span>;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> &#123; findRouterWith, getCachesByRoutes &#125; <span class=\"keyword\">from</span> <span class=\"string\">&quot;@/utils&quot;</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  name: <span class=\"string\">&quot;NestRouterView&quot;</span>,</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"function\"><span class=\"title\">setup</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"comment\">// æ‰¾åˆ°æ‰€æœ‰ä»¥ NestRouterView ç»„ä»¶ä½œä¸ºè·¯ç”±åµŒå¥—çš„é¡µé¢</span></span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> target = findRouterWith(<span class=\"string\">&quot;NestRouterView&quot;</span>)(routes);</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> caches = getCachesByRoutes(target);</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> goBack = <span class=\"function\">() =&gt;</span> <span class=\"built_in\">window</span>.history.back();</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\">      caches,</span><br><span class=\"line\">      goBack,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://p4.ssl.qhimg.com/t01ff1538703210bf5b.png\" alt=\"image.png\"></p>\n<p><img src=\"https://p1.ssl.qhimg.com/t01abe37ab73bae5a93.png\" alt=\"æœ€ç»ˆçš„caches\"></p>\n<p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼Œé™¤äº†<em>é¦–é¡µ</em>å’Œ<em>ä¸»é¢˜3</em>é¡µé¢éƒ½è¿›è¡Œäº†ç¼“å­˜ã€‚ä½†æœ‰ä¸ªåœ°æ–¹æ¯”è¾ƒæ€ªå¼‚ï¼Œå°±æ˜¯<em>ä¸»é¢˜2-1</em>é¡µé¢å‡ºç°äº†ä¸¤ä¸ª ã€è¿”å›ã€‘åŠŸèƒ½ã€‚é‚£æ˜¯å› ä¸º <code>NestRouterView</code> åµŒå¥—æ‰€è‡´ï¼Œä½ å¯ä»¥é€šè¿‡è®¾ç½® prop çš„æ–¹å¼æ¥è¾¾åˆ°é¡µé¢ç»Ÿä¸€ã€‚</p>\n<p><img src=\"https://p5.ssl.qhimg.com/t0182688d79af5139f7.gif\" alt=\"ok.gif\"></p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">    name: <span class=\"string\">&quot;Theme2-1&quot;</span>,</span><br><span class=\"line\">    path: <span class=\"string\">&quot;theme/2/1&quot;</span>,</span><br><span class=\"line\">    component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&quot;@/views/Theme2-1.vue&quot;</span>),</span><br><span class=\"line\">    props: <span class=\"function\">() =&gt;</span> (&#123; <span class=\"attr\">showBackBtn</span>: <span class=\"literal\">false</span> &#125;),</span><br><span class=\"line\">    meta: &#123;</span><br><span class=\"line\">      title: <span class=\"string\">&quot;ä¸»é¢˜2-1&quot;</span>,</span><br><span class=\"line\">      keepAlive: <span class=\"literal\">true</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  name: <span class=\"string\">&quot;NestRouterView&quot;</span>,</span><br><span class=\"line\">  props: &#123;</span><br><span class=\"line\">    showBackBtn: &#123;</span><br><span class=\"line\">      type: <span class=\"built_in\">Boolean</span>,</span><br><span class=\"line\">      <span class=\"keyword\">default</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p><img src=\"https://p0.ssl.qhimg.com/t01e18fa49273e3cd2b.png\" alt=\"image.png\"></p>\n<p><a href=\"https://github.com/mileOfSunshine/vue3-keep-alive-nest-router\">å®Œæ•´ä»£ç </a></p>\n<h2 id=\"å°ç»“\"><a href=\"#å°ç»“\" class=\"headerlink\" title=\"å°ç»“\"></a>å°ç»“</h2><p>æ–¹æ¡ˆä¸€æ˜¯ç›®å‰äº’è”ç½‘ä¸­æœ€å¸¸è§çš„è§£æ³•ï¼Œä¸ªäººè§‰å¾—è¿˜æ˜¯å­˜åœ¨è¾ƒå¤§çš„å±€é™æ€§ã€‚æ–¹æ¡ˆäºŒæ˜¯å°ç¼–åœ¨é¡¹ç›®å¼€å‘è¿‡ç¨‹ä¸­æ‘¸ç´¢å‡ºçš„è§£æ³•ï¼Œå¯æ‰©å±•è¡Œå¼ºã€‚å¼ºæ¨ï¼ï¼ï¼è‹¥ä½ è¿˜æœ‰æ›´å¥½çš„æ–¹æ¡ˆï¼Œå¯åˆ†äº«äºæˆ‘ã€‚</p>\n<p>è‹¥ä½ åœ¨ä½¿ç”¨ keep-alive ä¸­æœ‰ç–‘æƒ‘ï¼Œå¯ç§»æ­¥å§Šå¦¹ç¯‡ã€Š<a href=\"https://mileofsunshine.github.io/2022/05/11/2022-05-11-how-to-use-keep-alive/\">çœ‹keep-aliveå¦‚ä½•åœ¨é¡¹ç›®ä¸­å¤±æ•ˆ</a>ã€‹</p>\n<p>çœ‹è¿‡å§Šå¦¹ç¯‡çš„æœ‹å‹å¯èƒ½è®°å¾—å°ç¼–è¯´è¿‡ï¼Œvue-router çš„ name å±æ€§æ˜¯ç”¨äºè·¯ç”±è·³è½¬ï¼Œä¸æ˜¯ç”¨äº keep-aliveï¼Œä½†åœ¨æœ¬æ–‡çš„æ–¹æ³•å´å–äº† vue-router çš„ name ç”¨äº include ä¸­ã€‚è¿™æ˜¯å› ä¸ºå°ç¼–ç»Ÿä¸€äº†ç»„ä»¶å’Œ vue-router çš„ nameï¼Œæ›´æœ‰åˆ©äºé¡¹ç›®çš„ç»´æŠ¤ã€‚</p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2022/05/19/2022-05-19-keep-alive/\">https://mileofsunshine.github.io/2022/05/19/2022-05-19-keep-alive/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["Vue3"]},{"title":"çœ‹keep-aliveå¦‚ä½•åœ¨é¡¹ç›®ä¸­å¤±æ•ˆ","url":"http://example.com/2022/05/11/2022-05-11-how-to-use-keep-alive/","content":"<p><img src=\"https://p4.ssl.qhimg.com/t012fd27e9ca230afe2.jpg\" alt=\"banner\"></p>\n<p>keep-alive æ˜¯vueå†…ç½®çš„ä¸€ä¸ªç»„ä»¶ï¼Œå…¶ä½œç”¨æ˜¯ç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶ã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸€èˆ¬åœ¨ç»„ä»¶è¿›è¡Œåˆ‡æ¢æ—¶ï¼Œé»˜è®¤ä¼šè¿›è¡Œé”€æ¯ã€‚è‹¥æƒ³åœ¨ç»„ä»¶åˆ‡æ¢æ—¶ä¿å­˜åŸæœ‰çš„çŠ¶æ€ï¼Œé‚£å°±éœ€è¦åˆ©ç”¨ keep-alive æ¥å®ç°ã€‚</p>\n<p>keep-alive çš„ç”¨æ³•ä¹Ÿä¸å¤æ‚ï¼Œ<a href=\"https://v3.cn.vuejs.org/api/built-in-components.html#keep-alive\">å®˜ç½‘</a>ä¹Ÿåšäº†è¯´æ˜ï¼Œå¹¶ç»™äº†ç¤ºä¾‹ã€‚ä½†æœ‰æ—¶è§„è§„çŸ©çŸ©çš„ç”¨äº†å°±æ˜¯ä¸ç”Ÿæ•ˆã€‚ç›¸ä¿¡å¤§å®¶ä¹Ÿä¼šæœ‰è¿™æ ·çš„çƒ¦æ¼ï¼Œæ¥ä¸‹æ¥å°ç¼–å°±åˆ—ä¸¾ä¸‹å®¹æ˜“é€ æˆ keep-alive å¤±æ•ˆçš„å‡ ä¸ªç‚¹ã€‚</p>\n<h2 id=\"æ¡ˆä¾‹\"><a href=\"#æ¡ˆä¾‹\" class=\"headerlink\" title=\"æ¡ˆä¾‹\"></a>æ¡ˆä¾‹</h2><ol>\n<li>å…³é”®è¯æ²¡æ‹¿æå¥½ï¼Œä¸€è¡Œæ³¨é‡Šéƒ½èƒ½è®©ä½ å¿™æ´»ä¸€ä¸Šåˆã€‚</li>\n</ol>\n<p><code>&lt;keep-alive&gt;</code> æ˜¯ç”¨åœ¨å…¶<strong>ä¸€ä¸ªç›´å±</strong>çš„å­ç»„ä»¶è¢«åˆ‡æ¢çš„æƒ…å½¢ã€‚â€œ<strong>ä¸€ä¸ª</strong>â€ã€â€œ<strong>ç›´å±</strong>â€è¿™ä¸¤ç‚¹å¾ˆå¥½ç†è§£ï¼Œå´å®¹æ˜“è¢«å¿½è§†ã€‚æœ‰æ—¶ä¸ºäº†æé«˜ä»£ç å¯è¯»æ€§ï¼Œæˆ‘ä»¬ä¼šåšä¸ªæ³¨é‡Šã€‚è€Œè¿™ä¸ªæ³¨é‡Šä½ç½®è¦æ˜¯ä¸å¯¹ï¼Œè¿åäº†â€œ<strong>ä¸€ä¸ª</strong>â€åŸåˆ™ï¼Œå°±èƒ½é€ æˆ <code>keep-alive</code> å¤±æ•ˆã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--æ‰å‘ï¼Œå¤±æ•ˆ--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"comment\">&lt;!-- æ³¨é‡Šä¹Ÿä¼šæ˜¯keep-aliveå¤±æ•ˆï¼Œåˆ é™¤æœ¬æ¡æ³¨é‡ŠåŠŸèƒ½æ­£å¸¸ --&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;view&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">component</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>å…³äºâ€œ<strong>ç›´å±</strong>â€ï¼Œæˆ–è®¸ä½ èƒ½æ‹èƒ¸è„¯å‘Šè¯‰æˆ‘ä½ ä¸å¯èƒ½å› ä¸ºè¿™ç‚¹ç¿»è½¦ã€‚æˆ‘æ‰¿è®¤åœ¨åˆšå¼€å§‹å¼€å‘é¡¹ç›®æ—¶ï¼Œå¼€å‘è€…éƒ½å¤´è„‘æ¸…æ™°ï¼ŒåŠ ä¸Šæœ‰å®˜æ–¹æ–‡æ¡£çš„è¾…åŠ©èƒ½å¾ˆå¥½çš„è§„é¿æ‰é”™è¯¯ç‚¹ã€‚ä½†éšç€é¡¹ç›®æˆ˜çº¿æ‹‰é•¿ï¼Œå¿«é€Ÿçš„éœ€æ±‚å˜æ›´è¿­ä»£ï¼Œéš¾ä¿ä½ åœ¨å®ç°åŠŸèƒ½è¿‡ç¨‹ä¸­ä¼šä¸å°å¿ƒæ‰å…¥äº†â€œ<strong>ç›´å±</strong>â€çš„å‘ä¸­ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--æ‰å‘ï¼Œå¤±æ•ˆ--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin: 10px;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;view&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">component</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"2\">\n<li><code>&lt;keep-alive&gt;</code> ç›´å±å­ç»„ä»¶ä¸­ä½¿ç”¨äº† <code>v-for</code>ã€‚</li>\n</ol>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!--å¤±æ•ˆ--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">v-for</span>=<span class=\"string\">&quot;tab in tabs&quot;</span> <span class=\"attr\">:key</span>=<span class=\"string\">&quot;tab&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;`theme$&#123;tab&#125;`&quot;</span> <span class=\"attr\">v-if</span>=<span class=\"string\">&quot;tab === curTab&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--æ­£å¸¸--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;`theme$&#123;curTab&#125;`&quot;</span>/&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<ol start=\"3\">\n<li>ä½ ç»™æˆ‘çš„ï¼Œå´ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€‚</li>\n</ol>\n<p>è¿™é‡Œå°±æ¶‰åŠåˆ° keep-alive çš„ä¿© propï¼ˆ<code>include</code>Â å’ŒÂ <code>exclude</code>ï¼‰ã€‚ç®€å•ä»‹ç»ä¸‹è¿™ä¿© prop çš„ç±»å‹ï¼š</p>\n<blockquote>\n<ul>\n<li>  <code>include</code>Â -Â <code>string | RegExp | Array</code>ã€‚åªæœ‰åç§°åŒ¹é…çš„ç»„ä»¶ä¼šè¢«ç¼“å­˜ã€‚</li>\n<li>  <code>exclude</code>Â -Â <code>string | RegExp | Array</code>ã€‚ä»»ä½•åç§°åŒ¹é…çš„ç»„ä»¶éƒ½ä¸ä¼šè¢«ç¼“å­˜ã€‚</li>\n</ul>\n</blockquote>\n<p>ã€ä½ ç»™æˆ‘çš„ï¼Œå´ä¸æ˜¯æˆ‘æƒ³è¦çš„ã€å¤§æ¦‚æœ‰è¿™ä¸‰ç§æƒ…å½¢ï¼š</p>\n<ul>\n<li><code>include</code>ï¼ˆ<code>exclude</code>ï¼‰è®¾ç½®æ­£ç¡®ï¼Œä½¿ç”¨äº†åŠ¨æ€ç»„ä»¶ä½†å¹¶æœªåœ¨é¡µé¢ä¸­å¼•å…¥ç›¸å…³ç»„ä»¶ï¼›</li>\n<li>æ‰¾é”™å¯¹è±¡äº†ï¼Œæ˜“å‘åœ¨ <code>keep-alive</code> ç»“åˆ <code>router-view</code> ä½¿ç”¨çš„åœºæ™¯ï¼Œä½¿ç”¨äº† <code>vue-router</code>çš„ name å±æ€§æ¥è®¾ç½®<code>include</code>ï¼ˆ<code>exclude</code>ï¼‰ï¼›</li>\n<li><code>include</code>ï¼ˆ<code>exclude</code>ï¼‰ç»™çš„å€¼ä¸ç»„ä»¶è‡ªèº«çš„ <code>name</code> æˆ–æ˜¯å±€éƒ¨æ³¨å†Œåç§°ä¸åŒ¹é…ï¼Œå®šä¹‰æ—¶æ˜¯å°é©¼å³°å†™æ³•ï¼Œä½¿ç”¨æ—¶æ˜¯å¤§é©¼å³°å†™æ³•ï¼›</li>\n</ul>\n<p>è¿™ä¸‰ç‚¹ä¸­æœ€å®¹æ˜“çŠ¯é”™çš„å°±æ˜¯ç¬¬äºŒç‚¹ï¼Œæ‰€ä»¥é‡è¦çš„äº‹æƒ…è¦å¼ºè°ƒä¸‹ã€‚</p>\n<blockquote>\n<p>vue-router çš„ name å±æ€§æ˜¯ç”¨äºè·¯ç”±è·³è½¬!!!</p>\n</blockquote>\n<ol start=\"4\">\n<li>ç”¨é€—å·åˆ†éš”å­—ç¬¦ä¸²æ¥è¡¨ç¤º <code>include</code> å’Œ <code>exclude</code>æ—¶ï¼Œå› å¤šä½™ç©ºæ ¼å¯¼è‡´å¤±æ•ˆã€‚</li>\n</ol>\n<p>ä¸ºé˜²æ­¢è¿™ç§é”™è¯¯å‘ç”Ÿï¼Œæ¨èä½¿ç”¨å¦å¤–ä¸¤ç§æ–¹å¼è¡¨ç¤ºã€‚æ­£åˆ™è¡¨è¾¾å¼æˆ–ä¸€ä¸ªæ•°ç»„ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--é€—å·åˆ†éš”å­—ç¬¦ä¸² å¤±æ•ˆ--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Home, About&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;view&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">component</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!--é€—å·åˆ†éš”å­—ç¬¦ä¸² æ­£å¸¸--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">include</span>=<span class=\"string\">&quot;Home,About&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;view&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">component</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">:include</span>=<span class=\"string\">&quot;/Home|About/&quot;</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;view&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">component</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">&lt;!-- ä½¿ç”¨æ•°ç»„ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">:include</span>=<span class=\"string\">&quot;[&#x27;Home&#x27;, &#x27;About&#x27;]&quot;</span>&gt;</span></span><br><span class=\"line\"> <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;view&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">component</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n\n<ol start=\"5\">\n<li>åœ¨ <code>Vue3</code> ä¸­å±€éƒ¨æ³¨å†ŒåŒ¿åç»„ä»¶åï¼Œç¼“å­˜å¤±æ•ˆã€‚</li>\n</ol>\n<blockquote>\n<p><code>include</code>Â å’ŒÂ <code>exclude</code> åŒ¹é…é¦–å…ˆæ£€æŸ¥ç»„ä»¶è‡ªèº«çš„ name é€‰é¡¹ï¼Œå¦‚æœ name é€‰é¡¹ä¸å¯ç”¨ï¼Œåˆ™åŒ¹é…å®ƒçš„å±€éƒ¨æ³¨å†Œåç§° (çˆ¶ç»„ä»¶ components é€‰é¡¹çš„é”®å€¼)ã€‚</p>\n</blockquote>\n<p>æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„æ„æ€ï¼Œåªæœ‰ç»„ä»¶è‡ªèº« name ä¸å¯ç”¨ï¼ˆæˆ‘çš„ç†è§£æ˜¯å°±æœªæŒ‡å®š nameï¼‰ï¼Œæ‰åŒ¹é…å®ƒçš„å±€éƒ¨æ³¨å†Œåç§°ã€‚è¿™é‡Œæˆ‘åœ¨Vue2 å’Œ Vue3éƒ½åšäº†è¯•éªŒï¼Œå‘ç°ä¸¤è€…è¡¨ç°ä¸åŒã€‚</p>\n<p>Vue2å†™æ³•ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">button</span> @<span class=\"attr\">click</span>=<span class=\"string\">&quot;switchTheme&quot;</span>&gt;</span>åˆ‡æ¢ä¸»é¢˜<span class=\"tag\">&lt;/<span class=\"name\">button</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">h4</span>&gt;</span>ç›´å±çš„å­ç»„ä»¶åˆ‡æ¢ï¼Œå­ç»„ä»¶è¢«ç¼“å­˜<span class=\"tag\">&lt;/<span class=\"name\">h4</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">:include</span>=<span class=\"string\">&quot;[&#x27;a1&#x27;, &#x27;a2&#x27;]&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;`a$&#123;curTab&#125;`&quot;</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">const</span> Theme1 = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// name: &#x27;Theme1&#x27;,</span></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">  template: `<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>ä¸»é¢˜1ã€</span><span class=\"template-variable\">&#123;&#123; <span class=\"name\">date</span> &#125;&#125;</span><span class=\"xml\">ã€‘<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>`,</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      date: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">const</span> Theme2 = &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"comment\">// name: &#x27;Theme2&#x27;,</span></span></span><br><span class=\"line\"><span class=\"handlebars\"><span class=\"xml\">  template: `<span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>ä¸»é¢˜2ã€</span><span class=\"template-variable\">&#123;&#123; <span class=\"name\">date</span> &#125;&#125;</span><span class=\"xml\">ã€‘<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span>`,</span></span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      date: <span class=\"keyword\">new</span> <span class=\"built_in\">Date</span>()</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  components: &#123; <span class=\"string\">&#x27;a1&#x27;</span>: Theme1, <span class=\"string\">&#x27;a2&#x27;</span>: Theme2 &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\">      curTab: 2,</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  methods: &#123;</span><br><span class=\"line\"><span class=\"javascript\">    switchTheme: <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\"></span>) </span>&#123;</span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"built_in\">this</span>.curTab += <span class=\"number\">1</span></span></span><br><span class=\"line\"><span class=\"javascript\">      <span class=\"keyword\">if</span> (<span class=\"built_in\">this</span>.curTab &gt; <span class=\"number\">2</span>) &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">        <span class=\"built_in\">this</span>.curTab = <span class=\"number\">1</span></span></span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://p3.ssl.qhimg.com/t0151aaba2eb41530ee.gif\" alt=\"Video_2022-05-13_150716.gif\"></p>\n<p><a href=\"https://codepen.io/mileofsunshine/pen/jOZMQBr\">ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ</a></p>\n<p>Vue3å†™æ³•ï¼Œç›¸åŒéƒ¨åˆ†çš„ä»£ç å·²çœç•¥</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"comment\">&lt;!--åŒä¸Š--&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> &#123; ref &#125; <span class=\"keyword\">from</span> <span class=\"string\">&#x27;vue&#x27;</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">const</span> Theme1 = &#123;&#125; <span class=\"comment\">// åŒä¸Š</span></span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">const</span> Theme2 = &#123;&#125; <span class=\"comment\">// åŒä¸Š</span></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  components: &#123; <span class=\"string\">&#x27;a1&#x27;</span>: Theme1, <span class=\"string\">&#x27;a2&#x27;</span>: Theme2 &#125;,</span></span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"function\"><span class=\"title\">setup</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> curTab = ref(<span class=\"number\">2</span>)</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">const</span> switchTheme = <span class=\"function\">() =&gt;</span> &#123;</span></span><br><span class=\"line\">      curTab.value += 1</span><br><span class=\"line\">      if (curTab.value &gt; 2) &#123;</span><br><span class=\"line\">        curTab.value = 1</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\">      curTab,</span><br><span class=\"line\">      switchTheme</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://p2.ssl.qhimg.com/t018cd776ed9e3e4d71.gif\" alt=\"2.gif\"></p>\n<p><a href=\"https://codesandbox.io/s/vue3xia-de-keep-alivezhi-includeshi-li-iwocbh?file=/src/App.vue\">ç‚¹å‡»æŸ¥çœ‹æ•ˆæœ</a></p>\n<p>é€šè¿‡å¯¹æ¯”æˆ‘ä»¬å¯ä»¥å‘ç°é™¤äº†å›  Vue ç‰ˆæœ¬é€ æˆçš„å†™æ³•ä¸åŒå¤–ï¼ŒäºŒè€…å¹¶æ— å·®å¼‚ã€‚ä½†è¿è¡Œåè¡¨ç°å‡ºåœ¨ Vue2 ä¸­<code>keep-alive</code> åŠŸèƒ½æ­£å¸¸ï¼Œåœ¨ Vue3 ä¸­å´å¤±æ•ˆã€‚è¦æ˜¯ä½ çš„é¡¹ç›®æ˜¯ç”¨ Vue3 å¼€å‘çš„ï¼Œä½ å°±è€è€å®å®çš„ç»™ç»„ä»¶æŒ‡å®š name å§ã€‚</p>\n<ol start=\"6\">\n<li>åŒ¿åç»„ä»¶é€ æˆ <code>keep-alive</code> å¤±æ•ˆã€‚</li>\n</ol>\n<p>åŒ¿åç»„ä»¶å°±æ˜¯æœªæŒ‡å®š name çš„ç»„ä»¶ï¼Œä½†ä½ è¦æ˜¯é€šè¿‡å±€éƒ¨ï¼ˆå…¨å±€ï¼‰ç»„ä»¶æ³¨å†Œåï¼Œå®ƒå°±æ˜¯å…·åç»„ä»¶äº†ã€‚é¡¹ç›®ä¸­å®¹æ˜“å‡ºç°åŒ¿åç»„ä»¶çš„å°±æ˜¯Vueé¡µé¢ï¼Œ<code>keep-alive</code> ç»“åˆ <code>router-view</code> ä½¿ç”¨å°±å®¹æ˜“è®©ä½ å›°åœ¨vue-router çš„ name å±æ€§ä¸­ï¼Œåˆ‡è®°è¿™ä¸ª name å±æ€§åªç”¨äºè·¯ç”±è·³è½¬ã€‚</p>\n<p>vue2å†™æ³•ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>vue3å†™æ³•ï¼š</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-slot</span>=<span class=\"string\">&quot;&#123; Component &#125;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">transition</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;Component&quot;</span> /&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">transition</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<ol start=\"7\">\n<li>å¤šçº§è·¯ç”±å¯¼è‡´ç¼“å­˜å¤±æ•ˆ</li>\n</ol>\n<p>å¤šçº§è·¯ç”±ä¸€èˆ¬å‡ºç°åœ¨åŠŸèƒ½ç¹æ‚çš„åå°ç®¡ç†ç³»ç»Ÿä¸­ï¼Œä¸ºæé«˜ç³»ç»Ÿæ€§èƒ½å’Œæ”¹å–„ç”¨æˆ·ä½“éªŒï¼Œäº§å“å¯èƒ½ä¼šè¦æ±‚å¯¹é¡µé¢è¿›è¡Œç¼“å­˜ä»¥è¾¾åˆ°å¿«é€Ÿåœ°åœ¨é¡µé¢é—´æ¥å›åˆ‡æ¢ã€‚keep-alive è¿›è€Œåœ¨ç®¡ç†ç³»ç»Ÿä¸­å´­éœ²å¤´è§’ï¼Œä½†å…¶è¡¨ç°æå…¶ä¸ç¨³å®šï¼Œç€å®è®©äººæ‘¸ä¸ç€å¤´è„‘ã€‚</p>\n<p>Layout.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span> <span class=\"attr\">v-slot</span>=<span class=\"string\">&quot;&#123; Component &#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">transition</span> <span class=\"attr\">mode</span>=<span class=\"string\">&quot;out-in&quot;</span> <span class=\"attr\">name</span>=<span class=\"string\">&quot;fade-transform&quot;</span>&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;<span class=\"name\">keep-alive</span> <span class=\"attr\">:include</span>=<span class=\"string\">&quot;[&#x27;theme1&#x27;, &#x27;theme2&#x27;]&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">component</span> <span class=\"attr\">:is</span>=<span class=\"string\">&quot;Component&quot;</span>/&gt;</span></span><br><span class=\"line\">      <span class=\"tag\">&lt;/<span class=\"name\">keep-alive</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">transition</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">router-view</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>NestRouterView.vue</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">router-view</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>router.js</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> routes = [</span><br><span class=\"line\">  &#123;</span><br><span class=\"line\">    path: <span class=\"string\">&#x27;/&#x27;</span>,</span><br><span class=\"line\">    component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&#x27;@/views/Layout.vue&#x27;</span>),</span><br><span class=\"line\">    children: [</span><br><span class=\"line\">      &#123;</span><br><span class=\"line\">        name: <span class=\"string\">&#x27;theme&#x27;</span>,</span><br><span class=\"line\">        path: <span class=\"string\">&#x27;&#x27;</span>,</span><br><span class=\"line\">        component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&#x27;@/views/NestRouterView.vue&#x27;</span>),</span><br><span class=\"line\">        children: [</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            name: <span class=\"string\">&#x27;theme1&#x27;</span>,</span><br><span class=\"line\">            path: <span class=\"string\">&#x27;theme/1&#x27;</span>,</span><br><span class=\"line\">            component: <span class=\"function\">() =&gt;</span> <span class=\"keyword\">import</span>(<span class=\"string\">&#x27;@/views/Theme1.vue&#x27;</span>),</span><br><span class=\"line\">            meta: &#123;</span><br><span class=\"line\">              title: <span class=\"string\">&#x27;ä¸»é¢˜1&#x27;</span>,</span><br><span class=\"line\">              keepAlive: <span class=\"literal\">true</span>,</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">        ]</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">]</span><br></pre></td></tr></table></figure>\n\n<p>è¿™é‡Œå¤šçº§è·¯ç”±ç¼“å­˜å¤±æ•ˆçš„åŸå› æ˜¯å€ŸåŠ©äº†ã€ç©ºç»„ä»¶ã€ï¼ˆNestRouterView.vueï¼‰ã€‚å…³äºç¼“å­˜çš„è®¾ç½®ä¹Ÿä»…é™ç”Ÿæ•ˆäºäºŒçº§è·¯ç”±ä¸­ï¼Œä¸‰çº§è·¯ç”±ä¸­å¹¶æœªæ¶‰åŠåˆ° keep-aliveï¼Œä¹Ÿå°±æ— ä»è°ˆåŠå¤±æ•ˆä¸€è¯´ã€‚å¦‚ä½•è§£å†³å¤šçº§è·¯ç”±ç¼“å­˜å¤±æ•ˆé—®é¢˜ï¼Œè¯·ç§»æ­¥å°ç¼–çš„å¦ä¸€ç¯‡æ–‡ç« <a href=\"https://mileofsunshine.github.io/2022/05/19/2022-05-19-keep-alive/\">vueå¤šçº§è·¯ç”±ç¼“å­˜(keep-alive)å¤±æ•ˆçš„è§£å†³æ–¹æ¡ˆ</a>ã€‚</p>\n<ol start=\"8\">\n<li><code>&lt;keep-alive&gt;</code>Â ä¸ä¼šåœ¨å‡½æ•°å¼ç»„ä»¶ä¸­æ­£å¸¸å·¥ä½œï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰ç¼“å­˜å®ä¾‹ã€‚</li>\n</ol>\n<p>å‡½æ•°å¼ç»„ä»¶åªæ˜¯å‡½æ•°ï¼Œæ— çŠ¶æ€ (æ²¡æœ‰<a href=\"https://cn.vuejs.org/v2/api/#%E9%80%89%E9%A1%B9-%E6%95%B0%E6%8D%AE\">å“åº”å¼æ•°æ®</a>)ï¼Œä¹Ÿæ— å®ä¾‹ (åœ¨vue2ä¸­ï¼Œæ²¡æœ‰Â <code>this</code>Â ä¸Šä¸‹æ–‡)ã€‚</p>\n<p>ä»¥ä¸Šæ˜¯ç›®å‰å°ç¼–æ‰€çŸ¥çš„8ç§å¤±æ•ˆåœºæ™¯ã€‚åªæœ‰è§„é¿æ‰å¤±æ•ˆç‚¹ï¼Œæ‰èƒ½çœŸæ­£ç”¨å¥½ <code>keep-alive</code>ã€‚</p>\n<h2 id=\"å°ç»“\"><a href=\"#å°ç»“\" class=\"headerlink\" title=\"å°ç»“\"></a>å°ç»“</h2><ul>\n<li><code>include</code>Â å’ŒÂ <code>exclude</code> æ¨èä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–ä¸€ä¸ªæ•°ç»„æ¥è¡¨ç¤ºï¼›</li>\n<li>éœ€è¦ç¼“å­˜çš„ç»„ä»¶éƒ½å†™ <code>name</code> å±æ€§ï¼Œæœç»åŒ¿åç»„ä»¶ï¼›</li>\n<li>è®¤æ¸… <code>keep-alive</code> å’Œ <code>vue-router</code>çš„å…³ç³»ï¼Œæœç»ä¹±ç”¨ <code>name</code>ï¼›</li>\n<li>é¢å¯¹å¤šå±‚ <code>router-view</code> åµŒå¥—ï¼Œæ‰¾å‡† <code>keep-alive</code> ä½ç½®ï¼›</li>\n</ul>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2022/05/11/2022-05-11-how-to-use-keep-alive/\">https://mileofsunshine.github.io/2022/05/11/2022-05-11-how-to-use-keep-alive/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["Vue3"]},{"title":"æ‰‹æŠŠæ‰‹æ•™ä½ æ­å»ºä¸€ä¸ªåŸºäº sourcegraph ä»£ç æœç´¢ç½‘ç«™","url":"http://example.com/2021/03/26/2021-03-26-about-sourcegraph/","content":"<p>ç°æœ‰ä¼ä¸šçš„ä»£ç ä¸€èˆ¬éƒ½æ˜¯æ‰˜ç®¡åœ¨ GitLab ä¸Šï¼Œå…¶ç†ç”±ï¼Œæ— éæ˜¯å…è´¹ã€å¯ä»¥éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œæ‰€æœ‰ä¿¡æ¯éƒ½æŒæ¡åœ¨è‡ªå·±æ‰‹ä¸­ï¼Œéå¸¸é€‚åˆå›¢é˜Ÿå†…éƒ¨åä½œã€‚è€Œ Github è™½ä¹Ÿè‡´åŠ›äºå…è´¹æ‰˜ç®¡å¼€æºä»£ç ï¼Œä½†å¦‚éœ€å»ºç«‹ç§æœ‰ä»“åº“å°±éœ€ä»˜è´¹ï¼Œçœ‹åˆ°ä»˜è´¹ä¸¤å­—ï¼Œå¾ˆå¤šäººéƒ½æœ›è€Œå´æ­¥ã€‚ä½†åœ¨ä»£ç æœç´¢æ–¹é¢ï¼ŒGithub åšçš„æ¯” GitLab ç²¾å½©ã€‚</p>\n<p>å¦‚ä½•å¼¥è¡¥ GitLab åœ¨æ™ºèƒ½æœç´¢æ–¹é¢çš„ç¼ºæ†¾å‘¢ï¼Œç¬”è€…æƒ³æ¨èä¸ªå·¥å…·ç»™ä½  â€”â€”â€” <a href=\"https://about.sourcegraph.com/get-started\">Sourcegraph</a>ï¼Œä¸€æ¬¾å¼€æºçš„ä»£ç æœç´¢æµè§ˆå·¥å…·ã€‚æ£€ç´¢é€Ÿåº¦ä¹Ÿæ˜¯æ¯«ç§’çº§çš„ã€‚</p>\n<p>å¦‚ä½•æ­å»ºå‘¢ï¼Ÿä½ å¬æˆ‘å¨“å¨“é“æ¥ã€‚ğŸ¥°</p>\n<p><img src=\"https://p5.ssl.qhimg.com/t0139aea3fa431d9ea6.png\"></p>\n<a id=\"more\"></a>\n\n<blockquote>\n<p>ğŸ’¡å°è´´å£«ï¼š<br>æœ¬æ–‡æ˜¯åœ¨ä»¥ä¸‹ç¯å¢ƒä¸­è¿›è¡Œå®è·µçš„ã€‚</p>\n<p>æ“ä½œç³»ç»Ÿï¼šLinux<br>ç¯å¢ƒè¦æ±‚ï¼šå®‰è£…äº† docker</p>\n</blockquote>\n<h2 id=\"ğŸ› ï¸å®‰è£…-Sourcegraph\"><a href=\"#ğŸ› ï¸å®‰è£…-Sourcegraph\" class=\"headerlink\" title=\"ğŸ› ï¸å®‰è£… Sourcegraph\"></a>ğŸ› ï¸å®‰è£… Sourcegraph</h2><p>ç›®å‰å®˜æ–¹å°±æä¾›äº†ä¸€ä¸ªä½¿ç”¨ Docker å®‰è£…çš„ç¤ºä¾‹ï¼Œå‘½ä»¤ä¹Ÿæ˜¯ç›¸å½“ç®€çŸ­ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run --publish 7080:7080 --publish 127.0.0.1:3370:3370 --rm --volume ~/.sourcegraph/config:/etc/sourcegraph --volume ~/.sourcegraph/data:/var/opt/sourcegraph sourcegraph/server:3.26.0</span><br></pre></td></tr></table></figure>\n\n<p>ç¬”è€…å°†å…¶è¿›è¡Œäº†ä¼˜åŒ–å¤„ç†ï¼Œä¸ºå®¹å™¨æŒ‡å®šäº†ä¸ªåç§°ï¼Œæ›´æ¢äº†ä¸¤ä¸ªæœ¬æœºç«¯å£ï¼Œä»¥åå°æ¨¡å¼å¯åŠ¨å®¹å™¨ï¼Œæ–¹ä¾¿åç»­è¯´æ˜ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d \\</span><br><span class=\"line\"> --name sgdev2 \\</span><br><span class=\"line\"> --publish 27080:7080 \\</span><br><span class=\"line\"> --publish 127.0.0.1:23370:3370 \\</span><br><span class=\"line\"> --rm \\</span><br><span class=\"line\"> --volume ~/.sourcegraph/config:/etc/sourcegraph \\</span><br><span class=\"line\"> --volume ~/.sourcegraph/data:/var/opt/sourcegraph \\</span><br><span class=\"line\"> sourcegraph/server:3.26.0</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Usageï¼š<code>docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</code> åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤</p>\n</blockquote>\n<ul>\n<li><code>-d/--detach</code>ï¼šåå°æ¨¡å¼å¯åŠ¨ä¸€ä¸ªå®¹å™¨</li>\n<li><code>--name</code>ï¼šä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°</li>\n<li><code>--rm</code>ï¼šé€€å‡ºæ—¶è‡ªåŠ¨ç§»é™¤å®¹å™¨</li>\n<li><code>-p/--publish</code>ï¼šæŒ‡å®šç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£ã€‚å…³äºç«¯å£æ˜ å°„çš„å…·ä½“è¯´æ˜ï¼Œå¯å‚è€ƒæ–‡ç« <a href=\"https://blog.csdn.net/qq_29994609/article/details/51730640\">Dockerç«¯å£æ˜ å°„</a>ã€‚å®˜æ–¹ç¤ºä¾‹ä¸­å°±æ˜¯å°†æœ¬æœºçš„ä¸¤ä¸ªç«¯å£7080å’Œ3370æ˜ å°„åˆ°å®¹å™¨çš„ç«¯å£7080å’Œ3370ä¸Šï¼Œè‹¥æ˜¯æœ¬æœºç«¯å£7080å’Œ3370è¢«å ç”¨ï¼Œä¹Ÿå¯æ›´æ”¹ä¸ºæœªå ç”¨çš„ç«¯å£å·ï¼Œä¾‹å¦‚27080å’Œ23370ï¼Œå°±å¦‚ç¬”è€…ä¼˜åŒ–åçš„ç¤ºä¾‹ã€‚</li>\n<li><code>-v/--volume</code>ï¼šæŒ‡å®šå®¹å™¨å·ã€‚ä¸Šé¢çš„å‘½ä»¤æŒ‡å®šäº†ä¸¤ä¸ªå·ï¼Œå³åœ¨æœ¬æœºåˆ›å»ºæ•°æ®å· <code>~/.sourcegraph/config</code>ï¼ˆé…ç½®ï¼‰ å’Œ <code>~/.sourcegraph/data</code>ï¼ˆæ•°æ®ï¼‰ï¼ˆé¢˜å¤–è¯ï¼Œå¯ä»¥æ”¹æˆä»»ä½•ä½ æƒ³æ”¾ç½®çš„ä½ç½®ï¼Œä¾‹å¦‚ï¼š<code>~/.sourcegraph2/config</code>ã€<code>~/.sourcegraph2/data</code>ï¼‰ï¼Œåˆ†åˆ«æŒ‚è½½åˆ°å®¹å™¨çš„ <code>/etc/sourcegraph</code> å’Œ <code>/var/opt/sourcegraph</code> è·¯å¾„ä¸Šã€‚è¿™æ ·å®¹å™¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œåœ¨å®¹å™¨ä¸­ç”Ÿäº§çš„æ•°æ®ä¼šè¢«ä¿å­˜åˆ°å®¹å™¨æ‰€åœ¨çš„èŠ‚ç‚¹ä¸Šï¼ˆ<code>~/.sourcegraph/config</code> å’Œ <code>~/.sourcegraph/data</code>ï¼‰ã€‚</li>\n</ul>\n<p>è‹¥ä½ ä¸è®¾ç½® <code>-d</code>ï¼Œæ‰§è¡ŒæˆåŠŸåï¼Œä¼šå‡ºç°ä»¥ä¸‹æç¤ºï¼Œè®©ä½ è®¿é—® <code>http://127.0.0.1:7080</code>ï¼Œä½†ä¸Šè¿°å‘½ä»¤æˆ‘ä»¬å·²ç»å°† 7080 æ˜ å°„åˆ° 27080 ç«¯å£ã€‚æ•…æ­£ç¡®çš„è®¿é—®åœ°å€æ˜¯ <code>http://127.0.0.1:27080</code>ã€‚</p>\n<p><img src=\"https://p3.ssl.qhimg.com/t0168e932b15a6f1c98.png\"></p>\n<p>è‹¥ä½ æ˜¯åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ docker å‘½ä»¤ï¼Œé‚£æˆ‘ä»¬è¿˜éœ€è¿›è¡Œ nginx é…ç½®æ‰èƒ½è®¿é—®ã€‚</p>\n<figure class=\"highlight plain\"><figcaption><span>nginx.conf</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &#123;</span><br><span class=\"line\">  listen 80;</span><br><span class=\"line\">  server_name sgdev2.example.com;</span><br><span class=\"line\"></span><br><span class=\"line\">  location &#x2F; &#123;</span><br><span class=\"line\">    proxy_pass http:&#x2F;&#x2F;127.0.0.1:27080;</span><br><span class=\"line\">    proxy_set_header X-Real-IP  $remote_addr;</span><br><span class=\"line\">    proxy_set_header X-Forwarded-For $remote_addr;</span><br><span class=\"line\">    proxy_set_header Host $host;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®æ”¹å®Œé…ç½®ï¼Œæˆ‘ä»¬éœ€é‡å¯ä¸‹nginx <code>/usr/sbin/nginx -s reload</code>ï¼ˆæ²¡æƒé™å°±åŠ sudoï¼‰ã€‚æ¥ç€åœ¨å®¢æˆ·ç«¯ä¸Šé…ç½®ä¸‹ hostsï¼Œå‡è®¾æœåŠ¡å™¨IPä¸º <code>10.11.xx.xx</code>ï¼Œé…ç½®å®Œåç›´æ¥è®¿é—® <code>http://sgdev2.example.com</code>ã€‚å‡ºç°å¦‚ä¸‹ç•Œé¢å°±æˆåŠŸäº†ï¼Œç¬¬ä¸€æ¬¡è®¿é—®é¡µé¢æ³¨å†Œçš„æ˜¯ç®¡ç†å‘˜ï¼Œæ³¨å†Œå®Œç™»å½•å°±å¯ä»¥è¿›è¡Œç«™ç‚¹è®¾ç½®ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">10.11.xx.xx sgdev2.example.com</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://p5.ssl.qhimg.com/t011017c72c20b43768.png\"></p>\n<blockquote>\n<p>ğŸ’¡docker å°è´´å£«ï¼š</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># sgdev2 ä¸ºå®¹å™¨å</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker ps <span class=\"comment\"># æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker restart sgdev2 <span class=\"comment\"># é‡å¯å®¹å™¨ sgdev2</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker start sgdev2 <span class=\"comment\"># å¯åŠ¨å®¹å™¨ sgdev2</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker stop sgdev2 <span class=\"comment\"># åœæ­¢è¿è¡Œä¸­çš„å®¹å™¨ sgdev2</span></span><br><span class=\"line\"></span><br><span class=\"line\">docker <span class=\"built_in\">kill</span> -s KILL sgdev2 <span class=\"comment\"># æ€æ‰ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨</span></span><br></pre></td></tr></table></figure>\n</blockquote>\n<h2 id=\"âš™ï¸é…ç½®-Sourcegraph-ç½‘ç«™\"><a href=\"#âš™ï¸é…ç½®-Sourcegraph-ç½‘ç«™\" class=\"headerlink\" title=\"âš™ï¸é…ç½® Sourcegraph ç½‘ç«™\"></a>âš™ï¸é…ç½® Sourcegraph ç½‘ç«™</h2><h3 id=\"ä»“åº“è®¾ç½®\"><a href=\"#ä»“åº“è®¾ç½®\" class=\"headerlink\" title=\"ä»“åº“è®¾ç½®\"></a>ä»“åº“è®¾ç½®</h3><p>å…¥å£ï¼š<code>Site admin</code> &gt; <code>Repositories</code> &gt; <code>Manage code hosts</code></p>\n<p>sourcegraph æä¾›äº†å¤šç§ä»“åº“ä¾›ä½ é€‰æ‹©ã€‚ç¬”è€…é€‰æ‹©äº†è‡ªå·±æ¥è§¦æœ€å¤šçš„ Github å’Œ GitLab åˆ†åˆ«è¿›è¡Œé…ç½®ã€è§£è¯´ã€‚</p>\n<p><img src=\"https://p4.ssl.qhimg.com/t01e985c2331e5932ea.png\"></p>\n<h4 id=\"é…ç½®-Github-ä»“åº“\"><a href=\"#é…ç½®-Github-ä»“åº“\" class=\"headerlink\" title=\"é…ç½® Github ä»“åº“\"></a>é…ç½® Github ä»“åº“</h4><p>ç‚¹å‡» Githubï¼Œè¿›å…¥ä»“åº“é…ç½®é¡µé¢ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;url&quot;</span>: <span class=\"string\">&quot;https://github.com&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;token&quot;</span>: <span class=\"string\">&quot;&lt;access token&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;orgs&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;&lt;ä½ çš„githubç”¨æˆ·å&gt;&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>&lt;access token&gt;</code> ç”Ÿæˆæ­¥éª¤è¯¦è§ <a href=\"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token\">Create a GitHub access token</a>ï¼ŒæˆæƒèŒƒå›´ï¼ˆscopeï¼‰è®¾ç½®ä¸º <strong>repo</strong>ã€‚</p>\n<p>è®¾ç½®æˆåŠŸåï¼Œç‚¹å‡» <code>Repositories</code> &gt; <code>Repository status</code> å°±èƒ½æŸ¥çœ‹åˆ°æ‰€æœ‰æˆæƒçš„ä»“åº“ã€‚å¼€å‘è€…å¯æ ¹æ®éœ€è¦é‡å¤ä¸Šè¿°æ“ä½œå³å¯ã€‚</p>\n<h4 id=\"é…ç½®-Gitlab-ä»“åº“\"><a href=\"#é…ç½®-Gitlab-ä»“åº“\" class=\"headerlink\" title=\"é…ç½® Gitlab ä»“åº“\"></a>é…ç½® Gitlab ä»“åº“</h4><p>ç‚¹å‡» GitLabï¼Œè¿›å…¥ä»“åº“é…ç½®é¡µé¢ï¼š</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;url&quot;</span>: <span class=\"string\">&quot;https://&lt;ä½ çš„gitlabåŸŸå&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;token&quot;</span>: <span class=\"string\">&quot;&lt;access token&gt;&quot;</span>,</span><br><span class=\"line\">  <span class=\"attr\">&quot;projectQuery&quot;</span>: [</span><br><span class=\"line\">    <span class=\"string\">&quot;projects?membership=true&amp;archived=no&quot;</span></span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>&lt;access token&gt;</code> ç”Ÿæˆæ­¥éª¤è¯¦è§ <a href=\"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html#creating-a-personal-access-token\">Create a GitLab access token</a>ï¼ŒæˆæƒèŒƒå›´ï¼ˆscopeï¼‰è®¾ç½®ä¸º <strong>api</strong></p>\n<blockquote>\n<p>è‹¥ä½ é…ç½®äº† GitLab æˆæƒç™»å½•ï¼ˆä¸‹æ–‡å³å°†ä»‹ç»ï¼‰ï¼Œå¸Œæœ›<strong>æŸ¥æ‰¾çš„ä»“åº“æƒé™èƒ½è·Ÿæˆæƒè´¦å·èµ°</strong>ã€‚å¯ä»¥åœ¨ä»“åº“é…ç½®ä¸­åŠ å…¥ <code>Enforce permissions (OAuth)</code></p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;authorization&quot;</span>: &#123;</span><br><span class=\"line\">    <span class=\"attr\">&quot;identityProvider&quot;</span>: &#123;</span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;oauth&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</blockquote>\n<h3 id=\"ç”¨æˆ·æˆæƒ\"><a href=\"#ç”¨æˆ·æˆæƒ\" class=\"headerlink\" title=\"ç”¨æˆ·æˆæƒ\"></a>ç”¨æˆ·æˆæƒ</h3><p>å…¥å£ï¼š<code>Site admin</code> &gt; <code>Configuration</code> &gt; <code>Site configuration</code></p>\n<p>è¿›å…¥é…ç½®é¡µï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é»˜è®¤è®¤è¯æ–¹å¼æ˜¯ç”¨æˆ·æ³¨å†Œç™»å½•ï¼Œç®¡ç†å‘˜å¯ä»¥ç›´æ¥åœ¨åå°æ·»åŠ ç”¨æˆ·ï¼Œæ­¤å¤–ç½‘ç«™è¿˜æ”¯æŒ GitLab / Github æˆæƒç™»å½•ã€‚æ¥ä¸‹æ¥ç¬”è€…ç€é‡å¯¹è¿™ä¸¤ç§æˆæƒæ–¹å¼å±•å¼€è¯´æ˜ã€‚</p>\n<h4 id=\"GitLab-æˆæƒç™»å½•\"><a href=\"#GitLab-æˆæƒç™»å½•\" class=\"headerlink\" title=\"GitLab æˆæƒç™»å½•\"></a>GitLab æˆæƒç™»å½•</h4><p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ª <a href=\"https://docs.gitlab.com/ee/integration/oauth_provider.html\">GitLab æˆæƒåº”ç”¨ç¨‹åº</a>ã€‚</p>\n<blockquote>\n<p>ğŸ’¡å°è´´å£«ï¼š</p>\n<ol>\n<li>åœ¨ GitLab å³ä¸Šè§’é€‰æ‹©ä½ çš„å¤´åƒ</li>\n<li>é€‰æ‹© <strong>Settings</strong> ï¼ˆæˆ–æ˜¯ <strong>Edit profile</strong>ï¼‰</li>\n<li>åœ¨å·¦ä¾§è¾¹æ é€‰æ‹© <strong>Applications</strong></li>\n<li>è¾“å…¥ <strong>Name</strong>ï¼Œ<strong>Redirect URI</strong>ï¼Œ<strong>Scopes</strong>(æˆæƒèŒƒå›´è®¾ç½®ä¸º<code>api</code>ã€<code>read_user</code>)ã€‚<strong>Redirect URI</strong>æ˜¯ç”¨æˆ·æˆæƒå›è°ƒçš„åœ°å€ï¼Œå½¢å¦‚ï¼š<code>http://sgdev2.example.com/.auth/gitlab/callback</code></li>\n<li>ç‚¹å‡»ä¿å­˜ï¼Œå°±èƒ½çœ‹åˆ° <code>Application ID</code> å’Œ <code>Secret</code>ã€‚</li>\n</ol>\n</blockquote>\n<p><img src=\"https://p5.ssl.qhimg.com/t012dfa80c5385b4daa.png\"></p>\n<p>ç„¶åï¼Œå›åˆ° sourcegraph ç½‘ç«™ç«™ç‚¹è¿›è¡Œé…ç½®ã€‚</p>\n<blockquote>\n<p>ğŸ’¡å°è´´å£«ï¼š</p>\n<ol>\n<li>åœ¨ä½ çš„ sourcegraph ç«™ç‚¹çš„å³ä¸Šè§’é€‰æ‹©ä½ çš„å¤´åƒ</li>\n<li>é€‰æ‹© <strong>Site admin</strong></li>\n<li>åœ¨å·¦ä¾§è¾¹æ é€‰æ‹© <strong>Site configuration</strong></li>\n<li>ç‚¹å‡» <strong>Add GitLab sign-in</strong>ï¼Œä¼šè‡ªåŠ¨æ·»åŠ å¦‚ä¸‹æˆæƒä»£ç ã€‚</li>\n</ol>\n</blockquote>\n<figure class=\"highlight json\"><figcaption><span>Site configuration</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;auth.providers&quot;</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">// See https://docs.sourcegraph.com/admin/auth#gitlab for instructions</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;gitlab&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;displayName&quot;</span>: <span class=\"string\">&quot;GitLab&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;url&quot;</span>: <span class=\"string\">&quot;&lt;GitLab URL&gt;&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;clientID&quot;</span>: <span class=\"string\">&quot;&lt;client ID&gt;&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;clientSecret&quot;</span>: <span class=\"string\">&quot;&lt;client secret&gt;&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>type</code> å’Œ <code>displayName</code> ä¿æŒé»˜è®¤ã€‚<code>&lt;GitLab URL&gt;</code> æ”¹ä¸ºä½ çš„ GitLab åœ°å€ï¼Œ<code>&lt;client ID&gt;</code> æ”¹ä¸ºä¹‹å‰è·å¾—çš„ <code>Application ID</code>ï¼Œ<code>&lt;client secret&gt;</code> æ”¹ä¸º <code>Secret</code>ï¼Œä¿å­˜å³å¯ã€‚</p>\n<p>æ­¤æ—¶ä½ é€€å‡ºï¼Œå†ç™»å½•å°±ä¼šå‡ºç°ï¼ŒGitLab æˆæƒæŒ‰é’®ã€‚</p>\n<p><img src=\"https://p0.ssl.qhimg.com/t01fe2400ac3070f849.png\"></p>\n<h4 id=\"Github-æˆæƒç™»å½•\"><a href=\"#Github-æˆæƒç™»å½•\" class=\"headerlink\" title=\"Github æˆæƒç™»å½•\"></a>Github æˆæƒç™»å½•</h4><p>ä¸ GitLab æˆæƒç™»å½•ç±»ä¼¼ï¼Œå…ˆåˆ›å»ºä¸€ä¸ª<a href=\"https://developer.github.com/apps/building-oauth-apps/creating-an-oauth-app/\">Github æˆæƒåº”ç”¨ç¨‹åº</a></p>\n<blockquote>\n<p>ğŸ’¡å°è´´å£«ï¼š</p>\n<ol>\n<li>åœ¨ Github å³ä¸Šè§’é€‰æ‹©ä½ çš„å¤´åƒ</li>\n<li>é€‰æ‹© <strong>Settings</strong></li>\n<li>åœ¨å·¦ä¾§è¾¹æ é€‰æ‹© <strong>Developer settings</strong></li>\n<li>åœ¨å·¦ä¾§è¾¹æ é€‰æ‹© <code>OAuth Apps</code>ï¼Œç‚¹å‡» <code>Register a new application</code></li>\n<li>è¾“å…¥ <strong>Application Name</strong>, <strong>Homepage URL</strong>ï¼Œ<strong>Authorization callback URL</strong>æ˜¯ç”¨æˆ·æˆæƒå›è°ƒçš„åœ°å€ï¼Œå½¢å¦‚ï¼š<code>http://sgdev2.example.com/.auth/github/callback</code></li>\n<li>ç‚¹å‡» <code>Register application</code>ï¼Œå°±èƒ½çœ‹åˆ° <code>Client ID</code> å’Œ <code>Client secret</code>ã€‚</li>\n</ol>\n</blockquote>\n<p><img src=\"https://p2.ssl.qhimg.com/t016bab50fbb17519d9.png\"></p>\n<p><img src=\"https://p4.ssl.qhimg.com/t0101a836846565dc69.png\"></p>\n<p>åŒæ ·ï¼Œå›åˆ°æˆ‘ä»¬çš„ sourcegraph é…ç½®é¡µã€‚ç‚¹å‡» <strong>Add Github sign-in</strong>ï¼Œä¼šè‡ªåŠ¨æ·»åŠ å¦‚ä¸‹æˆæƒä»£ç ï¼š</p>\n<figure class=\"highlight json\"><figcaption><span>Site configuration</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  <span class=\"attr\">&quot;auth.providers&quot;</span>: [</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">      <span class=\"comment\">// See https://docs.sourcegraph.com/admin/auth#github for instructions</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;type&quot;</span>: <span class=\"string\">&quot;github&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;displayName&quot;</span>: <span class=\"string\">&quot;GitHub&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;url&quot;</span>: <span class=\"string\">&quot;https://github.com/&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;allowSignup&quot;</span>: <span class=\"literal\">true</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;clientID&quot;</span>: <span class=\"string\">&quot;&lt;client ID&gt;&quot;</span>,</span><br><span class=\"line\">      <span class=\"attr\">&quot;clientSecret&quot;</span>: <span class=\"string\">&quot;&lt;client secret&gt;&quot;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  ]</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>type</code> å’Œ <code>displayName</code> ä¿æŒé»˜è®¤ã€‚<code>url</code> æ”¹ä¸ºä½ çš„ Github åœ°å€ï¼Œ<code>&lt;client ID&gt;</code> æ”¹ä¸ºä¹‹å‰è·å¾—çš„ <code>Client ID</code>ï¼Œ<code>&lt;client secret&gt;</code> æ”¹ä¸º <code>Client secret</code>ï¼Œä¿å­˜å³å¯ã€‚</p>\n<h2 id=\"å°ç»“â¤ï¸\"><a href=\"#å°ç»“â¤ï¸\" class=\"headerlink\" title=\"å°ç»“â¤ï¸\"></a>å°ç»“â¤ï¸</h2><p>æŒ‰ç†å®‰è£…å®Œ Sourcegraphï¼Œè¿›è¡Œä»“åº“é…ç½®åï¼Œç«™ç‚¹å°±èƒ½æ­£å¸¸æŠ•å…¥ä½¿ç”¨äº†ã€‚å…³äºç”¨æˆ·æˆæƒï¼Œæ˜¯ç¬”è€…ç»å†ä¸€ç•ªæ¢ç´¢çš„æ€»ç»“ï¼Œä¸ºæœ‰æ­¤éœ€æ±‚çš„äººåœ¨é˜…è¯»å®˜æ–¹æ–‡æ¡£ä¸­å³å°†é™·å…¥è¿·èŒ«æä¾›çš„ä¸€ä¸ªæç¤ºã€‚</p>\n<p>æ¸©é¦¨æç¤ºï¼š</p>\n<ul>\n<li><p>è‹¥æ˜¯ä½ é€šè¿‡ GitLab æˆæƒç®¡ç†ç”¨æˆ·ï¼Œéœ€ç¡®ä¿ç½‘ç«™ç®¡ç†å‘˜ä¸ºä»£ç ä»“åº“çš„ç®¡ç†å‘˜ï¼Œè¿™æ ·èƒ½ä¿è¯ç”¨æˆ·çš„æœç´¢æ± å…¨é¢ã€‚</p>\n</li>\n<li><p>å…è´¹ç‰ˆçš„ Sourcegraph åªèƒ½æ³¨å†Œ10ä¸ªç”¨æˆ·å“¦ï¼</p>\n</li>\n<li><p>å‡çº§åº”è¯¥åœ¨ Sourcegraph çš„è¿ç»­æ¬¡è¦ç‰ˆæœ¬ä¹‹é—´è¿›è¡Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨è¿è¡ŒSourcegraph 3.1ï¼Œå¹¶ä¸”æƒ³è¦å‡çº§åˆ°3.3ï¼Œåˆ™åº”è¯¥å…ˆå‡çº§åˆ°3.2ï¼Œå†å‡çº§åˆ°3.3ã€‚</p>\n</li>\n</ul>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2021/03/26/2021-03-26-about-sourcegraph/\">https://mileofsunshine.github.io/2021/03/26/2021-03-26-about-sourcegraph/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["æ•™ç¨‹"],"tags":["Github","Sourcegraph","GitLab","æˆæƒç™»å½•","æ™ºèƒ½æœç´¢"]},{"title":"åšå®¢ä¹‹æ—…ï¼šä» Jekyll åˆ° Hexo","url":"http://example.com/2020/11/26/2020-11-26-build-hexo-blog/","content":"<p><img src=\"https://user-images.githubusercontent.com/16272760/99784261-872d3200-2b56-11eb-807c-869042d1f6e8.png\"></p>\n<p>åˆå‡ºèŒ…åºä¹‹æ—¶ï¼Œçœ‹åˆ°ä»–äººçš„åšå®¢ï¼Œæ€»ä¼šäº§ç”Ÿä¸€ä¸æ–°é²œæ„Ÿï¼Œå¥½å¥‡ä¹‹å¿ƒè®©ä½ ä¸çŸ¥ä¸è§‰è·Ÿéšç€ä»–äººçš„è„šæ­¥ï¼Œåœ¨å†™ä½œå¹³å°å¼€å§‹å±•éœ²æ‹³è„šã€‚</p>\n<p>å‘å¸ƒäº†ä¸¤ä¸‰ç¯‡æ–‡ç« åï¼Œåˆå‘ç°æœ‰äº›äººå¹¶éåœ¨å†™ä½œå¹³å°å†™ä½œï¼Œè€Œæ˜¯åœ¨æ‹¥æœ‰è‡ªå·±åŸŸåçš„åšå®¢å¹³å°å‘å¸ƒã€‚å°±åƒå°æ—¶å€™çœ‹åˆ°é‚»å±…å°å­©åƒç³–ï¼Œä¸çŸ¥ç”œä¸ç”œå°±æƒ³ç€è‡ªå·±ä¹Ÿèƒ½åƒä¸€å—ã€‚ç„¶åå°±å¼€å§‹æŠ˜è…¾äº†ï¼Œè´­ä¹°åŸŸåç©ºé—´ï¼Œç‹¬ç«‹æ­å»ºåšå®¢ã€‚</p>\n<p>ä»å†™æ–‡ç« åˆ°æ­å»ºåšå®¢è¿™æ€è·¯æ˜¯å¯¹çš„ï¼Œä½†ä¸ä¹å¸¦æœ‰ç‚¹è·Ÿé£ä¹‹æ„ã€‚åšå®¢ï¼ŒæŠ€æœ¯åœˆçš„ä¸ªäººåç‰‡ã€‚ç‰¹åˆ«æ˜¯åœ¨æ‹›è˜é¢è¯•æ—¶ï¼Œéƒ¨åˆ†é¢è¯•å®˜ä¼šç‰¹åˆ«å…³æ³¨é¢è¯•è€…æ˜¯å¦æœ‰ä¸ªäººåšå®¢ï¼Œä¸€æ¥ä»åšå®¢ä¸Šèƒ½çœ‹å‡ºé¢è¯•è€…çš„è¡¨è¾¾èƒ½åŠ›å’Œæ¶‰çŒï¼ŒäºŒæ¥èƒ½çœ‹åˆ°ä¸ªäººçš„ä»£ç æ°´å¹³å’Œç¼–ç ä¹ æƒ¯ã€‚</p>\n<p>æ­¤å¤–ï¼Œåšå®¢çš„ä¹¦å†™å¯¹ä¸ªäººä¹Ÿæ˜¯ä¸€ç§æŠ€èƒ½é”»ç‚¼ã€‚èµ„æ–™çš„æ•´ç†ï¼Œç‰¹åˆ«æ˜¯æŠ€æœ¯é—®é¢˜çš„æ•´ç†ï¼Œæœ‰åŠ©äºè‡ªå·±ä¸‹ä¸€æ¬¡é‡åˆ°ç±»ä¼¼çš„é—®é¢˜æ—¶èƒ½å¦æ›´å¥½çš„å›å¿†ç»†èŠ‚å’Œå¤ç”¨ç›¸å…³ä»£ç ã€‚</p>\n<p>ä½†å¦‚ä½•èƒ½åˆå¿«åˆå¥½çš„æ­å»ºï¼Œè¿™æ˜¯è®²ç©¶æ–¹æ³•çš„ã€‚</p>\n<a id=\"more\"></a>\n\n<p>ç¬”è€…åœ¨å¼€å‘åšå®¢å‰ï¼Œç®€å•åšäº†è°ƒç ”ï¼Œäº†è§£åˆ°å½“ä¸‹æœ€å—æ¬¢è¿çš„æ­å»ºæ¨¡å¼å°±æ˜¯å€ŸåŠ©<a href=\"https://github.com/\">GitHub Page</a>å’Œé™æ€åšå®¢æ¡†æ¶ã€‚æ¥ä¸‹æ¥å‘å¤§å®¶ä»‹ç»æ•´ä¸ªåšå®¢çš„æ­å»ºæµç¨‹ã€‚</p>\n<h1 id=\"Github-Pages-å…¥é—¨\"><a href=\"#Github-Pages-å…¥é—¨\" class=\"headerlink\" title=\"Github Pages å…¥é—¨\"></a>Github Pages å…¥é—¨</h1><ol>\n<li>é¦–å…ˆï¼Œ<a href=\"https://github.com/join\">æ³¨å†ŒGithubå¸å·</a>ã€‚<br><img src=\"https://p1.ssl.qhimg.com/t01b00009360875756d.png\" alt=\"æ³¨å†ŒGithubå¸å·\"></li>\n<li>ç„¶åï¼Œå°†ä»£ç æ‰˜ç®¡åœ¨ Github ä¸Šã€‚<br>æ–°å»ºä¸€ä¸ª repositoryã€‚å¦‚æœä½ å¸Œæœ›ä½ çš„ç«™ç‚¹èƒ½é€šè¿‡ &lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.io åŸŸåè®¿é—®ï¼Œä½ çš„ repository åº”è¯¥ç›´æ¥å‘½åä¸º &lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.ioã€‚ä¾‹å¦‚ï¼Œ<code>qwebfe.github.io</code>ã€‚</li>\n<li>æœ€åé…ç½® Github Pagesï¼Œå…·ä½“ç»†èŠ‚è¯¦è§ <a href=\"https://guides.github.com/features/pages/\">Getting Started with GitHub Pages</a>ã€‚</li>\n</ol>\n<h1 id=\"é™æ€åšå®¢æ¡†æ¶\"><a href=\"#é™æ€åšå®¢æ¡†æ¶\" class=\"headerlink\" title=\"é™æ€åšå®¢æ¡†æ¶\"></a>é™æ€åšå®¢æ¡†æ¶</h1><p>æ ¹æ®ç¬”è€…è°ƒç ”ï¼Œç½‘ä¸Šè®¨è®ºæœ€å¤šçš„åšå®¢æ¡†æ¶å½“å± Jekyll å’Œ Hexoã€‚æœ‰äººè¯´ï¼Œ<a href=\"https://jekyllrb.com/\">Jekyll</a> å°±æ˜¯ä¸ºäº†å†™åšå®¢æ‰“é€ çš„ã€‚Github Pages ä¸­æä¾›çš„ Jekyll ä¸»é¢˜ä¼¼ä¹ä¹ŸéªŒè¯äº†è¿™ç‚¹ã€‚æ—©æœŸç»„å†…çš„åšå®¢ä¹Ÿæ˜¯åŸºäº Jekyll æ­å»ºçš„ï¼Œå…¶åŸå› æˆ‘æƒ³å¤§æ¦‚æ˜¯ GitHub è‡ªå¸¦ Jekyll å¼•æ“ï¼Œæ— éœ€éƒ¨ç½²é™æ€é¡µé¢ï¼Œåªæ”¾é¡¹ç›®æºç å³å¯ã€‚åå› å¼€å‘ç¯å¢ƒä¾èµ–é—®é¢˜ä¸ä¾¿ç»´æŠ¤ï¼Œä¾¿å¼ƒ Jekyll ä» Hexoã€‚æ®è¯´ Hexo çš„å‡ºç°æ˜¯å› ä¸º Jekyll æ¯”è¾ƒæ…¢ï¼Œå¤§æ¦‚æ˜¯æ—©æœŸ Hexo è¿˜ä¸å¤Ÿæˆç†Ÿï¼Œè¿˜ä¸æ”¯æŒè‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œä¹Ÿç»™ä½¿ç”¨è€…å¸¦æ¥äº†ä¸ä¾¿ï¼Œä½†é‚£ä¸ªæ—¶å€™å·²ç»è¿‡å»äº†ã€‚æ¥ä¸‹æ¥å‘å¤§å®¶å…·ä½“ä»‹ç» Jekyll å’Œ Hexoã€‚ </p>\n<h2 id=\"Jekyll\"><a href=\"#Jekyll\" class=\"headerlink\" title=\"Jekyll\"></a>Jekyll</h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gem install bundler jekyll</span><br><span class=\"line\"></span><br><span class=\"line\">jekyll new my-awesome-site</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cd</span> my-awesome-site</span><br><span class=\"line\"></span><br><span class=\"line\">bundle <span class=\"built_in\">exec</span> jekyll serve</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># =&gt; Now browse to http://localhost:4000</span></span><br></pre></td></tr></table></figure>\n\n<p>é€šè¿‡ä»¥ä¸Šå‡ ä¸ªå‘½ä»¤å¯ä»¥çœ‹å‡ºï¼ŒJekyll æ˜¯åŸºäº Ruby å®ç°çš„ï¼Œå®‰è£… Jekyll éœ€è¦æ­å»º Ruby ç¯å¢ƒï¼Œä½†åœ¨ Windows æ­å»º Ruby ç¯å¢ƒå¹¶ä¸è¢«æ¨èã€‚è‹¥ä½ æ˜¯ Windows ç”¨æˆ·ï¼Œé‚£å¯èƒ½ä¸€å¼€å§‹å°±è·Œå€’åœ¨å®‰è£… Jekyll çš„èµ·è·‘çº¿ä¸Šã€‚</p>\n<p>æˆ‘ä»¬ç»„çš„æ—©æœŸåšå®¢åŸºäº Jekyllï¼Œè¿è¡Œäº†å°ä¸€å¹´æ—¶é—´ï¼Œä½†ç”¨æˆ·ä½“éªŒä¸æ˜¯å¾ˆå¥½ã€‚å—ç¯å¢ƒæ­å»ºå½±å“ï¼Œå¤šæ•°æˆå‘˜æ— æ³•å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ï¼Œéƒ½æ˜¯ç›²å†™æ–‡ç« ï¼Œæ¨é€ä¸Šçº¿åï¼Œå‘ç°é—®é¢˜å†ä¿®å¤ã€‚æœ‰ä¸€æ¬¡æŠŠæ–‡ç« æ—¥æœŸæå‰äº†ä¸€å¤©ï¼Œä¸Šçº¿åæ–°æ–‡ç« ä¸€ç›´æœªè¢«æ„å»ºã€‚æ— æ³•æœ¬åœ°é¢„è§ˆï¼Œä¸€å®šç¨‹åº¦ä¸Šå½±å“æ’æŸ¥æ•ˆç‡ã€‚åé¢æ±‚åŠ©äº†åŒäº‹ï¼Œä¹Ÿæ²¡æ‰¾åˆ°åŸå› ï¼Œä½†åœ¨ç¬¬äºŒå¤©æ—©ä¸Šè¢«å‘ŠçŸ¥æ–‡ç« æ„å»ºæˆåŠŸäº†ã€‚ç¬”è€…ä¸€æ—¶è’™è”½ï¼ŒåæŸ¥é˜…äº†å„æ‰‹èµ„æºï¼Œæ‰å¾—çŸ¥ä»¥ä¸‹è¿™ä¸ªç­”æ¡ˆï¼š</p>\n<blockquote>\n<p>Jekyll æ˜¯ä¸ä¼šæ„å»ºæœªæ¥æ—¥æœŸçš„æ–‡ç« çš„ï¼</p>\n</blockquote>\n<p>åœ¨ä¸»é¢˜æ–¹é¢ï¼Œæœ‰æƒ³æ³•çš„ä½ å¯è‡ªè¡Œé€‰æ‹©<a href=\"https://github.com/topics/jekyll-theme\">Jekyllä¸»é¢˜</a>ã€‚æŒ‰ç…§å®‰è£…æç¤ºï¼Œæˆ–åŸºäºgemï¼Œæˆ–åªå–è¿œç¨‹ä¸»é¢˜ï¼Œæˆ–ç›´æ¥ç›´æ¥æ‹·è´è‡³é¡¹ç›®ä¸­ï¼Œç„¶åé…ç½® <code>_config.yml</code> æ–‡ä»¶å³å¯ã€‚</p>\n<figure class=\"highlight yml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">minimal-mistakes-jekyll</span></span><br></pre></td></tr></table></figure>\n\n<hr>\n<p>åŒå€¦äº† Jekyll çš„é‚£æ®µçˆ±æ¨æƒ…ä»‡ï¼Œæœ€ç»ˆæŠ•å‘äº† Hexo çš„æ€€æŠ±ã€‚</p>\n<hr>\n<h2 id=\"Hexo\"><a href=\"#Hexo\" class=\"headerlink\" title=\"Hexo\"></a>Hexo</h2><blockquote>\n<p>A fast, simple &amp; powerful blog framework<br>å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶</p>\n</blockquote>\n<p>Hexo æ˜¯åŸºäº NodeJs å®ç°ï¼Œåœ¨ Windows ä¸Šå®‰è£… NodeJs å¼€å‘ç¯å¢ƒå¯è°“æ˜¯ç›¸å½“ç®€å•ã€‚ä½•å…¶ç¾å“‰ï¼ä¹å“‰ï¼</p>\n<p>Hexo é»˜è®¤çš„ä¸»é¢˜æ˜¯ <code>landscape</code>ï¼Œæ¥è§¦è¿‡åšå®¢å›­çš„ç«¥é‹å¯èƒ½è§‰å¾—è¯¥ä¸»é¢˜æœ‰å®ƒçš„å‘³é“ã€‚èåœé’èœå„æœ‰æ‰€çˆ±ï¼Œä½ å¯è‡ªè¡Œé€‰æ‹©<a href=\"https://hexo.io/themes/\">ä¸»é¢˜</a>ã€‚å…³äº <code>Hexo</code> çš„ä¸»é¢˜ï¼Œç¬”è€…æƒ³è¯´æ˜¯æˆ‘å–œæ¬¢çš„è°ƒè°ƒğŸ˜‰ï¼Œæœ¬ç»„åšå®¢åº”ç”¨çš„ä¸»é¢˜æ˜¯<a href=\"https://theme-next.js.org/\">NexT</a></p>\n<h3 id=\"å»ºç«™\"><a href=\"#å»ºç«™\" class=\"headerlink\" title=\"å»ºç«™\"></a>å»ºç«™</h3><p>å•¥ä¹Ÿä¸è¯´äº†ï¼Œæ¬ç –å§ã€‚</p>\n<h4 id=\"å®‰è£…\"><a href=\"#å®‰è£…\" class=\"headerlink\" title=\"å®‰è£…\"></a>å®‰è£…</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<h4 id=\"åˆå§‹åŒ–\"><a href=\"#åˆå§‹åŒ–\" class=\"headerlink\" title=\"åˆå§‹åŒ–\"></a>åˆå§‹åŒ–</h4><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo init &lt;folder&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">cd &lt;folder&gt;</span><br><span class=\"line\"></span><br><span class=\"line\">npm install</span><br><span class=\"line\"></span><br><span class=\"line\">npm server</span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>Mï¼šå’¦? è¿™ä¸€å¥—æŒ‡ä»¤å¥½åƒåœ¨å“ªè§è¿‡ğŸ‘€ã€‚<br>Hï¼šğŸ™Š vue ?<br>Mï¼šå—·å‘œâ€¦</p>\n</blockquote>\n<p>é¡¹ç›®åˆå§‹åŒ–å®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">â”œâ”€â”€ _config.yml # ç½‘ç«™çš„ é…ç½® ä¿¡æ¯</span><br><span class=\"line\">â”œâ”€â”€ package.json</span><br><span class=\"line\">â”œâ”€â”€ scaffolds</span><br><span class=\"line\">â”œâ”€â”€ source</span><br><span class=\"line\">|   â”œâ”€â”€ _drafts</span><br><span class=\"line\">|   â””â”€â”€ _posts</span><br><span class=\"line\">â””â”€â”€ themes</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>scaffolds: æ¨¡ç‰ˆæ–‡ä»¶å¤¹, å½“ä½ æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶</li>\n<li>source: èµ„æºæ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚é™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚Markdown å’Œ HTML æ–‡ä»¶ä¼šè¢«è§£æå¹¶æ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œè€Œå…¶ä»–æ–‡ä»¶ä¼šè¢«æ‹·è´è¿‡å»ã€‚</li>\n<li>themes: ä¸»é¢˜æ–‡ä»¶å¤¹ï¼ŒæŠŠä½ æƒ³è¦çš„ä¸»é¢˜æ‹·è´è‡³å½“å‰ç›®å½•å³å¯ã€‚</li>\n<li>_config.yml: ç½‘ç«™çš„é…ç½®ä¿¡æ¯ï¼ŒHexo è¿™ä¸ªç‚¹å¾ˆå‹å¥½ï¼Œå®ƒç»™ç›¸å…³é…ç½®éƒ½åšäº†æ³¨é‡Šå’Œ<a href=\"https://hexo.io/zh-cn/docs/configuration.html\">æ–‡æ¡£è¯´æ˜</a>ã€‚<ul>\n<li>theme: ä½ é€‰ç”¨çš„ä¸»é¢˜ï¼Œé»˜è®¤ä¸º <code>landscape</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"å†™ä½œ\"><a href=\"#å†™ä½œ\" class=\"headerlink\" title=\"å†™ä½œ\"></a>å†™ä½œ</h3><p>é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å†™ä½œäº†ã€‚å…³äºå†™ä½œï¼ŒHexo cli ä¹Ÿæä¾›äº†ç›¸å…³æŒ‡ä»¤ï¼Œå¯å¿«é€Ÿåˆ›å»ºä¸€ç¯‡æ–°æ–‡ç« æˆ–è€…æ–°çš„é¡µé¢ã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>layoutï¼ŒHexo æœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼špostã€page å’Œ draftã€‚åŸºäºä¸åŒç±»å‹åˆ›å»ºçš„æ–‡ä»¶ä¼šå­˜å‚¨åœ¨å„è‡ªå¯¹åº”çš„è·¯å¾„ä¸­ï¼Œä½ å¯ä»¥ç¼–è¾‘ <code>scaffolds/*</code> ä¸‹çš„æ¨¡æ¿æ–‡ä»¶ï¼Œä¿è¯æ–°é¡µé¢çš„è§„èŒƒæ€§ã€‚</li>\n<li>titleï¼ŒHexo é»˜è®¤ä»¥æ ‡é¢˜åšä¸ºæ–‡ä»¶åç§°ï¼Œä½†ä½ å¯ç¼–è¾‘ new_post_name å‚æ•°æ¥æ”¹å˜é»˜è®¤çš„æ–‡ä»¶åç§°ï¼Œä¸¾ä¾‹æ¥è¯´ï¼Œè®¾ä¸º :year-:month-:day-:title.md å¯è®©ä½ æ›´æ–¹ä¾¿çš„é€šè¿‡æ—¥æœŸæ¥ç®¡ç†æ–‡ç« ã€‚</li>\n</ul>\n<figure class=\"highlight yml\"><figcaption><span>_config.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">new_post_name:</span> <span class=\"string\">:year-:month-:day-:title.md</span></span><br></pre></td></tr></table></figure>\n\n<p>æ‰§è¡ŒæŒ‡ä»¤æ—¶åªéœ€è¾“å…¥æ–‡ä»¶åï¼Œåˆ›å»ºæˆåŠŸä¼šè‡ªåŠ¨å¸¦ä¸Šå½“å¤©æ—¥æœŸï¼Œæ–‡ä»¶å†…å®¹ä¹Ÿä¼šæŒ‰ç…§æ¨¡æ¿æ ¼å¼æ˜¾ç¤ºã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hexo new <span class=\"built_in\">test</span> <span class=\"comment\"># ==&gt; source/_posts/2020-12-01-test.md</span></span><br></pre></td></tr></table></figure>\n\n\n<p>è‹¥ä½ æƒ³äº†è§£æ›´å¤šä½¿ç”¨æ–¹æ³•ï¼Œå¯å‰å¾€<a href=\"https://hexo.io/zh-cn/docs/\">hexoå®˜ç½‘</a>ã€‚</p>\n<h3 id=\"éƒ¨ç½²\"><a href=\"#éƒ¨ç½²\" class=\"headerlink\" title=\"éƒ¨ç½²\"></a>éƒ¨ç½²</h3><p>Hexo å®˜æ–¹ä»‹ç»äº†ä¸‰ç§éƒ¨ç½²æ–¹å¼ã€‚ç”±äºæˆ‘ä»¬ä»£ç æ‰˜ç®¡åœ¨äº† Github ä¸Šï¼Œé‚£ç¬”è€…å°±éƒ¨ç½²åˆ° <code>GitHub Pages</code> å±•å¼€ä»‹ç»ã€‚</p>\n<p>1ã€å°†ä½ æœ¬åœ°çš„ Hexo ç«™ç‚¹æ–‡ä»¶å¤¹æ¨é€åˆ° repositoryï¼ˆ<code>&lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.io</code>ï¼‰ ä¸­ã€‚é»˜è®¤æƒ…å†µä¸‹ public ç›®å½•å°†ä¸ä¼šè¢«æ¨é€åˆ° repository ä¸­ï¼Œä½ åº”è¯¥æ£€æŸ¥ <code>.gitignore</code> æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å« public ä¸€è¡Œï¼Œå¦‚æœæ²¡æœ‰è¯·åŠ ä¸Šã€‚<br>2ã€å°† <a href=\"https://github.com/marketplace/travis-ci\">Travis CI</a> æ·»åŠ åˆ°ä½ çš„ GitHub è´¦æˆ·ä¸­ã€‚<br><img src=\"https://p4.ssl.qhimg.com/t012a4eb716b67ab0e7.png\" alt=\"é€‰æ‹©ä¸€ä¸ªè´¦å·\"><br><img src=\"https://p3.ssl.qhimg.com/t0150046ab66f6286a6.png\" alt=\"æˆäºˆæ­¤åº”ç”¨è®¿é—®æƒé™\"><br><img src=\"https://p0.ssl.qhimg.com/t0177f583632427bf95.png\" alt=\"æˆäºˆé¡¹ç›®è®¿é—®æƒé™\"></p>\n<p>3ã€å‰å¾€ GitHub çš„ <a href=\"https://github.com/settings/installations\">Applications settings</a>ï¼Œé…ç½® Travis CI æƒé™ï¼Œä½¿å…¶èƒ½å¤Ÿè®¿é—®ä½ çš„ repositoryã€‚è‹¥ä½ åœ¨ç¬¬2æ­¥å¿˜è®°äº†è®¾ç½® <code>Travis CI</code> çš„ä»“åº“æƒé™ï¼Œä¹Ÿå¯åœ¨æ­¤é‡æ–°é…ç½®ã€‚</p>\n<p><img src=\"https://p5.ssl.qhimg.com/t01a8332cda870c3db1.png\" alt=\"é…ç½® Travis CI æƒé™\"></p>\n<p><img src=\"https://p2.ssl.qhimg.com/t01867de50a8cd84260.png\" alt=\"è®¾ç½® Travis CI çš„ä»“åº“æƒé™\"></p>\n<p>4ã€ä¿å­˜è®¾ç½®åä½ åº”è¯¥ä¼šè¢«é‡å®šå‘åˆ° Travis CI çš„é¡µé¢ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯· <a href=\"https://travis-ci.com/\">æ‰‹åŠ¨å‰å¾€</a>ã€‚<br>5ã€åœ¨æµè§ˆå™¨æ–°å»ºä¸€ä¸ªæ ‡ç­¾é¡µï¼Œå‰å¾€ GitHub <a href=\"https://github.com/settings/tokens\">æ–°å»º Personal Access Token</a>ï¼Œåªå‹¾é€‰ <code>repo</code> çš„æƒé™å¹¶ç”Ÿæˆä¸€ä¸ªæ–°çš„ Tokenã€‚Token ç”Ÿæˆåè¯·å¤åˆ¶å¹¶ä¿å­˜å¥½ã€‚<br><img src=\"https://p5.ssl.qhimg.com/t012b03686dfd70e308.png\" alt=\"æ–°å»º Personal Access Token\"><br>6ã€å›åˆ° Travis CIï¼Œå‰å¾€ä½ çš„ repository çš„è®¾ç½®é¡µé¢ï¼Œåœ¨ <strong>Environment Variables</strong> ä¸‹æ–°å»ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œ<strong>Name</strong> ä¸º <code>GH_TOKEN</code> ï¼Œ<strong>Value</strong> ä¸ºåˆšæ‰ä½ åœ¨ GitHub ç”Ÿæˆçš„ <strong>Token</strong>ã€‚ç¡®ä¿ <strong>DISPLAY VALUE IN BUILD LOG</strong> ä¿æŒ <strong>ä¸è¢«å‹¾é€‰</strong> é¿å…ä½ çš„ Token æ³„æ¼ã€‚ç‚¹å‡» <strong>Add</strong> ä¿å­˜ã€‚<br><img src=\"https://p4.ssl.qhimg.com/t01d2f70045349a4ccf.png\"><br>7ã€åœ¨ä½ çš„ Hexo ç«™ç‚¹æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ª .travis.yml æ–‡ä»¶ï¼š</p>\n<figure class=\"highlight yml\"><figcaption><span>.travis.yml</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">sudo:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">node_js</span></span><br><span class=\"line\"><span class=\"attr\">node_js:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"number\">10</span> <span class=\"comment\"># use nodejs v10 LTS</span></span><br><span class=\"line\"><span class=\"attr\">cache:</span> <span class=\"string\">npm</span></span><br><span class=\"line\"><span class=\"attr\">branches:</span></span><br><span class=\"line\">  <span class=\"attr\">only:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">master</span> <span class=\"comment\"># build master branch only</span></span><br><span class=\"line\"><span class=\"attr\">script:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"string\">hexo</span> <span class=\"string\">generate</span> <span class=\"comment\"># generate static files</span></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">provider:</span> <span class=\"string\">pages</span></span><br><span class=\"line\">  <span class=\"attr\">skip-cleanup:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">github-token:</span> <span class=\"string\">$GH_TOKEN</span></span><br><span class=\"line\">  <span class=\"attr\">keep-history:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">on:</span></span><br><span class=\"line\">    <span class=\"attr\">branch:</span> <span class=\"string\">master</span></span><br><span class=\"line\">  <span class=\"attr\">local-dir:</span> <span class=\"string\">public</span></span><br></pre></td></tr></table></figure>\n\n<p>8ã€å°† <code>.travis.yml</code> æ¨é€åˆ° repository ä¸­ã€‚Travis CI åº”è¯¥ä¼šè‡ªåŠ¨å¼€å§‹è¿è¡Œï¼Œå¹¶å°†ç”Ÿæˆçš„æ–‡ä»¶æ¨é€åˆ°åŒä¸€ repository ä¸‹çš„ <code>gh-pages</code> åˆ†æ”¯ä¸‹.<br>9ã€åœ¨ GitHub ä¸­å‰å¾€ä½ çš„ repository çš„è®¾ç½®é¡µé¢ï¼Œä¿®æ”¹ <code>GitHub Pages</code> çš„éƒ¨ç½²åˆ†æ”¯ä¸º <code>gh-pages</code>ã€‚<br><img src=\"https://p1.ssl.qhimg.com/t01c28f4fde1a753294.png\" alt=\"è®¾ç½®é¡µé¢gh-pages\"><br>10ã€å‰å¾€ <code>https://&lt;ä½ çš„ GitHub ç”¨æˆ·å&gt;.github.io</code> æŸ¥çœ‹ä½ çš„ç«™ç‚¹æ˜¯å¦å¯ä»¥è®¿é—®ã€‚è¿™å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´ã€‚</p>\n<p>æˆ–è®¸ä½ è§‰å¾—è¿™ç§åŸºäº Travis CI çš„éƒ¨ç½²æ–¹å¼é…ç½®ç¹çï¼Œä½†ä½ è¦çŸ¥é“ä¸€æ—¦é…ç½®èµ°é€šï¼ŒåæœŸéƒ¨ç½²éƒ½èµ°è‡ªåŠ¨åŒ–ï¼Œå¯¹äºå›¢é˜Ÿåšå®¢è€Œè¨€èƒ½åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡è½»å¿ƒæ™ºè´Ÿæ‹…ã€‚ä½ è¦æ˜¯çœŸä¸æƒ³é…ç½®ï¼Œæ¨èä½¿ç”¨å®˜æ–¹çš„<a href=\"https://hexo.io/docs/one-command-deployment\">ä¸€é”®éƒ¨ç½²</a>ï¼Œä½†è¿™ç§éƒ¨ç½²æ–¹å¼æ¯æ¬¡éƒ½è¦äººå·¥æ‰§è¡Œæ“ä½œã€‚</p>\n<h1 id=\"åè®°\"><a href=\"#åè®°\" class=\"headerlink\" title=\"åè®°\"></a>åè®°</h1><p>è¿˜æ˜¯é‚£å¥è¯ï¼Œèåœé’èœä¸ªæœ‰æ‰€çˆ±ã€‚ä» Jekyll åˆ° Hexoï¼Œè¿™è¶Ÿæ—…è¡Œè™½è¯´ä¸æ˜“ï¼Œä½†æ—…é€”ä¸­çš„é£æ™¯ä¹Ÿæ˜¯ä»¤äººéš¾å¿˜ã€‚è‹¥ä½ è¿˜æœ‰æ›´å¥½ç”¨çš„åšå®¢æ¡†æ¶ï¼Œå¯ç•™è¨€æ¨èç»™ç¬”è€…å’Œå¤§å®¶ã€‚</p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2020/11/26/2020-11-26-build-hexo-blog/\">https://mileofsunshine.github.io/2020/11/26/2020-11-26-build-hexo-blog/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["æ•™ç¨‹"],"tags":["Hexo","Github","Jekyll","Travis","åšå®¢"]},{"title":"ä½ æƒ³ pick å“ªæ¬¾åµŒå…¥å¼ Markdown ç¼–è¾‘å™¨?","url":"http://example.com/2020/09/01/2020-09-01-pick-embeddable-markdown-editor/","content":"<p>é¦–å…ˆå…ˆå£°æ˜ä¸‹ï¼Œæˆ‘ä»¬ä»Šå¤©è¦è®²çš„å¹¶éå®¢æˆ·ç«¯è½¯ä»¶ï¼Œè€Œæ˜¯â€œåµŒå…¥å¼â€çš„ Markdownã€‚</p>\n<p>ä»€ä¹ˆæ˜¯åµŒå…¥å¼ï¼ŸåµŒå…¥å¼æ˜¯è®¡ç®—æœºå·¥ç¨‹ä¸­çš„ä¸€ä¸ªä¸“ä¸šæœ¯è¯­ï¼Œå³åµŒå…¥å¼ç³»ç»Ÿã€‚</p>\n<blockquote>\n<p>åµŒå…¥å¼ç³»ç»Ÿç”¨äºæ§åˆ¶ã€ç›‘è§†æˆ–è€…è¾…åŠ©æ“ä½œæœºå™¨å’Œè®¾å¤‡çš„è£…ç½®ï¼Œæ˜¯ä¸€ç§ä¸“ç”¨çš„è®¡ç®—æœºç³»ç»Ÿã€‚</p>\n</blockquote>\n<p>æœ¬æ–‡ä¸­æåˆ°çš„åµŒå…¥å¼ï¼Œå…¶å®æ›´åå‘äºè¿™ç§è§£é‡Šï¼šä¸€ä¸ªå¯æ’æ‹”çš„ç»„ä»¶ã€‚</p>\n<p>æ’ä¸Šå®ƒï¼ŒæŸä¸ªåŠŸèƒ½å°±ä¼šå®ç°ã€‚æ‹”æ‰ï¼Œåˆä¸ä¼šå½±å“ç³»ç»Ÿè¿è¡Œã€‚</p>\n<p>Markdownæ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œæ˜“è¯»æ˜“å†™ï¼Œå¯¹å›¾ç‰‡ã€å›¾æ ‡ã€æ•°å­¦å¼éƒ½æœ‰æ”¯æŒã€‚å¯ç”¨äºåå‡ ç§ç¼–ç¨‹è¯­è¨€ï¼Œç›®å‰è®¸å¤šå¹³å°å’Œæ¡†æ¶éƒ½æ”¯æŒMarkdownï¼Œä¸»è¦åº”ç”¨åœ¨å„ä¸ªç¬”è®°å’Œåšå®¢å¹³å°ã€‚</p>\n<blockquote>\n<p><strong>Markdownçš„æ—¶é—´è½´</strong></p>\n<p>å®ƒè¯ç”Ÿäº2004å¹´</p>\n<p>2014å¹´9æœˆï¼Œè¢«æ›´åä¸º <a href=\"https://commonmark.org/\">CommonMark</a></p>\n<p>2012å¹´ï¼Œå®æ–½æ ‡å‡†åŒ–</p>\n<p>2017å¹´ï¼ŒGithubå‘å¸ƒäº†åŸºäºCommonMarkçš„<a href=\"https://github.github.com/gfm/\">Github Flavored Markdownï¼ˆGFMï¼‰</a>çš„æ­£å¼è§„èŒƒã€‚</p>\n<p>2018å¹´ï¼Œå‘å¸ƒ CommonMark è§„èŒƒå’Œæµ‹è¯•åŒ…</p>\n<p>â€¦</p>\n</blockquote>\n<p>æ­¤æ—¶ï¼Œä½ å¯èƒ½ä¼šcueåˆ°å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå®ƒæ‹¥æœ‰ç€ç±» Word è½¯ä»¶èˆ¬çš„ç”¨æˆ·ä½“éªŒâ€”â€”â€”â€”æ‰€è§å³æ‰€å¾—ï¼Œä½†å…¶è‡´å‘½çš„ç¼ºç‚¹æ˜¯å®¹æ˜“é€ æˆ XSS æ¼æ´ã€‚</p>\n<p>è·‘åäº†ï¼Œä»Šå¤©çš„ä¸»è§’ä¸æ˜¯å®ƒã€å¯Œæ–‡æœ¬ã€ï¼Œè€Œæ˜¯å®ƒã€Markdownã€ğŸ‘ˆ</p>\n<p>æ¥ä¸‹æ¥æ¨èå‡ æ¬¾å°ç¼–æ¥è§¦åˆ°çš„å¯åµŒå…¥çš„Markdownç¼–è¾‘å™¨ã€‚</p>\n<h2 id=\"tui-editor\"><a href=\"#tui-editor\" class=\"headerlink\" title=\"tui.editor\"></a>tui.editor</h2><p>ç¬¬ä¸€æ¬¾æ˜¯ç”±éŸ©å›½ nhn å®˜æ–¹ç»´æŠ¤ <code>tui.editor</code>ã€‚</p>\n<p><a href=\"https://github.com/nhn/tui.editor\">TOAST UI Editor</a> æ˜¯ä¸€æ¬¾çš„åŸºäº GFM(GitHub Flavored Markdown)çš„ç¼–è¾‘å™¨ï¼Œæ‹¥æœ‰ä¸¤ä¸ªæ¨¡å¼ Markdown å’Œ WYSIWYGï¼ˆæ‰€è§å³æ‰€å¾—ï¼‰ï¼Œå¯åœ¨å†™ä½œè¿‡ç¨‹ä¸­ä»»æ„åˆ‡æ¢ã€‚ ç”¨æˆ·ä½“éªŒä¹Ÿæ˜¯ç›¸å½“çš„èˆ’é€‚ï¼Œå¯¹äºåå¥½å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„ç”¨æˆ·æ¥è¯´ï¼Œå¯è°“æ˜¯é¡ºæ»‘åˆ‡æ¢ã€‚</p>\n<p>å¦‚æœä½ è¯»è¿‡ tui.editor çš„æ–‡æ¡£ï¼Œæ˜¯å¦ä¹Ÿå’Œæˆ‘ä¸€æ ·è§‰å¾—çœŸé¦™å‘¢ã€‚</p>\n<p>ğŸ‘‰å®ƒçš„ç‰¹æ€§ï¼š</p>\n<ul>\n<li>æä¾›äº†3ç§æ¡†æ¶ç»„ä»¶<ul>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/apps/jquery-editor\">@toast-ui/jquery-editor</a></li>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/apps/react-editor\">@toast-ui/react-editor</a></li>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/apps/vue-editor\">@toast-ui/vue-editor</a></li>\n</ul>\n</li>\n<li>æä¾›äº†å¼ºå¤§çš„ Markdown è¯­æ³•çš„æ‰©å±•æ’ä»¶<ul>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/plugins/chart\">chart</a> å›¾è¡¨</li>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/plugins/code-syntax-highlight\">code-syntax-highlight</a> ä»£ç å—åŒºåŸŸé«˜äº®</li>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/plugins/color-syntax\">color-syntax</a> æ–‡æœ¬é¢œè‰²é€‰æ‹©å™¨</li>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/plugins/table-merged-cell\">table-merged-cell</a> è¡¨æ ¼åˆå¹¶å•å…ƒæ ¼</li>\n<li><a href=\"https://github.com/nhn/tui.editor/tree/master/plugins/uml\">uml</a> UMLï¼ˆ ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼‰å›¾</li>\n</ul>\n</li>\n<li>æä¾›äº†ä¸°å¯Œçš„ <a href=\"https://nhn.github.io/tui.editor/latest/\">API</a>ï¼Œæ–¹ä¾¿ä½¿ç”¨è€…å¼€å‘è‡ªå·±çš„æ‰©å±•</li>\n<li>åœ¨æµè§ˆå™¨æ”¯æŒæ–¹é¢ä¹Ÿæ˜¯å¾ˆå–œäººï¼Œæ”¯æŒIE 10+</li>\n<li>æ”¯æŒVieweræ¨¡å¼ï¼ˆåªè¯»æ¨¡å¼ï¼‰ï¼Œç”¨äºç¼–è¾‘å™¨å†…å®¹çš„æœ€ç»ˆå‘ˆç°ï¼ˆå¤šç”¨äºè¯¦æƒ…é¡µä¸­ï¼‰</li>\n<li>æ”¯æŒ<a href=\"https://github.com/nhn/tui.editor/blob/master/apps/editor/docs/i18n.md#supported-languages\">å›½é™…åŒ–</a></li>\n</ul>\n<p>ä»‹ç»åˆ°è¿™ï¼Œä½ æ˜¯å¦ä¹Ÿå¿ƒåŠ¨äº†ã€‚å–œæ¬¢å®ƒï¼Œå°±Pickå®ƒå§~</p>\n<p><a href=\"https://nhn.github.io/tui.editor/latest/tutorial-example01-editor-basic\">åœ¨çº¿demo</a></p>\n<h2 id=\"SimpleMDE\"><a href=\"#SimpleMDE\" class=\"headerlink\" title=\"SimpleMDE\"></a>SimpleMDE</h2><p><a href=\"https://github.com/sparksuite/simplemde-markdown-editor\">SimpleMDE</a> æ˜¯ä¸€ä¸ªå¯åµŒå…¥çš„JavaScript Markdownç¼–è¾‘å™¨ï¼Œé™¤äº†åŸºç¡€çš„å­—ä½“åŠ ç²—ã€å€¾æ–œï¼Œæ’å…¥å›¾ç‰‡ã€é“¾æ¥ç­‰åŠŸèƒ½å¤–ï¼Œè¿˜æ”¯æŒè‡ªåŠ¨ä¿å­˜å’Œæ‹¼å†™æ£€æŸ¥ã€‚</p>\n<p>å°ç¼–ç ”ç©¶äº†ä¸‹ï¼Œè¿™ä¸ªè‡ªåŠ¨ä¿å­˜æ˜¯åŸºäº localStorage å­˜å‚¨ï¼Œå¦‚æœä½ ç”¨åˆ°è¿™ä¸ªåŠŸèƒ½äº†ï¼Œåˆ‡è®°å°½é‡ä¸å­˜å‚¨base64æ ¼å¼çš„å›¾ç‰‡ï¼Œä¸ç„¶ä¼šé€ æˆå†…å­˜æº¢å‡ºã€‚ä½ æ‡‚å¾—ã€æ¯•ç«Ÿlocalstorageåªæ”¯æŒ5Må¤§å°ã€ã€‚</p>\n<p>åœ¨é¢„é˜²XSSæ”»å‡»æ–¹é¢ï¼Œä½œè€…å¹¶æœªå¯¹æ­¤åšå¤„ç†ã€‚ä»githubçš„ä»£ç æäº¤æ—¶é—´æ¥çœ‹ï¼Œç›®å‰å·²ä¸å†ç»´æŠ¤ï¼Œæ·±è¡¨é—æ†¾ã€‚å¦‚æœä½ æœ‰æƒ³æ³•ï¼Œå¯ä»¥fork å®ƒï¼Œè‡ªå·±ç»´æŠ¤ï¼Œå°ç¼–è¡¨ç¤ºå¾ˆèµåŒå‘¢ã€‚</p>\n<p>è¿™æ¬¾ç¼–è¾‘å™¨è™½æœªåƒ tui.editorä¸€æ ·ï¼Œæä¾›äº† â€œæ‰€è§å³æ‰€å¾—â€æ¨¡å¼ï¼Œä½†å®ƒæœ‰è´´å¿ƒåœ°æä¾›äº† <a href=\"https://simplemde.com/markdown-guide\">Markdownä½¿ç”¨æŒ‡å—</a>ï¼Œä¸ç®¡ä½ çš„é¡¹ç›®æ˜¯åŸºäº Vue è¿˜æ˜¯ Reactï¼Œä½ éƒ½å¯ä»¥Pickå®ƒï¼Œè¿˜æ˜¯å¾ˆniceçš„~</p>\n<p><a href=\"https://simplemde.com/\">åœ¨çº¿demo</a></p>\n<hr>\n<p>ä»¥ä¸Šä¸¤æ¬¾ï¼Œä¸ç®¡åœ¨å“ªä¸ªæ¡†æ¶ä¸­éƒ½èƒ½ä½¿ç”¨ã€‚æ¥ä¸‹æ¥ä»‹ç»ä¸‰æ¬¾åˆ†åˆ«åŸºjQueryã€Vueå’ŒReactçš„Markdown Editorç»„ä»¶</p>\n<hr>\n<h2 id=\"Editor-md\"><a href=\"#Editor-md\" class=\"headerlink\" title=\"Editor.md\"></a>Editor.md</h2><p><a href=\"https://github.com/pandao/editor.md\">Editor.md</a> æ˜¯ä¸€æ¬¾å›½äº§å¯åµŒå…¥çš„å¼€æº Markdown åœ¨çº¿ç¼–è¾‘å™¨ç»„ä»¶ã€‚åŸºäº CodeMirrorã€jQuery å’Œ Marked æ„å»ºã€‚åŒæ—¶æ”¯æŒé€šç”¨ Markdown / CommonMark å’Œ GFM (GitHub Flavored Markdown) é£æ ¼çš„è¯­æ³•ï¼Œç‰¹æ€§ç›¸å½“ä¸°å¯Œã€‚åœ¨è¿™5æ¬¾ç¼–è¾‘å™¨ä¸­ï¼Œç›®å‰ Star æ•°ä¹Ÿæ˜¯ä»…æ¬¡äº tui.editorã€‚</p>\n<p>å®ƒçš„ç‰¹æ€§ä¹Ÿæ˜¯å¾ˆä¸°å¯Œï¼Œæ€»æœ‰ä¸€ä¸ªæ»¡è¶³ä½ çš„è¦æ±‚ğŸ˜ã€‚</p>\n<p>ğŸ‘‰å®ƒçš„ç‰¹æ€§ï¼š</p>\n<ul>\n<li>æ”¯æŒå®æ—¶é¢„è§ˆã€å›¾ç‰‡ï¼ˆè·¨åŸŸï¼‰ä¸Šä¼ ã€é¢„æ ¼å¼æ–‡æœ¬/ä»£ç /è¡¨æ ¼æ’å…¥ã€ä»£ç æŠ˜å ã€æœç´¢æ›¿æ¢ã€åªè¯»æ¨¡å¼ã€è‡ªå®šä¹‰æ ·å¼ä¸»é¢˜å’Œå¤šè¯­è¨€è¯­æ³•é«˜äº®ç­‰åŠŸèƒ½ï¼›</li>\n<li>æ”¯æŒ ToC ç›®å½•ï¼ˆTable of Contentsï¼‰ã€Emoji è¡¨æƒ…ã€Task listsã€@é“¾æ¥ç­‰ Markdown æ‰©å±•è¯­æ³•ï¼›</li>\n<li>æ”¯æŒ TeX ç§‘å­¦å…¬å¼ï¼ˆåŸºäº KaTeXï¼‰ã€æµç¨‹å›¾ Flowchart å’Œ æ—¶åºå›¾ Sequence Diagram;</li>\n<li>æ”¯æŒè¯†åˆ«å’Œè§£æ HTML æ ‡ç­¾ï¼Œå¹¶ä¸”æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤æ ‡ç­¾è§£æï¼Œå…·æœ‰å¯é çš„å®‰å…¨æ€§å’Œå‡ ä¹æ— é™çš„æ‰©å±•æ€§ï¼›</li>\n<li>æ”¯æŒ AMD / CMD æ¨¡å—åŒ–åŠ è½½ï¼ˆæ”¯æŒ Require.js &amp; Sea.jsï¼‰ï¼Œå¹¶ä¸”æ”¯æŒè‡ªå®šä¹‰æ‰©å±•æ’ä»¶ï¼›</li>\n<li>å…¼å®¹ä¸»æµçš„æµè§ˆå™¨ï¼ˆIE8+ï¼‰å’Œ Zepto.jsï¼Œä¸”æ”¯æŒ iPad ç­‰å¹³æ¿è®¾å¤‡ï¼›</li>\n<li>æ”¯æŒè‡ªå®šä¹‰ä¸»é¢˜æ ·å¼ï¼›</li>\n</ul>\n<p>è™½è¯´è¿™æ¬¾ç¼–è¾‘å™¨å·²ç»å¯¹åŸºç¡€çš„XSSæ”»å‡»åšäº†å¤„ç†ï¼Œä½†è¿˜æ˜¯å­˜åœ¨å®‰å…¨éšæ‚£ï¼Œç”±äºå®ƒç›®å‰å¤„äºç»´æŠ¤æ€ï¼Œå¯èƒ½ç»´æŠ¤è€…å·²ç»åœ¨ä¿®BUGçš„è·¯ä¸Šäº†ã€‚å¦‚æœä½ æœ‰è§£å†³åŠæ³•ï¼Œå¯ä»¥ç»™å®ƒæ <a href=\"https://github.com/pandao/editor.md/compare\">PR</a> ğŸ‘ˆã€‚</p>\n<p>å¦‚æœä½ å¯¹æˆ‘æ‰€è¯´çš„å®‰å…¨éšæ‚£æœ‰å…´è¶£ï¼Œå¯ä»¥è¯•è¿è¡Œä»¥ä¸‹ä»£ç ã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;https://pandao.github.io/editor.md/images/logos/editormd-logo-180x180.png&quot;</span> <span class=\"attr\">onload</span>=<span class=\"string\">&quot;javascript:alert(1)&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><a href=\"http://editor.md.ipandao.com/\">åœ¨çº¿demo</a></p>\n<h2 id=\"uiw-react-md-editor\"><a href=\"#uiw-react-md-editor\" class=\"headerlink\" title=\"@uiw/react-md-editor\"></a>@uiw/react-md-editor</h2><p><a href=\"https://github.com/uiwjs/react-md-editor\">@uiw/react-md-editor</a> æ˜¯ä¸€ä¸ªç”± React å’Œ TypeScript å®ç°çš„å¸¦æœ‰é¢„è§ˆçš„ Markdown ç¼–è¾‘å™¨ã€‚ç›®å‰ç”± uiw å›¢é˜Ÿç»´æŠ¤ã€‚</p>\n<blockquote>\n<p>uiw æ˜¯åŸºäº React 16+ çš„ UI ç»„ä»¶åº“ã€‚</p>\n</blockquote>\n<p>ğŸ‘‰å®ƒçš„ç‰¹æ€§ï¼š</p>\n<ul>\n<li>ä¸‰ç§æ¨¡å¼ä»»æ„åˆ‡æ¢ï¼šç¼–è¾‘ã€é¢„è§ˆã€ç¼–è¾‘ + å®æ—¶é¢„è§ˆ</li>\n<li>æ”¯æŒVieweræ¨¡å¼ï¼ˆåªè¯»æ¨¡å¼ï¼‰ï¼Œç”¨äºç¼–è¾‘å™¨å†…å®¹çš„æœ€ç»ˆå‘ˆç°ã€‚æœ€å¸¸è§äºæ–‡ç« è¯¦æƒ…é¡µçš„å±•ç¤º</li>\n<li>æ”¯æŒ KaTeX ç§‘å­¦å…¬å¼é¢„è§ˆ</li>\n<li>åŒ…ä½“ç§¯å¾ˆå°ï¼Œæ‰ 439 kB</li>\n</ul>\n<p>å› ä¸ºå®ƒæ˜¯ä¸€ä¸ª React ç»„ä»¶ï¼Œæ‰€ä»¥ç”¨æ³•ä¹Ÿå¾ˆç®€å•ã€‚ç›´æ¥å¼•å…¥ï¼ŒåŠ ä¸Šé…ç½®å°±å“¦äº†ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> React <span class=\"keyword\">from</span> <span class=\"string\">&quot;react&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> ReactDOM <span class=\"keyword\">from</span> <span class=\"string\">&quot;react-dom&quot;</span>;</span><br><span class=\"line\"><span class=\"keyword\">import</span> MDEditor <span class=\"keyword\">from</span> <span class=\"string\">&#x27;@uiw/react-md-editor&#x27;</span>;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">App</span>(<span class=\"params\"></span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> [value, setValue] = React.useState(<span class=\"string\">&quot;**Hello world!!!**&quot;</span>);</span><br><span class=\"line\">  <span class=\"keyword\">return</span> (</span><br><span class=\"line\">    &lt;div className=<span class=\"string\">&quot;container&quot;</span>&gt;</span><br><span class=\"line\">      &lt;MDEditor</span><br><span class=\"line\">        value=&#123;value&#125;</span><br><span class=\"line\">        onChange=&#123;setValue&#125;</span><br><span class=\"line\">      /&gt;</span><br><span class=\"line\">      &lt;MDEditor.Markdown source=&#123;value&#125; /&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">  );</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><a href=\"https://uiwjs.github.io/react-md-editor/\">åœ¨çº¿demo</a></p>\n<h2 id=\"mavon-editor\"><a href=\"#mavon-editor\" class=\"headerlink\" title=\"mavon-editor\"></a>mavon-editor</h2><p><a href=\"https://github.com/hinesboy/mavonEditor\">mavonEditor</a>æ˜¯ä¸€ä¸ªåŸºäº Vue çš„ Markdown ç¼–è¾‘å™¨ã€‚ç›®å‰å®ƒæ˜¯ç”±ä¸ªäººç»´æŠ¤ï¼Œå®ç°äº†éƒ¨åˆ†å›½é™…åŒ–ï¼Œæ”¯æŒ8ç§è¯­è¨€ã€‚çœ‹è¿‡ä¹‹å‰å‡ æ¬¾åï¼Œå†æ¥çœ‹å®ƒï¼Œæœ‰ç§çœ¼å‰ä¸€äº®çš„æ„Ÿè§‰ï¼Œå› ä¸ºå®ƒçš„ç‰¹æ€§å¾ˆæ–°é¢–ã€‚å¯ä»¥åœ¨vueä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨ nuxt.js ä¸­ä½¿ç”¨ã€‚</p>\n<p>ğŸ‘‰å®ƒçš„ç‰¹æ€§ï¼š</p>\n<ul>\n<li>æ”¯æŒä¸Šä¸‹è§’æ ‡</li>\n<li>æ”¯æŒæ–‡å­—é«˜äº®ï¼ˆæ ‡è®°ç¬”ï¼‰</li>\n<li>æ”¯æŒä¸‹åˆ’çº¿</li>\n<li>æ”¯æŒå¸ƒå±€ï¼šå±…å·¦ã€å±…ä¸­ã€å±…å³</li>\n<li>æ”¯æŒ KATEXå…¬å¼ é¢„è§ˆ</li>\n<li>æ”¯æŒæ ‡é¢˜å¯¼èˆª</li>\n<li>æ”¯æŒå›½é™…åŒ–</li>\n<li>æ”¯æŒå¿«æ·é”®è®¾ç½®</li>\n<li>æ”¯æŒæ’¤å›ã€æ¢å¤ã€æ¸…ç©ºç­‰ç­‰</li>\n</ul>\n<p><a href=\"http://106.15.232.22/\">åœ¨çº¿demo</a></p>\n<h2 id=\"ä¸€è§ˆ\"><a href=\"#ä¸€è§ˆ\" class=\"headerlink\" title=\"ä¸€è§ˆ\"></a>ä¸€è§ˆ</h2><table>\n<thead>\n<tr>\n<th>editor</th>\n<th>å…³æ³¨æ•°</th>\n<th>æ›´æ–°æƒ…å†µ</th>\n<th>å­˜åœ¨xssé£é™©çº§åˆ«</th>\n<th>æ¡†æ¶æ”¯æŒæƒ…å†µ</th>\n<th>npmåŒ…</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>tui.editor</td>\n<td>11k+</td>\n<td>ä¸€ä¸ªæœˆå‰</td>\n<td>ä½</td>\n<td>æ”¯æŒjQuery, Vue, React</td>\n<td><a href=\"https://www.npmjs.com/package/@toast-ui/editor\">@toast-ui/editor</a></td>\n</tr>\n<tr>\n<td>SimpleMDE</td>\n<td>8k</td>\n<td>4å¹´å‰</td>\n<td>é«˜</td>\n<td>æ”¯æŒjQuery, Vue, React</td>\n<td><a href=\"https://www.npmjs.com/package/simplemde\">simplemde</a></td>\n</tr>\n<tr>\n<td>editor.md</td>\n<td>10k+</td>\n<td>16ä¸ªæœˆå‰</td>\n<td>è¾ƒä½</td>\n<td>æ”¯æŒjQuery</td>\n<td><a href=\"https://www.npmjs.com/package/editor.md\">editor.md</a></td>\n</tr>\n<tr>\n<td>@uiw/react-md-editor</td>\n<td>134</td>\n<td>å‡ å¤©å‰</td>\n<td>è¾ƒä½</td>\n<td>æ”¯æŒReact</td>\n<td><a href=\"https://www.npmjs.com/package/@uiw/react-md-editor\">@uiw/react-md-editor</a></td>\n</tr>\n<tr>\n<td>mavonEditor</td>\n<td>4.2k</td>\n<td>4ä¸ªæœˆå‰</td>\n<td>è¾ƒä½</td>\n<td>æ”¯æŒVue</td>\n<td><a href=\"https://www.npmjs.com/package/mavon-editor\">mavon-editor</a></td>\n</tr>\n</tbody></table>\n<p>ä»¥ä¸Šæ˜¯è¿™å‡ ä¸ªåµŒå…¥å¼ Markdown ç¼–è¾‘å™¨çš„ä¸€è§ˆã€‚é™¤äº†å°ç¼–ä»‹ç»çš„è¿™å‡ æ¬¾ï¼Œè‚¯å®šè¿˜æœ‰å¾ˆå¤šå…¶ä»–ä¼˜ç§€çš„ Markdown ç¼–è¾‘å™¨ï¼Œå¦‚æœä½ çŸ¥é“ä¹Ÿå¯æ¨èç»™æˆ‘ã€‚</p>\n<p>æ¨èäº†è¿™ä¹ˆå¤šæ¬¾ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ï¼Œå¿«ç‚¹æ¥Pickå§ï¼ï¼ï¼</p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2020/09/01/2020-09-01-pick-embeddable-markdown-editor/\">https://mileofsunshine.github.io/2020/09/01/2020-09-01-pick-embeddable-markdown-editor/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["Markdown"]},{"title":"è¯»â€œåœ¨æ¡†æ¶è®¾è®¡ä¸­å¯»æ±‚å¹³è¡¡â€","url":"http://example.com/2019/12/30/2019-12-30-seeking-the-balance-in-framework-design/","content":"<p>ä»Šå¹´ JSConf.Asia ä¼šè®®ä¸Šï¼ŒVue.js çš„ä½œè€… @å°¤é›¨æºª åœ¨å…³äº å‰ç«¯æ¡†æ¶è®¾è®¡å–èˆ ä¸Šä½œäº†åˆ†äº«ã€‚ åˆ†äº«ä¸»è¦ä»ä¸¤ä¸ªéƒ¨åˆ†å±•å¼€ä»‹ç»ï¼š èŒè´£èŒƒå›´ï¼ˆScopeï¼‰å’Œ æ¸²æŸ“æœºåˆ¶ï¼ˆRender Mechanismï¼‰ã€‚</p>\n<h4 id=\"èŒè´£èŒƒå›´\"><a href=\"#èŒè´£èŒƒå›´\" class=\"headerlink\" title=\"èŒè´£èŒƒå›´\"></a>èŒè´£èŒƒå›´</h4><p>å°çš„èŒè´£èŒƒå›´å…·æœ‰å¾ˆå¥½çš„çµæ´»åº¦ï¼Œä½†å…³äºæ„å»ºæŠ½è±¡ä¸Šè¦æ±‚å¼€å‘è€…æœ‰è‡ªä¸»å­¦ä¹ èƒ½åŠ›ã€‚ç›¸åï¼Œå¤§çš„èŒè´£èŒƒå›´è‡´åŠ›äºæä¾›æŠ½è±¡æ¦‚å¿µï¼Œå€˜è‹¥æŠ½è±¡ä¸é€‚ç”¨ï¼Œæƒ³æ”¹å˜æ—¶ï¼Œå´ç¼ºä¹çµæ´»åº¦ã€‚</p>\n<p>Vue åœ¨èŒè´£èŒƒå›´è¿™ä¸ªé—®é¢˜çš„å¤„ç†æ–¹å¼ä¸Šï¼Œé‡‡å–äº†æ¸è¿›å¼ã€‚</p>\n<p><img src=\"https://p1.ssl.qhimg.com/t01fe27088aa20d3ded.png\"></p>\n<p>é€šè¿‡æ¸è¿›çš„æ–¹å¼æ¥é€‰æ‹©ç‰¹æ€§ï¼Œè®©æ›´å¤šçš„äººä¸“æ³¨äºå¼€å‘ï¼Œè€Œä¸æ˜¯å­¦ä¹ ä¸€å †åœ¨å½“å‰å¼€å‘ä¸­å¯èƒ½ä¸éœ€è¦çš„æ¦‚å¿µã€‚å¯¹äºå½“å‰ä¸€äº›é—®é¢˜ï¼Œå¼€å‘è€…ä»ç„¶èƒ½é€šè¿‡æ–‡æ¡£æ¥è·å–ä¸€äº›è§£å†³æ–¹æ¡ˆã€‚</p>\n<p>è¿™ç§æ¸è¿›å¼ä¸€æ¥è®© Vue ä¹Ÿå­˜åœ¨ç€å¤§èŒè´£èŒƒå›´ä¸­çš„ç»Ÿä¸€ç»´æŠ¤é¢é—®é¢˜ï¼›äºŒæ¥ Vue ç”Ÿæ€ä¹Ÿæ— æ³•åƒå°èŒè´£èŒƒå›´é‚£æ ·çš„å¤šæ ·åŒ–ã€‚</p>\n<h4 id=\"æ¸²æŸ“æœºåˆ¶\"><a href=\"#æ¸²æŸ“æœºåˆ¶\" class=\"headerlink\" title=\"æ¸²æŸ“æœºåˆ¶\"></a>æ¸²æŸ“æœºåˆ¶</h4><p>JSX å…·æœ‰å®Œæ•´çš„ JavaScript è¡¨ç°åŠ›ï¼Œä½†ç”±äºæ¸²æŸ“å‡½æ•°çš„åŠ¨æ€ç‰¹æ€§ä½¿å…¶éš¾ä»¥ä¼˜åŒ–ã€‚æ¨¡æ¿çš„çº¦æŸå…è®¸ç¼–è¯‘å™¨å¯¹ä½ çš„æ„å›¾ä½œåšé¢„åˆ¤ï¼Œä»è€Œç»™å®ƒæ›´å¤šçš„ç©ºé—´æ‰§è¡Œä¼˜åŒ–ï¼›ä½†å› å—é™äºæ¨¡æ¿è¯­æ³•ï¼Œä»è€Œå¤±å»äº† JavaScript è¡¨è¾¾èƒ½åŠ›ã€‚</p>\n<p>å•çº¯å–èˆä¸èƒ½è§£å†³é—®é¢˜ï¼ŒVue åœ¨æ¸²æŸ“æœºåˆ¶æ–¹é¢é€‰æ‹©äº† VDOM ç»“åˆæ¨¡æ¿ç¼–è¯‘ï¼Œåœ¨æ¨¡æ¿ç¼–è¯‘ä¸Šå…¥æ‰‹ä¼˜åŒ–ï¼Œå¼•å…¥äº†SVELTEï¼Œåªå¯¹åŠ¨æ€èŠ‚ç‚¹ä½œ VDOM Diff ç®—æ³•ï¼Œä»è€Œæé«˜äº†è¿è¡Œé€Ÿåº¦ã€‚</p>\n<p><img src=\"https://p1.ssl.qhimg.com/t01352166f663a62c22.png\" alt=\"svelte-logo-horizontal.svg\"></p>\n<p>æ¥ä¸‹æ¥çœ‹çœ‹ SVELTE æ˜¯æ€ä¹ˆå¤„ç†çš„ã€‚</p>\n<p>åœºæ™¯1ï¼šåªæœ‰ä¸€ä¸ªåŠ¨æ€èŠ‚ç‚¹</p>\n<p><img src=\"https://p3.ssl.qhimg.com/t01712c2274c39bc718.png\" alt=\"image\"></p>\n<p>å½“æ¨¡æ¿ä¸­åªæœ‰ä¸€ä¸ªåŠ¨æ€èŠ‚ç‚¹æ—¶ï¼Œæ•´ä¸ªèŠ‚ç‚¹ç»“æ„æ˜¯é™æ€çš„ã€ä¸ä¼šæ”¹å˜ï¼Œæˆ‘ä»¬åªéœ€ç›´æ¥æ›´æ–° message å­—ç¬¦ä¸²è¿™ä¸€ä¸ªåŠ¨æ€èŠ‚ç‚¹ã€‚</p>\n<p>åœºæ™¯2ï¼šå­˜åœ¨ç»“æ„æŒ‡ä»¤</p>\n<p><img src=\"https://p1.ssl.qhimg.com/t01514e25d142756025.png\" alt=\"v-if Demo\"></p>\n<p>è‹¥å­˜åœ¨ç»“æ„æŒ‡ä»¤ <code>v-if</code>ï¼Œæ­¤æ—¶è¿™ä¸ªèŠ‚ç‚¹å¯èƒ½å­˜åœ¨æˆ–å¯èƒ½ä¸å­˜åœ¨ã€‚å¤„ç†åŠæ³•æ˜¯è¿›è¡Œæ‹†åˆ†ï¼Œä»¥ <code>v-if</code> ä¸ºç•Œæ‹†åˆ†æˆä¸¤ä¸ªåµŒå¥—å—ã€‚ </p>\n<ul>\n<li><code>v-if</code> å¤–éƒ¨ï¼šæ˜¯ä¸€ä¸ªé™æ€èŠ‚ç‚¹ç»“æ„ï¼Œåªæœ‰ <code>v-if</code> è¿™ä¸€ä¸ªåŠ¨æ€èŠ‚ç‚¹</li>\n<li><code>v-if</code> å†…éƒ¨ï¼šä¹Ÿæ˜¯ä¸€ä¸ªé™æ€èŠ‚ç‚¹ç»“æ„ï¼Œåªæœ‰ <code>&#123;&#123; message &#125;&#125;</code> ä¸€ä¸ªåŠ¨æ€èŠ‚ç‚¹</li>\n</ul>\n<p>å”¯ä¸€è¦å¤„ç†çš„å°±æ˜¯å°†æ¯ä¸ªå—å†…çš„åŠ¨æ€èŠ‚ç‚¹æ•°ç»„æ‰å¹³åŒ–ã€‚</p>\n<blockquote>\n<p>æ•°ç»„æ‰å¹³åŒ–æ˜¯æŒ‡å°†ä¸€ä¸ªå¤šç»´æ•°ç»„å˜ä¸ºä¸€ç»´æ•°ç»„</p>\n</blockquote>\n<p><img src=\"https://p5.ssl.qhimg.com/t01df369a48ee8b05df.png\" alt=\"v-for Demo\"></p>\n<p>åˆæˆ–è€…å­˜åœ¨çš„æ˜¯ç»“æ„æŒ‡ä»¤ <code>v-for</code>ï¼Œå¤„ç†æ–¹å¼ä¹Ÿæ˜¯ä¸€æ ·ï¼Œå°†ä»£ç æ‹†åˆ†æˆåµŒå¥—å—â€¦</p>\n<p><img src=\"https://p5.ssl.qhimg.com/t01a85190317eae945e.png\" alt=\"more v-if, v-for Demo\"></p>\n<p>è‹¥æ¨¡æ¿ä¸­å­˜åœ¨å¤šä¸ª <code>v-if</code>ã€<code>v-for</code>ï¼Œäº¦æ˜¯å¦‚æ­¤ã€‚ä»¥ç»“æ„æŒ‡ä»¤ä¸ºç•Œï¼Œå°†æ¨¡æ¿æ‹†åˆ†æˆåµŒå¥—å—ã€‚æ¯ä¸ªå—å†…çš„èŠ‚ç‚¹ç»“æ„æ˜¯é™æ€çš„ï¼ŒåŠ¨æ€èŠ‚ç‚¹ç»´æŠ¤åœ¨ä¸€ä¸ªå•ä¸€æ‰å¹³åŒ–æ•°ç»„ä¸­ã€‚</p>\n<p><img src=\"https://p1.ssl.qhimg.com/t015cf5539238c56211.png\" alt=\"Block Tree\"></p>\n<p><img src=\"https://p1.ssl.qhimg.com/t01dc325e2cba4ce2e2.png\" alt=\"Block Tree Demo\"></p>\n<p>å‡è®¾è¿™ä¸ªåŒºå—æ ‘å­˜åœ¨ä¸Šå›¾çš„èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå¾—å‡ºçš„æ‰å¹³åŒ–æ•°ç»„ï¼ˆç»“æ„æŒ‡ä»¤ v-if, v-for ç­‰æœ¬èº«ä¹Ÿå¯ä»¥çœ‹å‡ºä¸€ä¸ªèŠ‚ç‚¹ï¼‰ä¸ºï¼š</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">B5: [node5, node6, node7]</span><br><span class=\"line\">B4: [node1, node2, node3, node4]</span><br><span class=\"line\">B3: [B5]</span><br><span class=\"line\">B2: [B4]</span><br><span class=\"line\">B1: [B2, B3]</span><br></pre></td></tr></table></figure>\n<p>å¦‚æ­¤ä¸€æ¥ï¼Œå¯¹äºåŒä¸€æ¨¡æ¿çš„Diffï¼Œ vue2.x å’Œ vue3.x åœ¨åšæ³•ä¸Šå°±å­˜åœ¨æ¯”è¾ƒå¤§çš„å·®å¼‚ã€‚vue2.x ä¼šåšä¸€ä¸ªå®Œæ•´çš„ Diff æ“ä½œï¼Œè€Œ vue3.x æ˜¯æ¯”è¾ƒä¸€ä¸ªå•ä¸€æ‰å¹³åŒ–æ•°ç»„ä¸­çš„æ–‡æœ¬æ˜¯å¦å‘ç”Ÿå˜åŒ–ã€‚æœ‰å®éªŒè¡¨æ˜ï¼Œvue3.0 ä¸­ä½¿ç”¨çš„æ–°çš„ç¼–è¯‘ç­–ç•¥çš„é€Ÿåº¦æ¯” vue2.x å¿«äº†6å€å¤šã€‚è™½è¯´æ˜¯ä¸ªå®éªŒæ•°æ®ï¼Œä½†æˆ–å¤šæˆ–å°‘ï¼Œvue3 éƒ½æ˜¯æ›´å¿«ã€‚</p>\n<p><img src=\"https://p1.ssl.qhimg.com/t015efdcb0ccb5fb4a3.png\" alt=\"å®éªŒæ•°æ®\"></p>\n<h4 id=\"æ€»ç»“\"><a href=\"#æ€»ç»“\" class=\"headerlink\" title=\"æ€»ç»“\"></a>æ€»ç»“</h4><p>æœ€åï¼Œæˆ‘ä»¬å›åˆ°æœ¬æ¬¡åˆ†äº«ä¸­çš„è¯é¢˜ã€‚é€šè¿‡ @å°¤é›¨æºª çš„åˆ†äº«ï¼Œæˆ‘ä»¬èƒ½æ„Ÿå—åˆ°ä»–åœ¨æ¡†æ¶è®¾è®¡ä¸­æ˜¯å¦‚ä½•å¯»æ±‚å¹³è¡¡çš„ï¼Œè¿™å¯¹æˆ‘ä»¬ä»Šåçš„æ¡†æ¶è®¾è®¡å­˜åœ¨ç€è®¸å¤šå€Ÿé‰´æ„ä¹‰ã€‚</p>\n<p>å¦‚ä½•è·å–ä¸€ä¸ªæœ€ä½³å¹³è¡¡ç‚¹ï¼Œæˆ‘ä»¬éƒ½æ›¾æœ‰è¿‡åŠªåŠ›å¯»æ‰¾æœ€ä½³çš„æ–¹å¼æ¥è§£å†³é—®é¢˜çš„ç»å†ï¼Œæˆ‘æƒ³è¿™å°±æ˜¯ä¸€ä¸ªå¯»æ±‚æœ€ä½³å¹³è¡¡ç‚¹çš„è¿‡ç¨‹ã€‚è¿™ä¸ªæœ€ä½³æ–¹å¼ä¸ä»…èƒ½è§£å†³ç°æœ‰é—®é¢˜ï¼Œå¹¶ä¸”ä¸åæœŸçš„å‘å±•ä¹Ÿä¸€è‡´ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™åº”è¯¥å°±æ˜¯æœ€ä½³å¹³è¡¡ç‚¹ã€‚</p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2019/12/30/2019-12-30-seeking-the-balance-in-framework-design/\">https://mileofsunshine.github.io/2019/12/30/2019-12-30-seeking-the-balance-in-framework-design/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["æ¡†æ¶è®¾è®¡"]},{"title":"Vue å’Œ React çš„çŠ¶æ€é€»è¾‘å¤ç”¨æ–¹æ¡ˆ","url":"http://example.com/2019/01/16/2019-01-16-vue-and-react-multiplex/","content":"<h1 id=\"Vue-äº”ç§é€»è¾‘å¤ç”¨æ–¹æ¡ˆ\"><a href=\"#Vue-äº”ç§é€»è¾‘å¤ç”¨æ–¹æ¡ˆ\" class=\"headerlink\" title=\"Vue äº”ç§é€»è¾‘å¤ç”¨æ–¹æ¡ˆ\"></a>Vue äº”ç§é€»è¾‘å¤ç”¨æ–¹æ¡ˆ</h1><p>ç›®å‰<code>Vue</code>å®ç°ä»£ç é€»è¾‘å¤ç”¨ä¸»è¦5ä¸ªé€”å¾„ï¼š <code>Vuex</code>, <code>Mixins</code>(æ··å…¥,  <code>Vue</code>æ¨è), <code>Hooks</code>, <code>HOC</code>(é«˜é˜¶ç»„ä»¶, <code>React</code>æ¨è), å‡½æ•°å¼ç»„ä»¶</p>\n<h2 id=\"Vuex\"><a href=\"#Vuex\" class=\"headerlink\" title=\"Vuex\"></a>Vuex</h2><p>å®ƒé‡‡ç”¨é›†ä¸­å¼å­˜å‚¨ç®¡ç†åº”ç”¨çš„æ‰€æœ‰ç»„ä»¶çš„çŠ¶æ€ã€‚å¯¹å¤§å‹é¡¹ç›®æ¥è¯´æ˜¯ä¸ªå¾ˆå¥½çš„çŠ¶æ€ç®¡ç†æ¨¡å¼ï¼Œä½†å­˜åœ¨å¯¹äºå¼•å…¥å¤ªå¤šæŠ½è±¡, å¯¼è‡´å¼€å‘æ—¶æ€»åœ¨ä¸åŒçš„æ–‡ä»¶ä¹‹é—´åˆ‡æ¢, é€ æˆç»„ä»¶é‡ç”¨æ›´å›°éš¾ç­‰é—®é¢˜ã€‚</p>\n<h2 id=\"Mixins\"><a href=\"#Mixins\" class=\"headerlink\" title=\"Mixins\"></a>Mixins</h2><p>æ··åˆå¯¹è±¡å¯ä»¥åŒ…å«ä»»æ„ç»„ä»¶é€‰é¡¹ã€‚ä»¥ç»„ä»¶ä½¿ç”¨æ··åˆå¯¹è±¡æ—¶ï¼Œæ‰€æœ‰æ··åˆå¯¹è±¡çš„é€‰é¡¹å°†è¢«æ··å…¥è¯¥ç»„ä»¶æœ¬èº«çš„é€‰é¡¹ã€‚</p>\n<ul>\n<li>åŒåé’©å­å‡½æ•°å°†æ··åˆä¸ºä¸€ä¸ªæ•°ç»„ï¼Œéƒ½å°†è¢«è°ƒç”¨ï¼Œæ··åˆå¯¹è±¡çš„é’©å­å°†åœ¨ç»„ä»¶è‡ªèº«é’©å­ä¹‹å‰è°ƒç”¨</li>\n<li>å½“æ··åˆå€¼ä¸ºå¯¹è±¡çš„é€‰é¡¹ï¼Œä¾‹å¦‚ methods å’Œ components ç­‰å°†è¢«æ··åˆä¸ºåŒä¸€ä¸ªå¯¹è±¡ã€‚ä¸¤ä¸ªå¯¹è±¡é”®åå†²çªæ—¶å–ç»„ä»¶å¯¹è±¡çš„é”®å€¼å¯¹ã€‚</li>\n<li>è¯·æ…é‡ä½¿ç”¨å…¨å±€æ³¨å†Œæ··åˆå¯¹è±¡ï¼Œä¸€æ—¦ä½¿ç”¨ï¼Œå°†ä¼šå½±å“æ‰€æœ‰ä¹‹ååˆ›å»ºçš„Vueå®ä¾‹ã€‚</li>\n</ul>\n<blockquote>\n<p>å°å‰§åœºï¼šèµ·åˆ<code>React</code>ä¹Ÿæ˜¯é€šè¿‡<code>mixins</code>å®ç°ä»£ç å¤ç”¨ï¼Œä½†åæ¥Reactä¸ºäº†é¿å…å¼€å‘è€…åœ¨ç»„ä»¶ä¸­æ€»æ˜¯è¦å†™ä¸€æ®µç›¸åŒçš„ä»£ç ï¼Œä¸€æ­¥æ­¥è„±ç¦»<code>mixins</code>ï¼Œä»–ä»¬è®¤ä¸º<code>mixins</code>åœ¨<code>React</code>ç”Ÿæ€ç³»ç»Ÿä¸­ä¸æ˜¯ä¸€ç§å¥½çš„æ¨¡å¼ã€‚</p>\n</blockquote>\n<h2 id=\"Hooks\"><a href=\"#Hooks\" class=\"headerlink\" title=\"Hooks\"></a>Hooks</h2><p>Hookséµå¾ªå‡½æ•°å¼ç¼–ç¨‹çš„ç†å¿µã€‚æ˜¯ä¸ºäº†ä»ç»„ä»¶ä¸­æå–ç°æœ‰çŠ¶æ€é€»è¾‘, ä»¥ä¾¿å¯ä»¥ç‹¬ç«‹æµ‹è¯•å¹¶é‡ç”¨ã€‚Hookså…è®¸å¼€å‘è€…åœ¨ä¸æ›´æ”¹ç»„ä»¶å±‚æ¬¡ç»“æ„çš„æƒ…å†µä¸‹é‡ç”¨æœ‰çŠ¶æ€é€»è¾‘, è¿™æ ·å¯ä»¥è½»æ¾åœ°åœ¨è®¸å¤šç»„ä»¶ä¹‹é—´æˆ–ç¤¾åŒºå…±äº«Hooksã€‚</p>\n<p>ç°çŠ¶ï¼š<a href=\"https://reactjs.org/docs/hooks-intro.html\">React-hooks</a>æ¯”è¾ƒæˆç†Ÿ, vueä¹Ÿæœ‰ä¸€ä¸ª<a href=\"https://github.com/yyx990803/vue-hooks\">vue-hooks</a>, ä½†åªæ˜¯å¤„äºå®éªŒé˜¶æ®µã€‚å…³äºvue-hookså¦‚ä½•ä½¿ç”¨ï¼Œå°¤å¤§å¤§åœ¨GitHubä¸Šä¹Ÿç»™å‡ºäº†ç›¸å…³ç¤ºä¾‹ï¼Œå¯ä»¥å‚è€ƒå­¦ä¹ ã€‚</p>\n<blockquote>\n<p>æ¨èæ–‡ç« <br><a href=\"https://juejin.im/entry/5bda51576fb9a022824c0d27\">åœ¨ React å’Œ Vue ä¸­å°é²œ Hooks</a></p>\n</blockquote>\n<h2 id=\"HOC\"><a href=\"#HOC\" class=\"headerlink\" title=\"HOC\"></a>HOC</h2><p>ç»„ä»¶å·¥å‚ï¼Œæ¥å—åŸå§‹ç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œæ·»åŠ å®ŒåŠŸèƒ½ä¸ä¸šåŠ¡åï¼Œè¿”å›æ–°çš„ç»„ä»¶ã€‚ React åœ¨ä»£ç ä¸­å®ç°å¤ç”¨çš„ä¸»è¦æ–¹å¼å°±æ˜¯ä½¿ç”¨é«˜é˜¶å‡½æ•°ã€‚</p>\n<p><strong>ç°çŠ¶</strong>ï¼šåœ¨Reactå®ç°ç»„ä»¶å…¶å®å°±æ˜¯åœ¨å†™å‡½æ•°, å‡½æ•°æ‹¥æœ‰çš„åŠŸèƒ½ç»„ä»¶éƒ½æœ‰ï¼Œæ•…å®ç°é«˜é˜¶ç»„ä»¶ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•ã€‚è€Œvueæ›´åƒæ˜¯ä¸€ä¸ªé«˜åº¦å°è£…çš„å‡½æ•°, ç¼ºå°‘äº†ä¸€å®šçµæ´»æ€§, å†™é«˜é˜¶ç»„ä»¶ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå…³äºè¿™å—Vueå®˜ç½‘ä¹Ÿæ˜¯ç®€å•çš„ä»‹ç»ï¼Œç¬”è€…ä¹Ÿæ˜¯æœç½—é˜…è¯»äº†ä¸€äº›æ–‡ç« ï¼Œå†™äº†ä¸ªç®€å•çš„demo, ä»…ä¾›å‚è€ƒã€‚<a href=\"https://codesandbox.io/s/5xp39rx4kn\">Live Demo</a></p>\n <figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// Wrapper.js</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">Wrapper</span>(<span class=\"params\">WrappedComponent</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> &#123;</span><br><span class=\"line\">    props: &#123;</span><br><span class=\"line\">      list: &#123;</span><br><span class=\"line\">        type: <span class=\"built_in\">Array</span>,</span><br><span class=\"line\">        <span class=\"keyword\">default</span>: <span class=\"function\">() =&gt;</span> []</span><br><span class=\"line\">      &#125;,</span><br><span class=\"line\">      title: <span class=\"built_in\">String</span></span><br><span class=\"line\">    &#125;,</span><br><span class=\"line\">    <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\">h</span>)</span> &#123;</span><br><span class=\"line\">      <span class=\"keyword\">return</span> h(<span class=\"string\">&quot;div&quot;</span>, [</span><br><span class=\"line\">        h(<span class=\"string\">&quot;h3&quot;</span>, &#123;&#125;, <span class=\"built_in\">this</span>.title),</span><br><span class=\"line\">        h(</span><br><span class=\"line\">          <span class=\"string\">&quot;div&quot;</span>,</span><br><span class=\"line\">          &#123;</span><br><span class=\"line\">            class: &quot;flex-row main-align-space-around&quot;</span><br><span class=\"line\">          &#125;,</span><br><span class=\"line\">          <span class=\"built_in\">this</span>.list.map(<span class=\"function\"><span class=\"params\">item</span> =&gt;</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> h(WrappedComponent, &#123; <span class=\"attr\">props</span>: item &#125;);</span><br><span class=\"line\">          &#125;)</span><br><span class=\"line\">        )</span><br><span class=\"line\">      ]);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- app.vue --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;app&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">anime-list</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;ä»Šæ—¥æ¼«ç”»&quot;</span> <span class=\"attr\">:list</span>=<span class=\"string\">&quot;animeList&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">anime-list</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">book-list</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;ä»Šæ—¥æ¨èä¹¦ç±&quot;</span> <span class=\"attr\">:list</span>=<span class=\"string\">&quot;bookList&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">book-list</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> Item <span class=\"keyword\">from</span> <span class=\"string\">&quot;./components/Item&quot;</span>;</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">import</span> Wrapper <span class=\"keyword\">from</span> <span class=\"string\">&quot;./components/Wrapper&quot;</span>;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">const</span> AnimeList = Wrapper(Item);</span></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">const</span> BookList = Wrapper(Item);</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"javascript\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">  name: <span class=\"string\">&quot;App&quot;</span>,</span></span><br><span class=\"line\">  components: &#123;</span><br><span class=\"line\">    AnimeList,</span><br><span class=\"line\">    BookList</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\"><span class=\"javascript\">  <span class=\"function\"><span class=\"title\">data</span>(<span class=\"params\"></span>)</span> &#123;</span></span><br><span class=\"line\"><span class=\"javascript\">    <span class=\"keyword\">return</span> &#123;</span></span><br><span class=\"line\">      animeList: [],</span><br><span class=\"line\">      bookList: []</span><br><span class=\"line\">    &#125;;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777650-19815780-242c-11eb-8a35-ddb3399cb1c5.png\" alt=\"é«˜é˜¶ç»„ä»¶æ•ˆæœå›¾\"></p>\n<blockquote>\n<p>æ¨èæ–‡ç« <br><a href=\"http://hcysun.me/2018/01/05/%E6%8E%A2%E7%B4%A2Vue%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6/\">æ¢ç´¢Vueé«˜é˜¶ç»„ä»¶</a></p>\n</blockquote>\n<h2 id=\"å‡½æ•°å¼ç»„ä»¶-vue\"><a href=\"#å‡½æ•°å¼ç»„ä»¶-vue\" class=\"headerlink\" title=\"å‡½æ•°å¼ç»„ä»¶ (vue)\"></a>å‡½æ•°å¼ç»„ä»¶ (vue)</h2><p>æ ‡è®°ç»„ä»¶ä¸ºfunctionalï¼Œæ— çŠ¶æ€(æ²¡æœ‰å“åº”å¼æ•°æ®)ï¼Œæ— å®ä¾‹(æ²¡æœ‰thisä¸Šä¸‹æ–‡)ï¼Œ<strong>ç»„ä»¶éœ€è¦çš„ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡ä¸Šä¸‹æ–‡ä¼ é€’</strong>ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè¾¾åˆ°äº†å¤ç”¨ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®šä¹‰å‡½æ•°å¼ç»„ä»¶ï¼Œä¸€æ˜¯é€šè¿‡<code>render function</code>å½¢å¼ï¼ŒäºŒæ˜¯é€šè¿‡ä½¿ç”¨<code>å•æ–‡ä»¶ç»„ä»¶</code>ã€‚ ç›®å‰å¯¹äºå•æ–‡ä»¶å½¢å¼çš„å‡½æ•°å¼ç»„ä»¶åœ¨æ¨¡æ¿ç¼–è¯‘ã€scoped css å’Œ çƒ­é‡è½½æ–¹é¢éƒ½å¾—åˆ°äº†è‰¯å¥½æ”¯æŒã€‚ æ¨¡æ¿ä¸­çš„è¡¨è¾¾å¼ä¼šåœ¨å‡½æ•°å¼æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­æ±‚å€¼ï¼Œè¿™å°±æ„å‘³ç€åœ¨æ¨¡æ¿ä¸­ï¼Œpropéœ€è¦ä»¥<code>props.xx</code>çš„å½¢å¼è®¿é—®ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// render function</span></span><br><span class=\"line\"><span class=\"keyword\">export</span> <span class=\"keyword\">default</span> &#123;</span><br><span class=\"line\">  functional: <span class=\"literal\">true</span>,</span><br><span class=\"line\">  props: &#123;&#125;,</span><br><span class=\"line\">  <span class=\"function\"><span class=\"title\">render</span>(<span class=\"params\">h, &#123; props, children, slots, data, parent, listeners, injections &#125;</span>)</span> &#123;&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">&lt;!-- å•æ–‡ä»¶å½¢å¼ --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span> <span class=\"attr\">functional</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">v-bind</span>=<span class=\"string\">&quot;data.attrs&quot;</span> <span class=\"attr\">v-on</span>=<span class=\"string\">&quot;listener&quot;</span>&gt;</span>&#123;&#123; parent.$someProperty &#125;&#125;<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><a href=\"https://codesandbox.io/s/yv4l2rnm4x\">Live Demo</a></p>\n<blockquote>\n<p>æ¨èæ–‡ç« ï¼š</p>\n<ul>\n<li><a href=\"https://alligator.io/vuejs/functional-components/\">Functional Components in Vue.js</a></li>\n<li><a href=\"https://itnext.io/whats-the-deal-with-functional-components-in-vue-js-513a31eb72b0\">Whatâ€™s the deal with functional components in Vue.js?</a> <ul>\n<li><a href=\"https://github.com/daprahamian/vue-render-functions-example\">demo</a></li>\n<li><a href=\"https://upload-images.jianshu.io/upload_images/3152495-58990312b685ea50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\">æ–‡ç« å¿«ç…§</a></li>\n</ul>\n</li>\n</ul>\n</blockquote>\n<h2 id=\"æ¨¡æ¿å¤ç”¨\"><a href=\"#æ¨¡æ¿å¤ç”¨\" class=\"headerlink\" title=\"æ¨¡æ¿å¤ç”¨\"></a>æ¨¡æ¿å¤ç”¨</h2><p>Vuex, Mixins, hooks, HOC éƒ½æ˜¯åœ¨äºŒçº§ä¸Šè¿›è¡Œé«˜åº¦å°è£…ï¼Œè€ƒéªŒå¼€å‘è€…çš„ç¼–ç¨‹åŠŸåº•ã€‚ç›®å‰è¿˜æœ‰ä¸€ä¸ªè§£å†³å¤ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚é˜¿é‡Œçš„<a href=\"https://alibaba.github.io/ice/iceworks\">é£å†°</a>, é€šè¿‡ç©·ä¸¾æ¨¡æ¿ï¼Œè¿›è¡Œå¤ç”¨ã€‚</p>\n<h1 id=\"React-ä¸‰ç§çŠ¶æ€å…±äº«æ–¹æ¡ˆ\"><a href=\"#React-ä¸‰ç§çŠ¶æ€å…±äº«æ–¹æ¡ˆ\" class=\"headerlink\" title=\"React ä¸‰ç§çŠ¶æ€å…±äº«æ–¹æ¡ˆ\"></a>React ä¸‰ç§çŠ¶æ€å…±äº«æ–¹æ¡ˆ</h1><ol>\n<li><p><a href=\"https://reactjs.org/docs/render-props.html\">æ¸²æŸ“å±æ€§ï¼ˆRender Propsï¼‰</a>: ä½¿ç”¨ä¸€ä¸ªå€¼ä¸ºå‡½æ•°çš„propæ¥ä¼ é€’éœ€è¦åŠ¨æ€æ¸²æŸ“çš„nodesæˆ–ç»„ä»¶</p>\n</li>\n<li><p><a href=\"https://reactjs.org/docs/higher-order-components.html\">é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Componentsï¼‰</a>ï¼š ä¸€ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œç»è¿‡ä¸€ç³»åˆ—åŠ å·¥åï¼Œæœ€åè¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶ã€‚</p>\n</li>\n<li><p><a href=\"https://reactjs.org/docs/hooks-intro.html#___gatsby\">React Hooks</a> <strong>çŠ¶æ€é€»è¾‘å¤ç”¨</strong>ï¼Œåªå…±äº«æ•°æ®å¤„ç†é€»è¾‘ï¼Œä¸ä¼šå…±äº«æ•°æ®æœ¬èº«ã€‚</p>\n<p> <strong>a. useState</strong><br>å®ƒçš„ä½œç”¨å°±æ˜¯ç”¨æ¥å£°æ˜çŠ¶æ€å˜é‡ã€‚useStateè¿™ä¸ªå‡½æ•°æ¥æ”¶çš„å‚æ•°æ˜¯æˆ‘ä»¬çš„çŠ¶æ€åˆå§‹å€¼ï¼ˆinitial stateï¼‰ï¼Œå®ƒè¿”å›äº†ä¸€ä¸ªæ•°ç»„ï¼Œè¿™ä¸ªæ•°ç»„çš„ç¬¬[0]é¡¹æ˜¯å½“å‰å½“å‰çš„çŠ¶æ€å€¼ï¼Œç¬¬[1]é¡¹æ˜¯å¯ä»¥æ”¹å˜çŠ¶æ€å€¼çš„æ–¹æ³•å‡½æ•°ã€‚</p>\n<p> <strong>b. useEffect</strong></p>\n<ul>\n<li><p>è§£ç»‘å‰¯ä½œç”¨ï¼šè®©æˆ‘ä»¬ä¼ ç»™useEffectçš„å‰¯ä½œç”¨å‡½æ•°è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°å³å¯ã€‚è¿™ä¸ªæ–°çš„å‡½æ•°å°†ä¼šåœ¨ç»„ä»¶ä¸‹ä¸€æ¬¡é‡æ–°æ¸²æŸ“ä¹‹åæ‰§è¡Œã€‚</p>\n</li>\n<li><p>è·³è¿‡ä¸å¿…è¦çš„å‰¯ä½œç”¨ï¼š åªéœ€è¦ç»™useEffectä¼ ç¬¬äºŒä¸ªå‚æ•°å³å¯ã€‚ç”¨ç¬¬äºŒä¸ªå‚æ•°æ¥å‘Šè¯‰reactåªæœ‰å½“è¿™ä¸ªå‚æ•°çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰æ‰§è¡Œæˆ‘ä»¬ä¼ çš„å‰¯ä½œç”¨å‡½æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ã€‚å½“æˆ‘ä»¬ç¬¬äºŒä¸ªå‚æ•°ä¼ ä¸€ä¸ªç©ºæ•°ç»„[]æ—¶ï¼Œå…¶å®å°±ç›¸å½“äºåªåœ¨é¦–æ¬¡æ¸²æŸ“çš„æ—¶å€™æ‰§è¡Œã€‚ä¸è¿‡è¿™ç§ç”¨æ³•å¯èƒ½å¸¦æ¥bugï¼Œå°‘ç”¨ã€‚</p>\n</li>\n</ul>\n</li>\n</ol>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777658-1b4b1b00-242c-11eb-9eaa-de0e0ea2ccf1.png\"></p>\n<blockquote>\n<p>æ¨èæ–‡ç« <br><a href=\"https://github.com/dt-fe/weekly/blob/master/80.%E7%B2%BE%E8%AF%BB%E3%80%8A%E6%80%8E%E4%B9%88%E7%94%A8%20React%20Hooks%20%E9%80%A0%E8%BD%AE%E5%AD%90%E3%80%8B.md\">ç²¾è¯»ã€Šæ€ä¹ˆç”¨ React Hooks é€ è½®å­ã€‹</a><br><a href=\"https://juejin.im/post/5be3ea136fb9a049f9121014\">30åˆ†é’Ÿç²¾é€šReact Hooks</a></p>\n</blockquote>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2019/01/16/2019-01-16-vue-and-react-multiplex/\">https://mileofsunshine.github.io/2019/01/16/2019-01-16-vue-and-react-multiplex/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["vue"]},{"title":"ä¸ä¸ºäººçŸ¥çš„Chrome devtools!","url":"http://example.com/2018/12/11/2018-12-11-about-chrome-devtools/","content":"<p>è¯´åˆ°chrome devtools ä½¿ç”¨æŠ€å·§ï¼Œä»Šå¤©æƒ³å’Œå¤§å®¶åˆ†äº«ä¸¤ä¸ªï¼Œç½‘é¡µæˆªå±å’Œå¿«é€Ÿå¼•å…¥å¹¶å¼•ç”¨npmåº“ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªå¤§æƒŠå–œ~</p>\n<h2 id=\"ç½‘é¡µæˆªå±\"><a href=\"#ç½‘é¡µæˆªå±\" class=\"headerlink\" title=\"ç½‘é¡µæˆªå±\"></a>ç½‘é¡µæˆªå±</h2><p>å¦‚ä½•å®ç°ç½‘é¡µæˆªå±ï¼Œå¤§å®¶å¯èƒ½ä¼šæƒ³ä½¿ç”¨å¾®ä¿¡çš„æˆªå›¾å·¥å…·å°±å¯ä»¥å‘€ï¼æ˜¯çš„ï¼Œç¬”è€…å¾€å¸¸ä¹Ÿæ˜¯è¿™æ ·æˆªå›¾çš„ã€‚é‚£å¦‚ä½•æˆªå–é•¿é¡µé¢çš„å†…å®¹å‘¢? æˆ‘æƒ³å¾®ä¿¡æˆªå›¾ææ€•å°±æ— æ³•å®ç°äº†ï¼Œè¿™æ—¶å€™ä½ å¯èƒ½ä¼šå€Ÿç”¨â€˜å¤–åŠ›â€™ï¼Œæ²¡é”™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è½¯ä»¶<a href=\"https://faststone-capture.en.softonic.com/\">FastStone Capture</a>ã€‚é‚£æœ‰æ²¡æœ‰ä¸å€ŸåŠ©â€˜å¤–åŠ›â€™ä¹Ÿèƒ½æˆªå›¾é•¿å›¾å‘¢ï¼Œç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚ </p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777152-323d3d80-242b-11eb-8e8a-9466db06b41c.png\" alt=\"FastStone Capture æ»šåŠ¨æˆªå›¾\"></p>\n<p>é‚£å¦‚ä½•åˆ©ç”¨devtoolså®ç°æˆªå›¾å‘¢ï¼Ÿ</p>\n<p>1ã€<code>F12</code>æ‰“å¼€å¼€å‘è€…å·¥å…·;<br>2ã€åˆ©ç”¨å¿«æ·é”® <code>ctrl + shift + p</code>è°ƒå‡ºå‘½ä»¤è¡Œ;<br>3ã€è¾“å…¥screenï¼Œé€‰æ‹© <code>capture full size screenshot</code>(æ•æ‰å…¨å°ºå¯¸å±å¹•æˆªå›¾)</p>\n<p>é”µé”µ~~ ç”Ÿæˆå½“å‰é¡µé¢çš„é•¿å›¾ã€‚æ˜¯ä¸æ˜¯å¾ˆæƒŠå–œï¼Œæ‰§è¡Œä¸€ä¸ªå‘½ä»¤å°±å®Œæˆäº†ã€‚<br><img src=\"https://user-images.githubusercontent.com/17926741/98777151-310c1080-242b-11eb-94e0-09efc99cc84c.png\" alt=\"å…¨å°ºå¯¸æ•ˆæœå›¾\"></p>\n<p>æœ‰æ—¶ä½ å¯èƒ½åªæƒ³æˆªå–ä¸€éƒ¨åˆ†å†…å®¹ï¼Œä½†å†…å®¹åˆæœ‰äº›é•¿ã€‚è¿™æ—¶<code>capture full size screenshot</code> å’Œ <code>capture screenshot</code> éƒ½ä¸æ»¡è¶³éœ€æ±‚ï¼Œåˆ«å¿˜äº†ï¼Œæˆ‘ä»¬è¿˜æœ‰<code>capture node screenshot</code>ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777133-2c475c80-242b-11eb-8ff7-0d1ffecb1be4.gif\" alt=\"æ•æ‰èŠ‚ç‚¹å±å¹•æˆªå±\"></p>\n<p><em>æ¸©é¦¨æç¤º</em>ï¼š<br><code>capture full size screenshot</code> æ•æ‰æ•´ä¸ªç½‘é¡µå±å¹•æˆªå›¾<br><code>capture node screenshot</code> æ•æ‰èŠ‚ç‚¹ç½‘é¡µå±å¹•æˆªå›¾<br><code>capture screenshot</code> æ•æ‰å½“å‰å±å¹•æˆªå›¾</p>\n<h2 id=\"å¿«é€Ÿå¼•å…¥å¹¶åº”ç”¨npmåº“\"><a href=\"#å¿«é€Ÿå¼•å…¥å¹¶åº”ç”¨npmåº“\" class=\"headerlink\" title=\"å¿«é€Ÿå¼•å…¥å¹¶åº”ç”¨npmåº“\"></a>å¿«é€Ÿå¼•å…¥å¹¶åº”ç”¨npmåº“</h2><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³å­¦ä¹ ä¸€ä¸ªåº“( å¾ˆæœ‰å…´è‡´çš„é‚£ç§ )ï¼Œå¯èƒ½å¾€å¾€å°±åœ¨ç¯å¢ƒæ­å»ºçš„è¿‡ç¨‹ä¸­æ”¾å¼ƒäº†å­¦ä¹ ( è‹¦ç¬‘ )ã€‚ä»Šå¤©ä»‹ç»çš„è¿™ä¸ªæƒ³å¿…èƒ½è§£å†³ä½ çš„ç—›ç‚¹ï¼</p>\n<p>1ã€è·å–å¹¶æ·»åŠ Chromeæ‰©å±•ç¨‹åºï¼š<a href=\"https://chrome.google.com/webstore/detail/console-importer/hgajpakhafplebkdljleajgbpdmplhie/related\">Console Importer</a><br>2ã€å¦‚æœä½ æƒ³ç»ƒä¹ ä¸‹ <code>lodash</code> é‡Œçš„æ–¹æ³•ï¼Œä½ å¯ä»¥æ‰§è¡Œ <code>$i(&#39;lodash&#39;)</code> å°† <code>lodash</code> åº“å¼•å…¥ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«æŠŠç©å·¥å…·åº“å•¦ã€‚å¯¹äºå­¦ä¹ ä½¿ç”¨æŸä¸ªå·¥å…·åº“çœŸçš„å¾ˆæ–¹ä¾¿ï¼Œæœ‰æœ¨æœ‰~</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777128-2b162f80-242b-11eb-910d-8598adfc306d.png\" alt=\"lodashç»ƒä¹ \"></p>\n<h3 id=\"ä½ å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜\"><a href=\"#ä½ å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜\" class=\"headerlink\" title=\"ä½ å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜?\"></a>ä½ å¯èƒ½ä¼šé‡åˆ°çš„é—®é¢˜?</h3><p><strong>Q1: <code>$i</code> ä¸åƒé¢„æœŸçš„é‚£æ ·èµ·ä½œç”¨</strong><br>ä¸€äº›ç½‘ç«™å¯èƒ½å·²ç»æŠŠ <code>$i</code> ä½œä¸ºä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¿™ä¸ªæ‰©å±•ç¨‹åºå°±æ— æ³•é‡å†™è¦†ç›–å®ƒï¼Œè¿™æ—¶ä½ å¯ä»¥ <code>console.$i</code> è¿™æ ·è°ƒç”¨ï¼Œä¹Ÿæ˜¯ä¸€æ ·çš„æ•ˆæœã€‚</p>\n<p><strong>Q2: <code>$i</code> æ— æ³•å¯¼å…¥èµ„æº</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777131-2baec600-242b-11eb-9ee3-1bf736bf440f.png\" alt=\"lodashå¯¼å…¥æŠ¥é”™\"></p>\n<p>å‡ºé”™çš„åŸå› æ˜¯è¿™äº›ç½‘ç«™é‡‡ç”¨äº†ä¸¥æ ¼çš„å†…å®¹å®‰å…¨æ”¿ç­–(<code>Content Security Policy</code>)ã€‚ä½ å¯ä»¥æ‰“å¼€ä¸€ä¸ªæœ¬åœ°htmlï¼Œæˆ–è€…æ˜¯ç”¨ä¸€ä¸ªæ²¡æœ‰è¿›è¡Œä¸¥æ ¼å†…å®¹å®‰å…¨æ”¿ç­–çš„ç½‘ç«™è¿›è¡Œ <code>$i(&#39;lodash&#39;)</code> ç»ƒä¹ </p>\n<h2 id=\"å½©è›‹\"><a href=\"#å½©è›‹\" class=\"headerlink\" title=\"å½©è›‹\"></a>å½©è›‹</h2><p>æƒ³å¿…å¤§å®¶åœ¨ç½‘ä¸Šä¹Ÿçœ‹åˆ°è¿‡å¾ˆå¤šä»‹ç»consoleæ–¹æ³•çš„æ–‡ç« ï¼Œç¬”è€…è§‰å¾—æœ‰äº›ç¢ç‰‡åŒ–äº†ã€‚æ•…å€Ÿæ­¤æœºä¼šï¼Œå‘å¤§å®¶æ¨èé˜…è¯»<a href=\"https://developers.google.com/web/tools/chrome-devtools/\">devtoolsçš„å¼€å‘è€…æ‰‹å†Œ</a>ï¼ˆæ„Ÿè§‰æ˜¯å®è—, è™½ç„¶æœ‰ä¸€å®šçš„å­¦ä¹ é—¨æ§›ï¼‰</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777158-336e6a80-242b-11eb-90a4-ed3fc61a7f9e.png\" alt=\"å¦‚ä½•æ‰¾åˆ°devtoolså¼€å‘è€…æ‰‹å†Œ\"></p>\n<blockquote>\n<p>ä½¿ç”¨ Console API å¯ä»¥å‘æ§åˆ¶å°å†™å…¥ä¿¡æ¯ã€åˆ›å»º JavaScript é…ç½®æ–‡ä»¶ï¼Œä»¥åŠå¯åŠ¨è°ƒè¯•ä¼šè¯ã€‚</p>\n</blockquote>\n<ul>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/console/console-reference\">Console API Reference</a>ä»‹ç»äº†<code>assert, clear, debug, dir, dirxml, error, group, groupCollapsed, groupEnd, info, log, profile, profileEnd, time, timeEnd, timeStamp, trace, warn</code>çš„ä½¿ç”¨ï¼Œä¹Ÿæä¾›äº†ç›¸å…³å®ä¾‹ã€‚</li>\n</ul>\n<blockquote>\n<p>Command Line API åŒ…å«ä¸€ä¸ªç”¨äºæ‰§è¡Œä»¥ä¸‹å¸¸è§ä»»åŠ¡çš„ä¾¿æ·å‡½æ•°é›†åˆï¼šé€‰æ‹©å’Œæ£€æŸ¥ DOM å…ƒç´ ï¼Œä»¥å¯è¯»æ ¼å¼æ˜¾ç¤ºæ•°æ®ï¼Œåœæ­¢å’Œå¯åŠ¨åˆ†æå™¨ï¼Œä»¥åŠç›‘æ§ DOM äº‹ä»¶ã€‚</p>\n</blockquote>\n<ul>\n<li><a href=\"https://developers.google.com/web/tools/chrome-devtools/console/command-line-reference\">Command Line Reference</a>ä¸€å…±ä»‹ç»äº†21ä¸ªæ–¹æ³•:<br><code>$_, $0 - $4, $, $$, $x, clear, copy, debug, dir, dirxml, inspect, getEventListeners, keys, monitor, monitorEvents, profile and profileEnd, table, undebug, unmonitor, unmonitorEvents, values</code></li>\n</ul>\n<p>æˆ‘çŒœæœ‰äººçŠ¯æ‡’äº†ï¼Œé“¾æ¥éƒ½æ‡’å¾—æ‰“å¼€å•¦â€¦<br><img src=\"https://user-images.githubusercontent.com/17926741/98777123-29e50280-242b-11eb-9ddb-a4d60c3318a2.gif\" alt=\"åˆ«è·‘ï¼Œå¿«å›æ¥å­¦ä¹ ï¼\"></p>\n<p>é‚£æˆ‘å°±æŠŠ <code>devtools</code> æ‰‹å†Œç›®å½•è´´å‡ºæ¥å•¦ï¼Œè¯´ä¸å¥½ä¸€çœ‹åˆæ„Ÿå…´è¶£äº†å‘¢~</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777154-323d3d80-242b-11eb-911a-6b66ea0d2805.png\" alt=\"å¼€å‘è€…æ‰‹å†Œç›®å½•\"></p>\n<p>å•è¯æˆ‘ä»¬éƒ½è®¤è¯†ï¼Œèƒ½ä¸èƒ½å­¦å¥½å°±é ä½ è‡ªå·±å•¦â€¦å‰é¢æ¨èçš„<code>Console API Reference</code>å’Œ<code>Command Line Reference</code> å·²ç»æ˜¯ä¸­æ–‡æ–‡æ¡£äº†å“ˆï¼Œè«æ…Œè«æ…Œâ€¦</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777155-32d5d400-242b-11eb-9a0d-91a3854d0450.jpg\" alt=\"åŠ æ²¹ï¼\"></p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2018/12/11/2018-12-11-about-chrome-devtools/\">https://mileofsunshine.github.io/2018/12/11/2018-12-11-about-chrome-devtools/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["Chrome"]},{"title":"å¿«åº”ç”¨-å¼€é€šoppoè´¦å·æœåŠ¡è‰°è¾›ä¹‹è·¯","url":"http://example.com/2018/09/07/2018-09-07-quickapp-oppo-account/","content":"<p>æœ€è¿‘åœ¨å¼€å‘ä¸€ä¸ªå¿«åº”ç”¨ï¼Œå…¶å®ä¸èƒ½è¯´æ˜¯ä¸€ä¸ªå¿«åº”ç”¨å•¦ï¼Œæ˜¯ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„åŠŸèƒ½ã€‚å…¶ä¸­éœ€è¦æ¶‰åŠåˆ°oppoè´¦å·æˆæƒã€‚</p>\n<p>è¿™ä¸ªäº‹æƒ…è¿˜å¾—ä»ä¸¤ä¸ªå¸å·è¯´èµ·ï¼Œ<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>å’Œ<code>OPPOå¼€å‘è€…å¸å·</code>ã€‚</p>\n<h2 id=\"å¿«åº”ç”¨å¼€å‘è€…å¸å·\"><a href=\"#å¿«åº”ç”¨å¼€å‘è€…å¸å·\" class=\"headerlink\" title=\"å¿«åº”ç”¨å¼€å‘è€…å¸å·\"></a>å¿«åº”ç”¨å¼€å‘è€…å¸å·</h2><p>é¦–å…ˆå…ˆè¯´ä¸‹è¿™ä¸ª<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>ï¼Œå…¶ä½œç”¨å°±æ˜¯ç»‘å®šå‚å•†å’Œä¸Šä¼ å¿«åº”ç”¨ã€‚å¯¹äºå¿«åº”ç”¨å¸å·å¦‚ä½•ç”³è¯·ï¼Œå®˜ç½‘å’Œå„ä¸ªå‚å•†çš„å¼€å‘å¹³å°éƒ½æœ‰ç›¸åº”çš„æ–‡æ¡£æ•™ç¨‹ï¼Œè¿™é‡Œç¬”è€…å°±ä¸ä»‹ç»äº†ã€‚ä½†æœ‰æœ‰ä¸€ç‚¹éœ€è¦æé†’ä¸€ä¸‹ï¼Œå¿«åº”ç”¨å¼€å‘è€…å¸å·å¿…é¡»<strong>å®Œå–„èµ„æ–™</strong>ï¼Œå®¡æ ¸é€šè¿‡äº†æ‰èƒ½åœ¨é¡¶éƒ¨æœ‰<strong>å¼€å‘è€…ä¸­å¿ƒ</strong>è¿™ä¸€é¡¹ï¼Œä¸Šé¢è¯´åˆ°çš„<strong>å‚å•†å¸å·ç»‘å®š</strong>å°±åœ¨è¿™ä¸ªæ ç›®é‡Œã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777983-9e6c7100-242c-11eb-8c3e-4b8a53535168.png\" alt=\"å¼€å‘è€…ä¸­å¿ƒ\"></p>\n<h2 id=\"OPPOå¼€å‘è€…å¸å·\"><a href=\"#OPPOå¼€å‘è€…å¸å·\" class=\"headerlink\" title=\"OPPOå¼€å‘è€…å¸å·\"></a>OPPOå¼€å‘è€…å¸å·</h2><p>è¿™ä¸ªå¸å·ä¸<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»ï¼Œä¸€ä¸ª<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>åªèƒ½ç»‘å®šä¸€ä¸ª<code>OPPOå¼€å‘è€…å¸å·</code>ï¼Œä½†ä¸€ä¸ª<code>OPPOå¼€å‘è€…å¸å·</code>å¯å¯¹åº”å¤šä¸ª<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>ã€‚è‡³äºè¿™ä¸ªOPPOå¼€å‘è€…å¸å·æ€ä¹ˆç”¨å‘¢ï¼Œè¿™é‡Œå…ˆä¿ç•™ã€‚</p>\n<p>å…ˆè¯´ä¸‹åŸç”±ï¼Œä¸ºä½•æ•…äº‹å› è¿™ä¸¤ä¸ªå¸å·è€Œèµ·ã€‚</p>\n<hr>\n<p>äº‹æƒ…æ˜¯è¿™æ ·çš„â€¦â€¦</p>\n<p>æœ‰ä¸€å¤©ï¼Œäº§å“ç»™æˆ‘è¿™ä¸¤ä¸ªå¸å·ï¼Œæˆ‘å½“æ—¶è¿˜å•¥ä¹Ÿä¸æ‡‚ï¼Œä½ ç»™æˆ‘å°±æ”¶ä¸‹å’¯ã€‚ç›´åˆ°å¼€å‘åˆ°oppoæˆæƒé˜¶æ®µï¼Œæˆ‘æ„£ä½äº†ã€‚</p>\n<p>åœ¨<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>é‡Œï¼Œç»‘å®šçš„æ˜¯oppoå¸å·Aï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œä½†æ˜¯ç»™æˆ‘çš„æ˜¯oppoå¸å·Bã€‚è¿™ä¸¤ä¸ªæœ‰å•¥å…³ç³»ï¼ï¼æˆ‘ç€æ€¥äº†ï¼Œèµ¶ç´§å‘Šè¯‰æˆ‘ä»¬äº§å“ï¼Œè¿™ä¸¤ä¸ªå¸å·æ²¡æœ‰æœ¬è´¨çš„è”ç³»ï¼Œæ˜¯ä¸å¯¹çš„ã€‚ä»–åˆæ‰¾äº†ç»™è¿™ä¸¤ä¸ªå¸å·çš„ç›¸å…³äººå‘˜ï¼Œå†ç»æ³¢æŠ˜â€¦â€¦Â·Â·Â·Â·Â·Â·â€¦â€¦.å—¯ã€‚ç»ˆäºæ‰¾åˆ°äº†oppoå¸å·Aï¼Œæ­¤æ—¶çš„æˆ‘å·²ç»æ„ŸåŠ¨çš„è€æ³ªçºµæ¨ªã€å¤¸å¼ äº†ã€‘ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777984-9f050780-242c-11eb-9890-8df1d61559b5.png\" alt=\"å‚å•†å¸å·ç»‘å®š\"></p>\n<p>æ‰€ä»¥æ­£ç¡®çš„æµç¨‹åº”è¯¥æ˜¯ç”¨ä¸<code>å¿«åº”ç”¨å¼€å‘è€…å¸å·</code>ç»‘å®šçš„<code>OPPOå¼€å‘è€…å¸å·</code>ç™»å½•åˆ°OPPOå¹³å°è¿›è¡Œ<strong>å¼€é€šå¸å·æœåŠ¡</strong>ã€‚ã€ä¹Ÿè®¸è¿™é‡Œæœ‰äººä¼šåæ§½ï¼Œå¾ˆç®€å•çš„æµç¨‹ä¸ºä½•è¿˜å†™äº†è¿™ä¹ˆå¤šã€‚å—¯ï¼Œä»–è¯´çš„ä¹Ÿä¸æ— é“ç†ï¼Œä½†æ˜¯è®°å½•çš„ç›®çš„å°±æ˜¯é˜²æ­¢æœ‰äººä¹Ÿè·Ÿæˆ‘ä¸€æ ·ï¼Œè¿·ç³Šäº†ä¸€åœˆã€‘</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777968-9a405380-242c-11eb-99cc-e81de88fc7d2.png\" alt=\"å¼€é€šå¸å·æœåŠ¡æµç¨‹å›¾\"></p>\n<p>ä½ æ˜¯ä¸æ˜¯ä»¥ä¸ºæ‰¾åˆ°æ­£ç¡®çš„oppoå¸å·Aå°±okã€‚å½“æ—¶çš„æˆ‘ä¹Ÿè·Ÿä½ ä¸€æ ·çš„æƒ³æ³•ï¼äº‹å®ä¸Šå‘¢ï¼Œå¥½å§ï¼æ˜¯æˆ‘ï¼ˆä»¬ï¼‰æƒ³å¤ªå¤šï¼Œäº‹æƒ…å¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ã€‚</p>\n<p>æˆ‘è°ƒç”¨<code>account.authorize</code>è¿˜æ˜¯è·å–ä¸åˆ°æˆæƒä¿¡æ¯ã€‚é‡ç‚¹æ˜¯è·å–æœåŠ¡æä¾›å•†<code>account.getProvider()</code>éƒ½è·å–ä¸åˆ°ï¼Œè¿™ä¸ªæ•°æ®åº”è¯¥ä¸éœ€è¦ä»€ä¹ˆå¤šä½™æ“ä½œå°±èƒ½è·å–åˆ°çš„å‘€ã€‚æˆ‘è¯•äº†å¥½å‡ ä¸ªå®‰å“è®¾å¤‡éƒ½æ˜¯ä¸€æ ·çš„ç»“æœï¼Œç©ºç©ºå¦‚ä¹Ÿ<del>~</del></p>\n<p>ç»„é‡Œå°±æˆ‘è‡ªå·±æ¥è§¦äº†å¿«åº”ç”¨ï¼Œä¹Ÿæ— äººå¯è§£é—®ã€‚æ¥ç€æˆ‘å°±å¼€å§‹å„ç§åŠ ç¾¤ï¼ŒQQç¾¤ï¼ˆ<code>oppoå¼€å‘è€…äº¤æµç¾¤</code>ï¼Œå¾®ä¿¡ç¾¤ï¼ˆ<code>å¿«åº”ç”¨å®˜æ–¹æŠ€æœ¯äº¤æµç¾¤</code>ï¼‰ã€‚æˆ‘å°±å„ç§é—®å‘€é—®å‘€ï¼Œè™½ç„¶å›ç­”å¾ˆæ…¢ï¼ˆæ¯•ç«Ÿå¤§å®¶éƒ½æœ‰è‡ªå·±çš„å·¥ä½œå˜›ï¼‰ï¼Œä½†æ˜¯éƒ½å¾ˆå®ç”¨ã€‚ç¾¤é‡Œæœ‰å„ä¸ªå‚å•†çš„æŠ€æœ¯å¤§ä½¬åœ¨ï¼Œæœ€ä¸ºæ´»è·ƒçš„è¿˜å±åä¸ºçš„æŠ€æœ¯å¤§å¤§ï¼Œå¾ˆæ„Ÿæ©ï¼Œå› ä¸ºä»–ï¼Œæˆ‘æ¥è§¦åˆ°äº†oppoå¿«åº”ç”¨ç›¸å…³çš„æŠ€æœ¯å¤§ä½¬ï¼Œä¸ºåæœŸå·¥ä½œæ‰“ä¸‹äº†æ·±åšçš„åŸºç¡€ã€‚</p>\n<blockquote>\n<p>â€œä¸‰äººè¡Œï¼Œå¿…æœ‰æˆ‘å¸ˆç„‰â€</p>\n</blockquote>\n<p>æ²¡é”™ï¼Œæ¥ä¸‹æ¥è¿˜æ˜¯ç»§ç»­åŠ ç¾¤ã€‚æ¥ä¸‹æ¥çš„ç¬¬ä¸€ä¸ªç¾¤ï¼Œè§£å†³äº†æ— æ³•è·å–æœåŠ¡æä¾›å•†çš„é—®é¢˜ã€‚ä½ çŒœæ˜¯æ€ä¹ˆè§£å†³çš„ï¼Ÿç­”æ¡ˆå¾ˆç®€å•å°±æ˜¯æ¢äº†ä¸ªå¿«åº”ç”¨è°ƒè¯•å™¨ã€‚ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777980-9dd3da80-242c-11eb-9cda-af8c34cf5237.png\" alt=\"what?\"></p>\n<p>åŸå› æ˜¯è¿™æ ·çš„ï¼Œæˆ‘è¿™ä¸ªoppoæ‰‹æœºå†…ç½®çš„å¿«åº”ç”¨è¿è¡Œå¹³å°æ˜¯2.1çš„ç°åº¦ç‰ˆæœ¬æš‚æ—¶ä¸èƒ½ç”¨è”ç›Ÿå®˜ç½‘çš„è°ƒè¯•å™¨ï¼Œåæ¥æ˜¯oppoæŠ€æœ¯äººå‘˜å•ç‹¬å‘æˆ‘ä¸€ä¸ªè°ƒè¯•å™¨è¿›è¡Œè°ƒè¯•ï¼Œä¸è¿‡ä»–ä¹Ÿè¡¨åï¼Œæ­¤ä¸¾åªæ˜¯ä¸´æ—¶æ–¹æ¡ˆï¼Œåé¢ä¼šæ”¯æŒè”ç›Ÿå®˜ç½‘çš„è°ƒè¯•å™¨ã€‚<strong>ç³»ç»Ÿè®¾ç½® - åº”ç”¨ç®¡ç† - å¿«åº”ç”¨</strong>å¯æŸ¥çœ‹å¿«åº”ç”¨ç‰ˆæœ¬ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777993-a0cecb00-242c-11eb-917c-2411693e2c6a.png\" alt=\"oppoæ‰‹æœºå¿«åº”ç”¨çš„ç‰ˆæœ¬\"></p>\n<p>å¥½äº†ï¼Œæœ‰äº†èƒ½è°ƒè¯•çš„è°ƒè¯•å™¨ã€‚é‚£å°±æ¥çœ‹çœ‹è´¦å·æœåŠ¡æ˜¯å¦èƒ½èµ°é€šå§~</p>\n<p>æ— å¥ˆè¿˜æ˜¯ä¸è¡Œï¼Œå¥½åœ¨ä¸åƒä¹‹å‰ï¼Œå·²ç»æœ‰ç›¸å…³é”™è¯¯æç¤ºå•¦~</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fail:   code &#x3D; 200, data &#x3D; generic error</span><br></pre></td></tr></table></figure>\n<p>å¯è¡Œå®˜ç½‘ä¹Ÿæ²¡ä»‹ç»è¿™200æ˜¯å•¥é”™ã€‚é‚£æˆ‘å°±åªèƒ½åšç€è„¸çš®é—®oppoæŠ€æœ¯å¤§å¤§äº†ï¼Œå¥½åœ¨é‡åˆ°äº†ä¸€ç¾¤æš–å¿ƒçš„å°å“¥å“¥å°å§å§ï¼Œè¢«å‘ŠçŸ¥ï¼šè¦å°†å¿«åº”ç”¨å…ˆæäº¤ï¼ˆä¸ç”¨ä¸€å®šè¦ä¸Šæ¶ï¼‰ï¼Œæ­¤ä¸¾åªæ˜¯ä¸ºäº†èƒ½ç”³è¯·è´¦å·æœåŠ¡ï¼Œè¿™é‡Œé¡ºä¾¿æä¸€å¥ï¼ŒåŸç”Ÿåº”ç”¨å’Œå¿«åº”ç”¨ç”³è¯·è´¦å·æœåŠ¡æ˜¯åˆ†å¼€çš„ã€‚çœ‹åˆ°åé¢ä½ å°±ä¼šæ˜ç™½è¿™å¥è¯æ˜¯å•¥æ„æ€å•¦~</p>\n<p>é‚£æ¥ä¸‹æ¥å°±æ˜¯æäº¤å¿«åº”ç”¨ã€‚è¿™æ¬¡æäº¤ä½ å¯åˆ«æäº¤ä¸€ä¸ªåˆ°å¤„bugçš„rpkã€‚è‡³å°‘æ˜¯åŠŸèƒ½å®Œæ•´ï¼Œå°±å·®è´¦å·æœåŠ¡è¿™ä¸€åŠŸèƒ½ï¼Œæäº¤å®Œæˆå°±æ˜¯åç­‰å®¡æ ¸é€šè¿‡å•¦ã€‚å»ºè®®ä½ åŠ ä¸‹<code>å¿«åº”ç”¨å®˜æ–¹å®¢æœ</code>çš„å¾®ä¿¡ï¼Œè¿™æ ·æœ‰é—®é¢˜ä½ å¯ä»¥ç›´æ¥é—®ä»–ï¼Œæˆ–æ˜¯ä½ çš„å¿«åº”ç”¨æäº¤æœ‰è¯¯ä¹‹å¤„ï¼Œä»–ä»¬ä¹Ÿå¯èƒ½åŠæ—¶è”ç³»åˆ°ä½ ï¼Œæ–¹ä¾¿ä½ ä»¬æ²Ÿé€šã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777986-9f9d9e00-242c-11eb-9b9a-598861fb7256.png\" alt=\"æäº¤å¿«åº”ç”¨\"></p>\n<p>Â·Â·Â·Â·Â·Â·Â·Â·Â·â€¦â€¦â€¦Â·Â·Â·Â·Â·Â·Â·Â·Â·ç»è¿‡æ¼«é•¿çš„å®¡æ ¸ï¼Œç»ˆäºé€šè¿‡å•¦~</p>\n<p>æ¥ä¸‹æ¥å°±æ˜¯è®²è®²ç”³è¯·è´¦å·æœåŠ¡å•¦</p>\n<p>è¿™é‡Œï¼Œæˆ‘åˆåŠ å…¥äº†å¦ä¸€ä¸ªç¾¤ï¼Œæ²¡é”™å°±æ˜¯å…³äºè´¦å·æœåŠ¡çš„ç¾¤ã€‚</p>\n<p>ç”±äºç›®å‰oppoå…³äºå¿«åº”ç”¨å¼€é€šè´¦å·çš„é¡µé¢è¿˜æ²¡å¼€æ”¾ï¼Œç›¸å…³æŠ€æœ¯ç»™äº†æˆ‘çº¿ä¸Šåœ°å€ï¼Œè¿™é‡Œå°±ä¸å±•ç¤ºäº†ã€‚é¡µé¢å†…å®¹ä¸åŸç”Ÿåº”ç”¨å¼€é€šè´¦å·æœåŠ¡çš„æ¨¡æ ·ä¸€èˆ¬æ— äºŒã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ç”³è¯·çš„å°±æ˜¯<strong>ç¬¬ä¸€é¡¹æ¨é€èƒ½åŠ›é¡¹openid</strong>ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777974-9ca2ad80-242c-11eb-920d-4205fc70acec.png\" alt=\"å¿«åº”ç”¨å¼€é€šè´¦å·æœåŠ¡\"></p>\n<p>ç‚¹å‡»<code>ç«‹å³å¼€é€š</code>ï¼Œé‡Œå¤´é•¿è¿™æ ·ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777973-9c0a1700-242c-11eb-8ff9-3e250dac8fec.png\" alt=\"å¼€é€šopenid\"></p>\n<p>é‚£çº¢æ¡†è¿™ä¸€å—å¦‚ä½•å¡«å†™å‘¢? <code>éšä¾¿å¡«</code><br>è¿™é‡Œç¬”è€…è§‰å¾—æœ‰äº›ç²—ç³™äº†ï¼Œç›¸ä¿¡ä»Šåè¿™ä¸€å—ä¼šå®Œå–„å¥½ã€‚è¿™ä¸€ç‚¹æˆ‘ä¸ªäººè§‰å¾—è¿˜æ˜¯åä¸ºåšçš„å¥½ä¸€äº›ï¼Œå¼€æ”¾æ–‡æ¡£é‡Œä¹Ÿå†™çš„å¾ˆæ˜äº†ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777990-a0363480-242c-11eb-84f9-46e8c7af6aa3.gif\"></p>\n<p>èµ°åˆ°è¿™ä¸€æ­¥å°±å·®ä¸å¤šäº†ï¼Œå°±ç­‰å®¡æ ¸é€šè¿‡å•¦ã€‚<br>Â·Â·Â·<br>å®¡æ ¸é€šè¿‡å•¦ï¼Œå½“æˆ‘å†æ¬¡è°ƒè¯•é¡µé¢æ—¶æç¤ºæˆ‘æ›´æ–°åˆ°æœ€æ–°ç‰ˆï¼Œå¯èƒ½æ˜¯æˆ‘åˆšå¥½èµ¶ä¸Šæ–°ç‰ˆè°ƒè¯•å™¨å‘å¸ƒã€‚æ—¶é—´æ€»æ˜¯å¦‚æ­¤çš„å·§åˆã€‚ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98777976-9d3b4400-242c-11eb-8d72-72d515648b20.png\" alt=\"v1020\"></p>\n<p>æ›´æ–°å®Œè°ƒè¯•å™¨ï¼Œåœ¨è°ƒè¯•é¡µé¢ã€‚æˆ‘çœŸçš„æ„ŸåŠ¨äº†ï¼Œè°ƒç”¨è´¦å·æˆæƒæ¥å£æ‹¿åˆ°codeäº†ã€‚ã€‚ã€‚(å½“æ—¶å¿ƒæƒ…æ— è¯­è¨€è¡¨)</p>\n<p>ï¼ˆå®Œï¼‰</p>\n<p><em>æ­¤æ–‡åªæ˜¯è®°å½•å¿«åº”ç”¨è´¦å·æ¥å…¥çš„è¿‡ç¨‹ï¼Œä»…ä¾›å€Ÿé‰´ï¼Œéšç€å¿«åº”ç”¨çš„å‘å±•ï¼Œå„å®¶å‚å•†äº§å“çš„å®Œå–„ï¼Œå¤§å®¶å¯èƒ½ä¸ä¼šåƒç¬”è€…è¿™èˆ¬çº ç»“ï¼Œå¦‚èƒ½å¸®åŠ©åˆ°å¤§å®¶ï¼Œåº†å¹¸å†™ä¸‹æ­¤æ–‡ã€‚</em></p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2018/09/07/2018-09-07-quickapp-oppo-account/\">https://mileofsunshine.github.io/2018/09/07/2018-09-07-quickapp-oppo-account/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["å¿«åº”ç”¨"]},{"title":"ä»€ä¹ˆï¼Ÿé”™è¿‡äº†Vue CLI 2ï¼ä½ è¿˜è¦é”™è¿‡Vue CLI3ï¼Ÿ","url":"http://example.com/2018/08/06/2018-08-06-dont-miss-vue-cli3/","content":"<h1 id=\"Vue-CLI-äº§ç”Ÿçš„èƒŒæ™¯\"><a href=\"#Vue-CLI-äº§ç”Ÿçš„èƒŒæ™¯\" class=\"headerlink\" title=\"Vue CLI äº§ç”Ÿçš„èƒŒæ™¯\"></a>Vue CLI äº§ç”Ÿçš„èƒŒæ™¯</h1><p>åœ¨<code>Vue CLI</code>å‡ºç°ä¹‹å‰ï¼Œä½ å¯èƒ½è¦èŠ±è´¹å¥½å‡ å¤©çš„æ—¶é—´æ­å»ºé¡¹ç›®çš„å¼€å‘ç¯å¢ƒï¼Œå¦‚æœä½ äº‹å…ˆä¸äº†è§£<code>webpack</code>ï¼Œä½ å¯èƒ½ä¼šåˆèŠ±è´¹å¤§æŠŠçš„æ—¶é—´ç†Ÿæ‚‰<code>webpack</code>ã€‚å°±è¿™æ ·ï¼Œä¸€å‘¨è¿‡å»äº†ï¼Œä½ çš„é¡¹ç›®è¿˜æ²¡æœ‰çœŸæ­£å¯åŠ¨èµ·æ¥ã€‚<br>ä¸ºäº†è®©å¼€å‘è€…ä»çº ç»“é…ç½®ä¸­è§£æ”¾å‡ºæ¥ï¼Œä¸“æ³¨äºæ’°å†™åº”ç”¨ç¨‹åºã€‚<code>Vue CLI</code>ä¹Ÿå°±å› æ­¤è€Œäº§ç”Ÿã€‚å®ƒä¸ä»…ç¡®ä¿äº†å„ç§æ„å»ºå·¥å…·èƒ½å¤ŸåŸºäºæ™ºèƒ½çš„é»˜è®¤é…ç½®å³å¯å¹³ç¨³è¡”æ¥ï¼Œè¿˜æä¾›äº†é…ç½®è°ƒæ•´çš„çµæ´»æ€§ã€‚</p>\n<h1 id=\"Vue-CLIå†å²\"><a href=\"#Vue-CLIå†å²\" class=\"headerlink\" title=\"Vue CLIå†å²\"></a>Vue CLIå†å²</h1><p><code>Vue CLI </code>åˆ°ç›®å‰ä¸ºæ­¢ç»å†äº†ä¸¤ä¸ªå¤§ç‰ˆæœ¬ï¼Œ<code>CLI 2</code> å’Œ <code>CLI 3</code>ã€‚å¾ˆå¤šäººå¯èƒ½ä¼šå¥½å¥‡ä» <code>CLI 2</code>å‡çº§åˆ°<code>CLI 3</code>ä¼šæœ‰å“ªäº›æ–°çš„æ”¹å˜ï¼Œæ¥ä¸‹æ¥å°±ä¸€è¾¹å›é¡¾<code>CLI 2</code>ï¼Œä¸€è¾¹ä¸ºå¤§å®¶è§£è¯»<code>CLI 3</code>çš„æ–°ç‰¹æ€§ã€‚</p>\n<h1 id=\"åˆ›å»ºä¸€ä¸ªé¡¹ç›®\"><a href=\"#åˆ›å»ºä¸€ä¸ªé¡¹ç›®\" class=\"headerlink\" title=\"åˆ›å»ºä¸€ä¸ªé¡¹ç›®\"></a>åˆ›å»ºä¸€ä¸ªé¡¹ç›®</h1><p><code>CLI 2</code>å’Œ<code>CLI 3</code>ç¬¬ä¸€ä¸ªåŒºåˆ«æ˜¯npmåŒ…çš„åŒ…åï¼Œ<code>CLI 3</code>å¹¶æ²¡æœ‰æ²¿ç”¨<code>CLI 2</code>çš„<code>vue-cli</code>ï¼Œè€Œæ˜¯å¦èµ·ä¸º<code>@vue/cli</code>ã€‚åˆ›å»ºé¡¹ç›®æ–¹é¢ä¹Ÿå‘ç”Ÿäº†å˜åŒ–ï¼Œ<code>CLI 2</code> å¯ä»¥é€‰æ‹©æ ¹æ®æ¨¡æ¿åˆå§‹åŒ–é¡¹ç›®ï¼Œè€Œ<code>CLI 3</code>å¹¶æœªé‡æ–°å¼€å‘æ¨¡æ¿ï¼Œå¦‚æœå¼€å‘è€…æƒ³è¦åƒ<code>CLI 2</code>ä¸€æ ·ä½¿ç”¨æ¨¡æ¿åˆå§‹åŒ–é¡¹ç›®ï¼Œå¯å…¨å±€å®‰è£…ä¸€ä¸ªæ¡¥æ¥å·¥å…·<code>@vue/cli-init</code>ã€‚</p>\n<p>1ã€<code>CLI 2</code> å…¨å±€å®‰è£…å¹¶åˆ›å»ºé¡¹ç›®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g vue-cli</span><br><span class=\"line\"><span class=\"comment\"># æˆ–è€…</span></span><br><span class=\"line\">npm install -g vue-cli@x.x.x // æŒ‡å®šå®‰è£…æŸä¸€ç‰ˆæœ¬</span><br><span class=\"line\"></span><br><span class=\"line\">vue init &lt;template-name&gt; &lt;project-name&gt;</span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼švue init webpack vue-test</span></span><br></pre></td></tr></table></figure>\n<p><em>æ³¨æ„ï¼šè¿™é‡Œçš„<code>CLI 2</code>æ˜¯2.9.6ã€‚</em></p>\n<p><code>&lt;template-name&gt;</code>ï¼šè¡¨ç¤ºæ¨¡æ¿åç§°ï¼Œå¯ä»¥é€šè¿‡vue listæŸ¥çœ‹å¯ç”¨çš„æ¨¡æ¿ï¼Œåœ¨è¿™é‡Œå®˜æ–¹æä¾›äº†6ç§æ¨¡æ¿ï¼Œåˆ†åˆ«ä¸ºï¼š</p>\n<ul>\n<li>  <code>browserify</code>â€”â€”ä¸€ä¸ªå…¨é¢çš„<code>Browserify + vueify</code> çš„æ¨¡æ¿ï¼Œè¿è¡Œèµ·æ¥å¸¦æœ‰çƒ­é‡è½½ï¼Œä¿å­˜æ—¶ lint æ ¡éªŒï¼Œå•å…ƒæµ‹è¯•ã€‚</li>\n<li><code>browserify-simple</code>â€”â€”ä¸€ä¸ªç®€å•<code>Browserify + vueify</code>çš„æ¨¡æ¿ï¼Œä¸åŒ…å«å…¶ä»–åŠŸèƒ½ï¼Œè®©ä½ å¿«é€Ÿçš„æ­å»ºvueçš„å¼€å‘ç¯å¢ƒã€‚</li>\n<li><code>pwa</code>â€”â€”ä¸€ä¸ªåŸºäº<code>webpack</code>æ¨¡æ¿çš„æ¸è¿›å¼çš„ç½‘é¡µåº”ç”¨ç¨‹åºæ¨¡æ¿ã€‚</li>\n<li><code>simple</code>â€”â€”ä¸€ä¸ªæœ€ç®€å•çš„å•é¡µåº”ç”¨æ¨¡æ¿ã€‚</li>\n<li><code>webpack</code>â€”â€”ä¸€ä¸ªå…¨é¢çš„<code>webpack + vue-loader</code>çš„æ¨¡æ¿ï¼Œè¿è¡Œèµ·æ¥å¸¦æœ‰çƒ­é‡è½½ï¼Œä¿å­˜æ—¶ lint æ ¡éªŒå’ŒCSSæ‰©å±•ã€‚</li>\n<li><code>webpack-simple</code>â€”â€”ä¸€ä¸ªç®€å•<code>webpack + vue-loader</code>çš„æ¨¡æ¿ï¼Œèƒ½è®©ä½ å¿«é€Ÿæ­å»ºä¸€ä¸ªvueçš„å¼€å‘ç¯å¢ƒã€‚</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98778990-1f783800-242e-11eb-8681-f33344d7a0d5.png\" alt=\"å®˜æ–¹æä¾›çš„6ç§æ¨¡æ¿\"></p>\n<p>åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¼šç¡®è®¤é¡¹ç›®çš„é¡¹ç›®åã€ä½œè€…ç­‰ä¿¡æ¯ï¼Œå¤§å®¶å¯æ ¹æ®éœ€æ±‚è‡ªè¡Œä¿®æ”¹ã€‚</p>\n<p>2ã€<code>CLI 3</code>å…¨å±€å®‰è£…å¹¶åˆ›å»ºä¸€ä¸ªé¡¹ç›®</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli</span><br><span class=\"line\"><span class=\"comment\"># æˆ–è€…</span></span><br><span class=\"line\">yarn global add @vue/cli</span><br><span class=\"line\"><span class=\"comment\"># åˆ›å»ºé¡¹ç›®</span></span><br><span class=\"line\">vue create &lt;project-name&gt;</span><br><span class=\"line\"><span class=\"comment\"># ä¾‹å¦‚ï¼švue create vue-3.0-demo</span></span><br><span class=\"line\"><span class=\"comment\"># æˆ–</span></span><br><span class=\"line\"><span class=\"comment\"># ä½¿ç”¨init åˆå§‹åŒ–é¡¹ç›®</span></span><br><span class=\"line\">npm install -g @vue/cli-init</span><br><span class=\"line\"><span class=\"comment\"># `vue init` çš„è¿è¡Œæ•ˆæœå°†ä¼šè·Ÿ `vue-cli@2.x` ç›¸åŒ</span></span><br><span class=\"line\">vue init webpack vue-3.0-demo</span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘ä»¬ç”¨<code>CLI 3</code>çš„æ–¹å¼åˆ›å»ºé¡¹ç›®ï¼Œè¾“å…¥<code>vue create vue-3.0-demo</code>å‘½ä»¤åï¼Œä½ ä¼šå‘ç°åœ¨åˆ›å»ºé¡¹ç›®çš„è·¯ä¸Šæ€»æ˜¯æœ‰ä½â€œè®°è€…å¤§å“¥â€æ¨ªè·¯æ‹¦æˆªï¼Œé—®ä½ è¿™é—®ä½ é‚£ï¼Œä½ è¿˜å¿…é¡»åšå‡ºé€‰æ‹©ã€‚</p>\n<hr>\n<p>è®°è€…å¤§å“¥ï¼šâ€œæ¬¢è¿è¿›å…¥<code>CLI 3</code>çš„ä¸–ç•Œï¼Œé¦–å…ˆä½ å¾—é€‰å–ä¸€ä¸ª presetã€‚é€‰æ‹©é»˜è®¤çš„è®¾ç½®å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®çš„åŸå‹ï¼Œè€Œæ‰‹åŠ¨è®¾ç½®åˆ™æä¾›äº†æ›´å¤šçš„é€‰æ‹©ã€‚ä½ æ˜¯é€‰æ‹©é»˜è®¤é…ç½®ï¼Œè¿˜æ˜¯æ‰‹åŠ¨é€‰æ‹©ç‰¹æ€§å‘¢ï¼Ÿâ€</p>\n<p>ä½ ï¼šï¼ˆå¿ƒé‡Œæ´»åŠ¨ï¼š<code>â€œæ¥éƒ½æ¥äº†ï¼Œä¸ºä½•ä¸çœ‹çœ‹è®°è€…å¤§å“¥åˆ°åº•æä»€ä¹ˆé¬¼â€</code>ï¼‰â€œæˆ‘é€‰æ‹©äº†æ‰‹åŠ¨é€‰æ‹©å±æ€§â€</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98778969-1a1aed80-242e-11eb-9d8c-d042ec636c42.png\" alt=\"æ‰‹åŠ¨é€‰å–ç‰¹æ€§\"></p>\n<p>ä½ ï¼šä»€ä¹ˆé¬¼ï¼Ÿè¿˜ç»™æˆ‘æ¥ä¸ªå¤šé€‰é¢˜ï¼é¦–å…ˆ<code>Babel</code>æ˜¯å¿…è¦çš„ï¼Œä¸ç„¶æ‹¿ä»€ä¹ˆæ¥è½¬æ¢<code>ES6</code>è¯­æ³•ï¼Œ<code>TypeScript</code>ï¼Ÿä¸ä¼šï¼Œç•¥è¿‡ã€‚æ¸è¿›å¼çš„ç¨‹åºåº”ç”¨ï¼Œæš‚æ—¶ä¹Ÿä¸æ¶‰åŠè¿™ä¸ªã€‚<code>Router</code>å‹¾ä¸Šï¼Œä½œä¸ºä¸€ä¸ªç§»åŠ¨Mç«™ï¼Œå¾—æœ‰äººæ¥ç®¡ç†è·¯ç”±å‘€ã€‚<code>Vuex</code>ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨ï¼ŒåæœŸè¦ç”¨å†åŠ ä¸Šå§ï¼Œåæ­£ä¹Ÿè·‘ä¸äº†ã€‚css é¢„å¤„ç†å™¨ï¼Œä¹ æƒ¯ä½¿ç”¨<code>Less</code>ï¼Œä¹ŸåŠ ä¸€ã€‚<code>Linter / Formatter</code>ä¹ŸåŠ ä¸€ï¼Œä½œä¸ºä¸€ä¸ªå›¢é˜Ÿï¼Œæ²¡æœ‰äººç»Ÿä¸€ä»£ç é£æ ¼å¯ä¸è¡Œã€‚æœ€åä¸¤ä¸ªåˆ†åˆ«æ˜¯å•å…ƒæµ‹è¯•å’Œç«¯å¯¹ç«¯æµ‹è¯•ï¼Œè¿™é‡Œæˆ‘å°±ä¸åŠ ä¸Šäº†ï¼Œæ²¡ç”¨è¿‡ï¼ŒæœŸå¾…ä»Šåæœ‰å¤§ç¥åˆ†äº«ã€‚</p>\n<p>é€‰æ‹©å®Œç‰¹æ€§åï¼Œä½ ä»¥ä¸ºå°±ç»“æŸäº†ï¼Œæ²¡æƒ³åˆ°ï¼Œä¸€æ­¥é€‰é”™æ­¥æ­¥è¦ä½ é€‰ã€‚</p>\n<p>å¯¹äºcssé¢„å¤„ç†å™¨æ–¹é¢ï¼Œä½ æ¯…ç„¶å†³ç„¶é€‰æ‹©äº†<code>Less</code>ï¼›<br>ä½†<code>linter / formatter</code> é…ç½®ï¼Œä½ æ‡µé€¼äº†ã€‚è¿™éƒ½æ˜¯ä»€ä¹ˆï¼Ÿï¼Ÿè®°è€…å¤§å“¥ä»‹ç»äº†ä¸€ä¸‹ï¼š</p>\n<p><a href=\"https://github.com/eslint/eslint\">ESLint</a>Â æ˜¯ä¸€ä¸ªè¯­æ³•è§„åˆ™å’Œä»£ç é£æ ¼çš„æ£€æŸ¥å·¥å…·ï¼Œå¯ä»¥æ£€æµ‹å‡ºä½ ä»£ç ä¸­æ½œåœ¨çš„é—®é¢˜ï¼Œå¯ä»¥ä¿è¯å†™å‡ºè¯­æ³•æ­£ç¡®å’Œé£æ ¼ç»Ÿä¸€çš„ä»£ç ã€‚<br><img src=\"https://user-images.githubusercontent.com/17926741/98778993-1f783800-242e-11eb-8d17-c1f3e8c235a6.png\" alt=\"é€‰æ‹©linteré…ç½®.png\"></p>\n<ul>\n<li><code>ESLint with error prevention only</code>â€”â€”åªæ£€æµ‹é”™è¯¯ã€‚</li>\n<li><code>ESLint + Airbnb config</code>â€”â€”ç‹¬è§’å…½å…¬å¸çš„<a href=\"https://github.com/airbnb/javascript\">Airbnb</a>ï¼Œæœ‰äººè¯„ä»·è¯´â€œè¿™æ˜¯ä¸€ä»½æœ€åˆç†çš„JavaScriptç¼–ç è§„èŒƒâ€ï¼Œå®ƒå‡ ä¹æ¶µç›–äº†JavaScriptçš„å„ä¸ªæ–¹é¢ã€‚</li>\n<li><code>ESLint + Standard config</code>â€”â€”<a href=\"https://github.com/standard/standard\">standardJs</a>ä¸€ä»½å¼ºå¤§çš„JavaScriptç¼–ç è§„èŒƒï¼Œè‡ªå¸¦linterå’Œè‡ªåŠ¨ä»£ç çº æ­£ã€‚æ²¡æœ‰é…ç½®ã€‚è‡ªåŠ¨æ ¼å¼åŒ–ä»£ç ã€‚å¯ä»¥åœ¨ç¼–ç æ—©æœŸå‘ç°è§„èŒƒé—®é¢˜å’Œä½çº§é”™è¯¯ã€‚</li>\n<li><code>ESLint + Prettier</code>â€”â€”Â <a href=\"https://github.com/prettier/prettier\">Prettier</a>Â ä½œä¸ºä»£ç æ ¼å¼åŒ–å·¥å…·ï¼Œèƒ½å¤Ÿç»Ÿä¸€æ•´ä¸ªå›¢é˜Ÿçš„ä»£ç é£æ ¼ã€‚</li>\n</ul>\n<p>ç­‰ä»–ä»‹ç»å®Œï¼Œä½ å¿ƒé‡Œå¤§æ¦‚æœ‰ç‚¹è°±äº†ï¼Œè¿™é‡Œä½ é€‰æ‹©äº† <code>ESLint + Standard config</code>ã€‚</p>\n<p>lintæœ‰ä¸¤ç§æ£€æŸ¥æ—¶æœºï¼Œä¸€æ˜¯ç”¨æˆ·ä¿å­˜æ–‡ä»¶çš„æ—¶å€™ï¼ŒäºŒæ˜¯ç”¨æˆ·æäº¤æ–‡ä»¶åˆ°gitçš„æ—¶å€™ã€‚ä½ å°±é€‰äº†<code> Lint on save</code>ï¼Œæœ‰é”™åŠæ—¶è§£å†³å˜›ã€‚</p>\n<p>ç»ˆäºâ€œè®°è€…å¤§å“¥â€å‘Šè¯‰ä½ æ¥ä¸‹æ¥è¿™ä¸ªé—®é¢˜æ˜¯æœ€åä¸€ä¸ªé—®é¢˜å’¯ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98778974-1be4b100-242e-11eb-9132-05d0209ea4c7.png\"></p>\n<p>è®°è€…å¤§å“¥ï¼šä½ æ˜¯å–œæ¬¢æŠŠBabelã€ESLintç­‰é…ç½®ä¿¡æ¯å…¨æ”¾åœ¨package.jsonæ–‡ä»¶é‡Œå‘¢ï¼Œè¿˜æ˜¯å•ç‹¬æ–‡ä»¶ç®¡ç†ï¼Ÿ</p>\n<p>ä½ ï¼šä¸€ä¸ªä¸€ä¸ªæ–‡ä»¶æ¯”è¾ƒå¥½ï¼Œæ ¹æ®æ–‡ä»¶åå°±çŸ¥é“è¿™æ˜¯è°çš„é…ç½®ï¼Œæ–¹ä¾¿ç»´æŠ¤ã€‚</p>\n<p>è®°è€…å¤§å“¥ï¼šé‚£ä½ æ˜¯å¦æƒ³æŠŠä»Šå¤©ä½ æ‰‹åŠ¨é€‰æ‹©çš„presetä¿å­˜ä¸ºæœªæ¥é¡¹ç›®çš„presetå‘¢ï¼Ÿ</p>\n<p>ä½ ï¼š<br><img src=\"https://user-images.githubusercontent.com/17926741/98778976-1c7d4780-242e-11eb-9142-ba662c760b2c.png\" alt=\"è¯´å¥½çš„æœ€åä¸€ä¸ªå‘¢ï¼ï¼\"></p>\n<p>â€¦â€¦ä¿å­˜ï¼</p>\n<hr>\n<p><strong>æ¸©é¦¨æç¤º</strong>ï¼š<em>å¦‚æœä½ æ˜¯ç”¨windowsï¼Œåœ¨è¿›è¡Œåˆ›å»ºé¡¹ç›®çš„æ—¶å€™ï¼Œæœ€å¥½ä½¿ç”¨cmdï¼Œåœ¨cmdé‡Œä½ å¯ä»¥é€šè¿‡ç®­å¤´ä¸Šä¸‹é€‰æ‹©å’Œç©ºæ ¼é€‰ä¸­ã€‚å¦‚æœä½ ç”¨git bash å¯èƒ½ä¼šå‡ºç°ç®­å¤´å’Œç©ºæ ¼éƒ½æ²¡æœ‰è¯·é€‰æ‹©å’Œé€‰ä¸­ä½œç”¨ã€‚</em></p>\n<p>è¿™é‡Œé€šè¿‡ä¸€ä¸ªæ¼«é•¿çš„å¯¹è¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸€ä¸ªpresetï¼Œæ­¤æ—¶å¦‚æœä½ éœ€è¦åˆ›å»ºæ–°å·¥ç¨‹ï¼Œè¿™æ—¶å€™ä½ å°±ä¼šå‘ç°å¤šäº†ä¸€ä¸ªpresetï¼Œå°±æ˜¯æœ€åˆä½ è‡ªå·±è®¾ç½®çš„ã€‚ä½ å¯ä»¥é€‰æ‹©è‡ªå·±ä¹‹å‰ä¿å­˜presetçš„ï¼Œä¹Ÿå¯ä»¥å†æ¬¡å¼€å¯â€œé‡‡è®¿æ¨¡å¼â€ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98778971-1ab38400-242e-11eb-883f-257ca1a322c1.png\" alt=\"æ–°æ·»çš„preset\"></p>\n<h2 id=\"CLI-2-çš„é¡¹ç›®ç»“æ„\"><a href=\"#CLI-2-çš„é¡¹ç›®ç»“æ„\" class=\"headerlink\" title=\"CLI 2 çš„é¡¹ç›®ç»“æ„\"></a>CLI 2 çš„é¡¹ç›®ç»“æ„</h2><p><img src=\"https://user-images.githubusercontent.com/17926741/98778966-18e9c080-242e-11eb-87df-eec44d66af28.png\" alt=\"vue cli 2.9.6é¡¹ç›®ç»“æ„.png\"><br>å¯¹äº<code>CLI 2</code>è¿™ä¸ªé¡¹ç›®ç»“æ„ï¼Œä¸»è¦çš„ä¹Ÿæ˜¯æœ€é‡è¦çš„åœ¨äºbulidå’Œconfigè€…ä¸¤ä¸ªç›®å½•ã€‚bulidæ˜¯é¡¹ç›®æ„å»ºçš„ç›¸å…³ä»£ç ï¼Œconfigæ˜¯é¡¹ç›®å¼€å‘ç¯å¢ƒé…ç½®ã€‚</p>\n<p>æ¥ä¸‹æ¥å°±å…ˆä»<code>webpack.base.conf.js</code>å¼€å§‹ä¾æ¬¡ä»‹ç»buildå’Œconfigä¸¤ä¸ªç›®å½•ä¸‹çš„ç›¸å…³åŠŸèƒ½ã€‚</p>\n<h3 id=\"webpack-base-conf-js\"><a href=\"#webpack-base-conf-js\" class=\"headerlink\" title=\"webpack.base.conf.js\"></a>webpack.base.conf.js</h3><p><code>webpack.base.conf.js</code>æ˜¯webpackçš„åŸºç¡€é…ç½®ï¼Œæ˜¯devå’Œprodçš„å…¬å…±é…ç½®æ–‡ä»¶ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">const</span> path = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;path&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> utils = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./utils&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../config&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> vueLoaderConfig = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./vue-loader.conf&#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<ul>\n<li>pathâ€”â€”è¯¥æ¨¡å—æä¾›äº†ä¸€äº›ç”¨äºå¤„ç†æ–‡ä»¶è·¯å¾„çš„å°å·¥å…·</li>\n<li>utilsâ€”â€”ç»™æ•´ä¸ªCLIæä¾›æ–¹æ³•</li>\n<li>configâ€”â€”å¼€å‘ç¯å¢ƒçš„é…ç½®</li>\n<li>vueLoaderConfigâ€”â€”åˆ†ææ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒï¼Œç„¶åå°†æ ¹æ®ä¸åŒçš„ç¯å¢ƒæ¥åŠ è½½é…ç½®åŠŸèƒ½</li>\n</ul>\n<p>åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œä¸€å…±å®ç°äº†ä¸¤ä¸ªæ–¹æ³•ã€‚ä¸€æ˜¯åˆå¹¶pathè·¯å¾„çš„ï¼Œå¦ä¸€ä¸ªæ˜¯åˆ›å»ºEslintçš„Rulesã€‚è€Œå‰©ä½™éƒ¨åˆ†å°±æ˜¯webpackçš„åŸºç¡€é…ç½®ï¼Œè¿™é‡Œç®€åŒ–äº†webpackç»“æ„ï¼Œç®€åŒ–çš„ç»“æœå…¶å®å°±æ˜¯webpackçš„ä¸€ä¸ªéª¨æ¶ï¼Œå¦‚æœåœ¨é…ç½®ä¸Šé‡åˆ°é—®é¢˜ï¼Œå¯å»<a href=\"http://webpack.github.io/\">webpack</a>æŸ¥è¯ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  entry: &#123;&#125;, <span class=\"comment\">// ç¼–è¯‘å…¥å£æ–‡ä»¶</span></span><br><span class=\"line\">  output: &#123;&#125;, <span class=\"comment\">// ç¼–è¯‘è¾“å‡ºè·¯å¾„</span></span><br><span class=\"line\">  resolve: &#123;&#125;, <span class=\"comment\">// ä¸€äº›è§£å†³æ–¹æ¡ˆé…ç½®</span></span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123;</span><br><span class=\"line\">    <span class=\"comment\">// ä¸åŒç±»å‹æ–‡ä»¶åŠ è½½å™¨é…ç½®</span></span><br><span class=\"line\">    rules: []</span><br><span class=\"line\">  &#125;,</span><br><span class=\"line\">  ...</span><br><span class=\"line\">  <span class=\"comment\">// è¿™äº›é€‰é¡¹ç”¨äºé…ç½®polyfillæˆ–mockæŸäº›node.jså…¨å±€å˜é‡å’Œæ¨¡å—ã€‚</span></span><br><span class=\"line\">  <span class=\"comment\">// è¿™å¯ä»¥ä½¿æœ€åˆä¸ºnodejsç¼–å†™çš„ä»£ç å¯ä»¥åœ¨æµè§ˆå™¨ç«¯è¿è¡Œ</span></span><br><span class=\"line\">  node: &#123;...&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å…³äºpathæœ‰å…´è¶£çš„å¯å‰å¾€<a href=\"https://nodejs.org/api/path.html\">node</a>å­¦ä¹ ï¼Œæ¥ä¸‹æ¥é‡ç‚¹ä»‹ç»ä¸‹<code>utils.js</code>ï¼Œ<code>config</code>å’Œ<code>vue-loader.conf</code>ã€‚</p>\n<h3 id=\"utils-js\"><a href=\"#utils-js\" class=\"headerlink\" title=\"utils.js\"></a>utils.js</h3><p>utils.jsæ–‡ä»¶ä¸­æ€»å…±å®ç°äº†4ä¸ªæ–¹æ³•ï¼š<code>assetsPath</code>ã€<code>cssLoaders</code>ã€<code>styleLoaders</code>ã€<code>createNotifierCallback</code>ã€‚</p>\n<ul>\n<li>assetsPathâ€”â€”è¿”å›ä¸åŒç¯å¢ƒä¸‹çš„staticç›®å½•ä½ç½®</li>\n<li>cssLoadersâ€”â€”ä¸ºä¸åŒçš„cssé¢„å¤„ç†å™¨æä¾›ä¸€ä¸ªç»Ÿä¸€çš„ç”Ÿæˆæ–¹å¼</li>\n<li>styleLoadersâ€”â€”ä¸ºé‚£äº›ç‹¬ç«‹çš„styleæ–‡ä»¶åˆ›å»ºåŠ è½½å™¨é…ç½®</li>\n<li>createNotifierCallbackâ€”â€”ä»¥ç±»ä¼¼æµè§ˆå™¨çš„é€šçŸ¥çš„å½¢å¼å±•ç¤ºä¿¡æ¯</li>\n</ul>\n<h3 id=\"config\"><a href=\"#config\" class=\"headerlink\" title=\"config\"></a>config</h3><p>configå…³é”®æ–‡ä»¶æ˜¯<code>index.js</code>ã€‚è¿™ä¸ªæ–‡ä»¶æ˜¯å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒçš„åŸºæœ¬é…ç½®ã€‚åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œå¼€å‘è€…å¯åœ¨devè®¾ç½®å¼€å‘ç¯å¢ƒçš„é™æ€è·¯å¾„ã€æœ¬åœ°æœåŠ¡å™¨é…ç½®é¡¹ã€Eslintã€SourceMapså’Œä»£ç†ï¼Œä¹Ÿå¯åœ¨buildè®¾ç½®ç”Ÿäº§ç¯å¢ƒæ˜¯å¦å¼€å¯gzipå‹ç¼©ï¼Œä»¥åŠå‹ç¼©åç¼€åçš„è®¾ç½®ç­‰ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  dev: &#123;...&#125;,</span><br><span class=\"line\">  build: &#123;...&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"vue-loader-conf\"><a href=\"#vue-loader-conf\" class=\"headerlink\" title=\"vue-loader.conf\"></a>vue-loader.conf</h3><p>è¿™ä¸ªæ–‡ä»¶çš„å†…å®¹ç›¸å¯¹æ¯”è¾ƒå°‘ã€‚é¦–å…ˆï¼Œvueæ–‡ä»¶ä¸­çš„css loaderå°†åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹æŠŠcssæ–‡ä»¶æŠ½å–åˆ°ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ä¸­ï¼›å…¶æ¬¡æ˜¯æ ¹æ®ä¸åŒçš„ç¯å¢ƒï¼Œå¼•å…¥ä¸åŒçš„source mapé…ç½®æ–‡ä»¶ï¼›æœ€åè®¾ç½®æ˜¯å¦å¼€å¯ç¼“å­˜ç ´åã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&#x27;use strict&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> utils = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;./utils&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> config = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../config&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> isProduction = process.env.NODE_ENV === <span class=\"string\">&#x27;production&#x27;</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> sourceMapEnabled = isProduction</span><br><span class=\"line\">  ? config.build.productionSourceMap</span><br><span class=\"line\">  : config.dev.cssSourceMap</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = &#123;</span><br><span class=\"line\">  loaders: utils.cssLoaders(&#123;</span><br><span class=\"line\">    sourceMap: sourceMapEnabled,</span><br><span class=\"line\">    extract: isProduction</span><br><span class=\"line\">  &#125;),</span><br><span class=\"line\">  cssSourceMap: sourceMapEnabled,</span><br><span class=\"line\">  cacheBusting: config.dev.cacheBusting,</span><br><span class=\"line\">  transformToRequire: &#123;</span><br><span class=\"line\">    video: [<span class=\"string\">&#x27;src&#x27;</span>, <span class=\"string\">&#x27;poster&#x27;</span>],</span><br><span class=\"line\">    source: <span class=\"string\">&#x27;src&#x27;</span>,</span><br><span class=\"line\">    img: <span class=\"string\">&#x27;src&#x27;</span>,</span><br><span class=\"line\">    image: <span class=\"string\">&#x27;xlink:href&#x27;</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å…³äºwebpackå…¬å…±é…ç½®è®²å®Œäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ä¸€èµ·å­¦ä¹ ä¸‹åœ¨devå’Œprodç¯å¢ƒå„è‡ªçš„é…ç½®å§ã€‚</p>\n<h3 id=\"webpack-dev-conf-js\"><a href=\"#webpack-dev-conf-js\" class=\"headerlink\" title=\"webpack.dev.conf.js\"></a>webpack.dev.conf.js</h3><p>è¿™ä¸ªæ–‡ä»¶å¼•å…¥äº†<code>webpack-merge</code>ï¼Œæ„åœ¨å°†å…¬å…±é…ç½®æ–‡ä»¶å’Œdevé…ç½®åˆå¹¶ã€‚ä»ä»£ç é‡Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œdevç¯å¢ƒåˆæ–°å¢äº†ä¸€äº›é…ç½®é¡¹ã€‚</p>\n<ul>\n<li>ç»™ç‹¬ç«‹çš„styleæ–‡ä»¶æ·»åŠ äº†sourceMapåŠŸèƒ½ï¼Œæœ‰äº†å®ƒï¼Œå‡ºé”™çš„æ—¶å€™ï¼Œé™¤é”™å·¥å…·å°†ç›´æ¥æ˜¾ç¤ºåŸå§‹ä»£ç ï¼Œè€Œä¸æ˜¯è½¬æ¢åçš„ä»£ç ã€‚</li>\n<li>å¼•å…¥devtoolã€‚</li>\n<li>é…ç½®devServerï¼ŒåŒ…æ‹¬çƒ­éƒ¨ç½²ã€ä»£ç†ã€å¯åŠ¨ç¨‹åºçš„æ—¶å€™è‡ªåŠ¨åœ¨æµè§ˆå™¨æ‰“å¼€ä¸»é¡µé¢ç­‰ã€‚</li>\n<li>æ–°å¢ä¸€äº›æ’ä»¶ï¼ŒåŒ…æ‹¬çƒ­æ›¿æ¢ã€<code>webpack.NamedModulesPlugin</code>åœ¨çƒ­åŠ è½½æ—¶ç›´æ¥è¿”å›æ›´æ–°æ–‡ä»¶åã€<code>html-webpack-plugin</code>ç”Ÿæˆhtmlæ–‡ä»¶ç­‰ã€‚</li>\n</ul>\n<p>æœ€åä¸€ä¸ªå‡½æ•°æ˜¯ä¸ºäº†ç¡®ä¿å¯åŠ¨ç¨‹åºæ—¶ï¼Œå¦‚æœç«¯å£è¢«å ç”¨æ—¶ï¼Œä¼šé€šè¿‡portfinderæ¥å‘å¸ƒæ–°çš„ç«¯å£ã€‚</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">const</span> devWebpackConfig = merge(baseWebpackConfig, &#123;</span><br><span class=\"line\">  <span class=\"built_in\">module</span>: &#123; ... &#125;,</span><br><span class=\"line\">  devtool: config.dev.devtool,</span><br><span class=\"line\">  devServer: &#123; ... &#125;,</span><br><span class=\"line\">  plugins: [ ... ]</span><br><span class=\"line\">&#125;)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">module</span>.exports = <span class=\"keyword\">new</span> <span class=\"built_in\">Promise</span>(<span class=\"function\">(<span class=\"params\">resolve, reject</span>) =&gt;</span> &#123; ... &#125;)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"webpack-prod-conf-js\"><a href=\"#webpack-prod-conf-js\" class=\"headerlink\" title=\"webpack.prod.conf.js\"></a>webpack.prod.conf.js</h3><p>ç›¸æ¯” <code>webpack.dev.conf.js</code>ï¼Œè¿™ä¸ªæ–‡ä»¶å¤šå¼•å…¥äº†å‡ ä¸ªä¾èµ–ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‹ç¼©CSSå’ŒJSã€‚åœ¨æ–‡ä»¶é…ç½®ä¸Šå¤šäº†ä¸€ä¸ªoutputï¼Œå°†jsæ–‡ä»¶æ‰“åŒ…æˆå¤šä¸ªchuckï¼Œç”¨hashå€¼å‘½åï¼Œæ¥è§£å†³ç¼“å­˜ç­–ç•¥ã€‚</p>\n<p>åˆ°è¿™é‡Œ<code>CLI 2</code>çš„æ•´ä¸ªé…ç½®ä¹Ÿå°±æ¥è¿‘å°¾å£°äº†ã€‚å‰©ä¸‹çš„è¿˜æœ‰<code>check-version.js</code>å’Œ<code>bulid.js</code>ä¸¤ä¸ªæ–‡ä»¶ã€‚</p>\n<h3 id=\"check-version-js\"><a href=\"#check-version-js\" class=\"headerlink\" title=\"check-version.js\"></a>check-version.js</h3><p>è¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯ç”¨æ¥æ£€æµ‹å½“å‰ç¯å¢ƒä¸­çš„nodeå’Œnpmç‰ˆæœ¬å’Œæˆ‘ä»¬éœ€è¦çš„æ˜¯å¦ä¸€è‡´çš„ã€‚</p>\n<h3 id=\"bulid-js\"><a href=\"#bulid-js\" class=\"headerlink\" title=\"bulid.js\"></a>bulid.js</h3><p>è¿™ä¸ªæ–‡ä»¶åˆšå¼€å§‹é€šè¿‡<code>check-versions</code>åˆ¤æ–­å½“å‰çš„nodeå’Œnpmç‰ˆæœ¬å·ï¼Œå¦‚æœç°æœ‰çš„npmæˆ–è€…nodeçš„ç‰ˆæœ¬æ¯”å®šä¹‰çš„ç‰ˆæœ¬ä½ï¼Œåˆ™ç”Ÿæˆä¸€æ®µè­¦å‘Šã€‚æ¥ä¸‹æ¥ï¼Œå…ˆåˆ é™¤æ‰“åŒ…ç›®æ ‡ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå†è¿›è¡Œæ‰“åŒ…ï¼Œç›´è‡³æ‰“åŒ…å®Œæˆã€‚</p>\n<p>æˆ‘ä»¬èµ°é©¬è§‚èŠ±çš„å­¦ä¹ äº†<code>CLI 2</code>çš„é…ç½®ï¼Œä¼°è®¡å¤§å®¶ä¹Ÿéƒ½ç´¯äº†ã€‚é‚£æ¥ä¸‹æ¥å°±æ¥ä¸€æ®µé‡‡è®¿å§~~æœŸå¾…ä¸ï¼Œå“ˆå“ˆã€‚</p>\n<h2 id=\"CLI-3çš„é¡¹ç›®ç»“æ„\"><a href=\"#CLI-3çš„é¡¹ç›®ç»“æ„\" class=\"headerlink\" title=\"CLI 3çš„é¡¹ç›®ç»“æ„\"></a>CLI 3çš„é¡¹ç›®ç»“æ„</h2><p><img src=\"https://user-images.githubusercontent.com/17926741/98778997-20a96500-242e-11eb-9165-96230508123b.png\" alt=\"CLI 3é¡¹ç›®ç»“æ„.png\"></p>\n<p>ä»<code>CLI 3</code>çš„æ•´ä¸ªé¡¹ç›®ç»“æ„æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè¿™ä¸ªç»“æ„å¾ˆç®€å•ï¼Œæ²¡æœ‰ç›¸å…³çš„é…ç½®æ–‡ä»¶æˆ–å¤æ‚çš„ç›®å½•ç»“æ„ã€‚<code>CLI 3</code>ä»…ç”Ÿæˆæ„å»ºåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ–‡ä»¶ï¼Œè®©ä½¿ç”¨è€…ä¸ç”¨å…³å¿ƒè¿™äº›å·¥å…·çš„å…·ä½“é…ç½®ï¼Œä»è€Œé™ä½äº†å·¥å…·çš„ä½¿ç”¨éš¾åº¦ã€‚</p>\n<p>å…¶å®é€šè¿‡é˜…è¯»<code>CLI 3</code>çš„å®˜æ–¹æ–‡æ¡£ï¼Œä½ å¯èƒ½å·²ç»çŸ¥é“ï¼Œå®˜æ–¹å†…ç½®äº†ä¸€ä¸ªCLIæœåŠ¡ï¼ˆ<code>@vue/cli-service</code>ï¼‰ï¼Œä½œä¸ºä¸€ä¸ªå¼€å‘ç¯å¢ƒçš„ä¾èµ–ï¼Œå±€éƒ¨å®‰è£…åœ¨<code>@vue/cli</code>åˆ›å»ºçš„é¡¹ç›®ä¸­ã€‚å¦‚æœä½ çœŸæƒ³ä¿®æ”¹webpackçš„ç›¸å…³é…ç½®ï¼Œå¯åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹ï¼ˆå’Œ<code>package.jsonåŒçº§</code>ï¼‰åˆ›å»ºä¸€ä¸ªvue.config.jsé…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸€æ—¦å­˜åœ¨å°±ä¼šè¢«<code>@vue/cli-service</code>è‡ªåŠ¨åŠ è½½ã€‚ä¹Ÿå¯ç›´æ¥ä½¿ç”¨<code>package.json</code>ä¸­çš„<code>vue</code>å­—æ®µã€‚</p>\n<blockquote>\n<p>ä¸€ä¸ªæ²¡æœ‰å¥½å¥‡å¿ƒçš„ç¨‹åºçŒ¿ï¼Œä¸æ˜¯ä¸€ä¸ªæ›´å¥½çš„ç¨‹åºçŒ¿ã€‚</p>\n</blockquote>\n<p>å¦‚æœä½ å·²ç»æ»¡è¶³äºå®˜æ–¹çš„ä»‹ç»ï¼Œé‚£ä¹Ÿå°±åˆ°æ­¤ç»“æŸæ¼«é•¿çš„é˜…è¯»ä¹‹æ—…å•¦ï¼ˆå·å·å‘Šè¯‰ä½ åé¢è¿˜æœ‰æ–°ç‰¹æ€§çš„ç²¾å½©å†…å®¹ï¼‰ã€‚å¦‚æœä½ ä¹Ÿåƒæˆ‘ä¸€æ ·ï¼Œå……æ»¡äº†å¥½å¥‡å¿ƒï¼Œå°±è·Ÿæˆ‘å†å»æ¢ç´¢ä¸€ç•ªã€‚</p>\n<p>ä»<code>CLI 2</code>åˆ°<code>CLI 3</code>ï¼ŒåˆæœŸå¯èƒ½æ²¡æœ‰å®˜æ–¹æ–‡æ¡£ã€‚å¦‚æœä½ çœŸæƒ³æ¢ä¸ªç©¶ç«Ÿï¼Œå¯ä»¥ä»å¯åŠ¨é¡¹ç›®å…¥æ‰‹ã€‚</p>\n<p><code>CLI 2</code>å¯åŠ¨æ–¹å¼æ˜¯<code>webpack-dev-server --inline --progress --config build/webpack.dev.conf.js</code><br>è¿™é‡Œç”¨<code>webpack-dev-server</code>æ­ä¸€ä¸ªæœåŠ¡ã€‚</p>\n<ul>\n<li>â€“inlineï¼šå¯åŠ¨inlineæ¨¡å¼æ¥è‡ªåŠ¨åˆ·æ–°é¡µé¢</li>\n<li>â€“progressï¼šæ˜¾ç¤ºæ‰“åŒ…çš„è¿›åº¦</li>\n<li>â€“config build/webpack.dev.conf.jsï¼šæŒ‡å®šè¦ç”¨çš„æ˜¯å“ªä¸ªé…ç½®æ–‡ä»¶</li>\n</ul>\n<p><code>CLI 3</code>å¯åŠ¨æ–¹å¼æ˜¯<code>vue-cli-service serve</code></p>\n<p><code>vue-cli-service</code>å°±æ˜¯CLIæœåŠ¡ï¼Œä½ å¯å…¨å±€æœç´¢ä¸€ä¸‹ï¼Œä½äº<code>node_modules\\@vue\\cli-service\\bin</code></p>\n<h3 id=\"vue-cli-service-js\"><a href=\"#vue-cli-service-js\" class=\"headerlink\" title=\"vue-cli-service.js\"></a>vue-cli-service.js</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env node</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> semver = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;semver&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; error &#125; = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;@vue/cli-shared-utils&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> requiredVersion = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../package.json&#x27;</span>).engines.node</span><br><span class=\"line\"></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"keyword\">const</span> Service = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;../lib/Service&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> service = <span class=\"keyword\">new</span> Service(process.env.VUE_CLI_CONTEXT || process.cwd())</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> rawArgv = process.argv.slice(<span class=\"number\">2</span>)</span><br><span class=\"line\"><span class=\"keyword\">const</span> args = <span class=\"built_in\">require</span>(<span class=\"string\">&#x27;minimist&#x27;</span>)(rawArgv)</span><br><span class=\"line\"><span class=\"keyword\">const</span> command = args._[<span class=\"number\">0</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">service.run(command, args, rawArgv).catch(<span class=\"function\"><span class=\"params\">err</span> =&gt;</span> &#123;</span><br><span class=\"line\">  error(err)</span><br><span class=\"line\">  process.exit(<span class=\"number\">1</span>)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n<p>è¿™ä¸ªæ–‡ä»¶é¦–å…ˆæ˜¯åˆ¤æ–­äº†å½“å‰nodeçš„ç‰ˆæœ¬å’Œ<code>vue-cli-service</code>è¦æ±‚çš„ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ï¼Œå¦‚æœç‰ˆæœ¬å¤ªä½å°±å¾—å‡çº§nodeç‰ˆæœ¬ã€‚</p>\n<p>ç´§æ¥ç€å°±èµ·äº†ä¸ªæœåŠ¡ï¼Œè¿™ä¸ªæœåŠ¡æ˜¯ä½äº<code>lib/Service</code>ã€‚</p>\n<h3 id=\"Service-js\"><a href=\"#Service-js\" class=\"headerlink\" title=\"Service.js\"></a>Service.js</h3><figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">loadUserOptions () &#123;</span><br><span class=\"line\">    <span class=\"comment\">// vue.config.js</span></span><br><span class=\"line\">    <span class=\"keyword\">let</span> fileConfig, pkgConfig, resolved, resovledFrom</span><br><span class=\"line\">    <span class=\"keyword\">const</span> configPath = (</span><br><span class=\"line\">      process.env.VUE_CLI_SERVICE_CONFIG_PATH ||</span><br><span class=\"line\">      path.resolve(<span class=\"built_in\">this</span>.context, <span class=\"string\">&#x27;vue.config.js&#x27;</span>)</span><br><span class=\"line\">    )</span><br><span class=\"line\">    ...</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// package.vue</span></span><br><span class=\"line\">    pkgConfig = <span class=\"built_in\">this</span>.pkg.vue</span><br><span class=\"line\">    ...</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (fileConfig) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> (pkgConfig) &#123;</span><br><span class=\"line\">        ...</span><br><span class=\"line\">      &#125;</span><br><span class=\"line\">      resolved = fileConfig</span><br><span class=\"line\">      resovledFrom = <span class=\"string\">&#x27;vue.config.js&#x27;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> (pkgConfig) &#123;</span><br><span class=\"line\">      resolved = pkgConfig</span><br><span class=\"line\">      resovledFrom = <span class=\"string\">&#x27;&quot;vue&quot; field in package.json&#x27;</span></span><br><span class=\"line\">    &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">      resolved = <span class=\"built_in\">this</span>.inlineOptions || &#123;&#125;</span><br><span class=\"line\">      resovledFrom = <span class=\"string\">&#x27;inline options&#x27;</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"keyword\">return</span> resolved</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n<p>åœ¨<code>loadUserOptions</code>è¿™ä¸ªå‡½æ•°ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°å®˜æ–¹æåˆ°çš„<code>vue.config.js</code>ã€‚<br>è¿™ä¸ªå‡½æ•°ä¸»è¦æ˜¯åŠ è½½ç”¨æˆ·çš„é…ç½®ã€‚å¦‚æœ<code>vue.config.js</code>å’Œ<code>package.json</code>çš„vueå­—æ®µåŒæ—¶å­˜åœ¨ï¼Œä¼šå¿½ç•¥<code>package.json</code>çš„vueå­—æ®µé…ç½®ï¼Œè€Œé€‰å–<code>vue.config.js</code>çš„é…ç½®ã€‚</p>\n<p>è¿™é‡Œç²—ç•¥ä»‹ç»äº†ä½•å¤„åŠ è½½äº†  vue.confg.js  æ–‡ä»¶ï¼Œæœ‰å…´è¶£å¯ä»¥ç»§ç»­æ·±ç©¶ã€‚ç»è¿‡å®‰è£…CLIã€åˆ›å»ºé¡¹ç›®åˆ°æ•´ä¸ªé¡¹ç›®ç»“æ„ä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥å¤§è‡´äº†è§£äº†ä¸¤è€…çš„åŒºåˆ«ã€‚æ¥ä¸‹æ¥å¤§å®¶ä¸€èµ·å›´è§‚ä¸€ä¸‹<code>CLI 3</code>ç»™æˆ‘ä»¬å¸¦æ¥çš„å“ªäº›æ–°ç‰¹æ€§å§<del>~</del></p>\n<h2 id=\"æ–°ç‰¹æ–°\"><a href=\"#æ–°ç‰¹æ–°\" class=\"headerlink\" title=\"æ–°ç‰¹æ–°\"></a>æ–°ç‰¹æ–°</h2><h3 id=\"CLIæ’ä»¶çš„å‡ºç°\"><a href=\"#CLIæ’ä»¶çš„å‡ºç°\" class=\"headerlink\" title=\"CLIæ’ä»¶çš„å‡ºç°\"></a>CLIæ’ä»¶çš„å‡ºç°</h3><p>æ®æˆ‘æ‰€çŸ¥ï¼Œåœ¨<code>CLI 3</code>ä¹‹å‰æ˜¯æ²¡æœ‰CLIæ’ä»¶è¿™ä¸ªæ¦‚å¿µçš„ï¼Œäººä»¬åœ¨å¼€å‘Vueé¡¹ç›®æ—¶ï¼Œè‹¥æ˜¯éœ€è¦å®ç°åŠŸèƒ½éƒ½æ˜¯å¼•ç”¨npmçš„ç›¸å…³åŒ…ã€‚<code>CLI 3</code>çš„å‡ºç°ï¼Œå¸¦æ¥äº†CLIæ’ä»¶è¿™ä¸ªæ¦‚å¿µï¼Œä¹Ÿå¸¦æ¥äº†ç»Ÿä¸€çš„å‘½åæ–¹å¼ï¼š<code>@vue/cli-plugin-</code>ï¼ˆå†…å»ºæ’ä»¶ï¼‰/ <code>vue-cli-plugin-</code>ï¼ˆç¤¾åŒºæ’ä»¶ï¼‰å¼€å¤´ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98779806-45eaa300-242f-11eb-9452-1145566cbd20.png\" alt=\"CLI 3å‡ºç°å‰åŒ…å\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98779816-46833980-242f-11eb-89ad-743d43889e14.png\" alt=\"CLIæ’ä»¶\"></p>\n<h3 id=\"å³åˆ»åˆ›å»ºåŸå‹\"><a href=\"#å³åˆ»åˆ›å»ºåŸå‹\" class=\"headerlink\" title=\"å³åˆ»åˆ›å»ºåŸå‹\"></a>å³åˆ»åˆ›å»ºåŸå‹</h3><p>æœ‰æ—¶å€™ä½ æƒ³å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåŸå‹ï¼Œä¸éœ€è¦æ·»åŠ ä¸€å¤§å †æ ·æ¿ã€‚Vue CLIå°±æä¾›äº†ä¸€ä¸ªè¿è¡ŒåŸå‹çš„å¼€å‘æœåŠ¡å™¨ã€‚</p>\n<p>è¦æƒ³ä½¿ç”¨è¿™ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œå‰ææ˜¯å®‰è£…<code>@vue/cli-service-global</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install -g @vue/cli-service-global</span><br></pre></td></tr></table></figure>\n<p>ä½ å¯ä»¥ç”¨IDEåˆ›å»º.vueæ–‡ä»¶ï¼Œå¹¶æ·»åŠ vueä»£ç ã€‚å¦‚æœä½ å¯¹å‘½ä»¤è¡ŒæŒæ¡è‰¯å¥½ï¼Œä¹Ÿèƒ½è½»æ¾åˆ›å»ºã€‚</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&#x27;hello world&#x27;</span> &gt; src/views/HelloWorld.vue</span><br></pre></td></tr></table></figure>\n<p>ç„¶åå°†HelloWorld.vue ä¿®æ”¹ä¸ºæ ‡å‡†çš„vueæ–‡ä»¶ç»“æ„å°±è¡Œã€‚</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span>hello world!<span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">template</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p>ç´§æ¥ç€ä½ å°±å¯ä»¥è¿è¡Œ<code>vue serve src/views/HelloWorld.vue</code> å°±èƒ½çœ‹æ•ˆæœå•¦~</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98778982-1dae7480-242e-11eb-9923-5b8b51a69878.png\" alt=\"å¿«é€ŸåŸå‹å¼€å‘\"></p>\n<h3 id=\"é…ç½®æ—¶æ— éœ€Eject\"><a href=\"#é…ç½®æ—¶æ— éœ€Eject\" class=\"headerlink\" title=\"é…ç½®æ—¶æ— éœ€Eject\"></a>é…ç½®æ—¶æ— éœ€Eject</h3><p>å¦‚æœä½ æ›¾ç»æ˜¯ä¸€ä½Reactçš„å¿ å®ç”¨æˆ·ï¼Œæˆ–è®¸ä½¿ç”¨è¿‡<a href=\"https://github.com/facebookincubator/create-react-app\">create-react-app</a>ï¼ˆreactçš„è„šæ‰‹æ¶ï¼‰ï¼Œé‚£ä½ å¯¹ejectçš„ç†è§£å¯èƒ½å°±å¾ˆæ·±åˆ»äº†ã€‚å¯æƒœå°å¥³ä¸æ‰ï¼Œæ—©æœŸä¸Reactåªæœ‰ä¸€é¢ä¹‹ç¼˜ï¼Œä¹Ÿå°±æ²¡æ­¤æœºä¼šæ¥è§¦<code>create-react-app</code>ã€‚ä¸ºäº†ç†è§£ejectåˆ°åº•æ˜¯ä½•ç‰©ï¼Œæˆ‘æŸ¥çœ‹äº†reactçš„ç›¸å…³æ–‡æ¡£ï¼Œç»ˆäºæ˜ç™½äº†ã€‚<br>åœ¨reactä¸­ï¼Œä½¿ç”¨CRAï¼ˆ <code>create-react-app</code>ç®€ç§°ï¼‰åˆ›å»ºå®Œé¡¹ç›®ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨package.jsonçœ‹åˆ°è¿™é‡Œä¸€ä¸ªscriptå‘½ä»¤ã€‚</p>\n<figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&quot;scripts&quot;: &#123;</span><br><span class=\"line\">  &quot;eject&quot;: &quot;react-scripts eject&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æ‰§è¡Œå®Œ<code>npm run eject</code>ä¼šå°†å°è£…åœ¨CRAé‡Œçš„é…ç½®å…¨éƒ¨<em>åç¼–è¯‘</em>åˆ°å½“å‰é¡¹ç›®ï¼Œæ¢å¥è¯å°±æ˜¯æŠŠä¹‹å‰å¥½ä¸å®¹æ˜“è—å¥½äº†configæ–‡ä»¶æš´éœ²å‡ºæ¥äº†ï¼Œç”¨æˆ·ä¹Ÿå°±è·å–åˆ°äº†æ§åˆ¶æƒï¼Œæƒ³æ€ä¹ˆæ”¹éšä½ ã€‚è¿™æ ·<code>react-scripts</code>å°±ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨äºé¡¹ç›®ä¸­ï¼Œå°±æ— æ³•å‡çº§å•¦ã€‚</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># eject åé¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šå‡ºç° config æ–‡ä»¶å¤¹ï¼Œé‡Œé¢å°±åŒ…å«äº† webpack é…ç½®</span><br><span class=\"line\">config</span><br><span class=\"line\">â”œâ”€â”€ env.js</span><br><span class=\"line\">â”œâ”€â”€ jest</span><br><span class=\"line\">â”‚   â”œâ”€â”€ cssTransform.js</span><br><span class=\"line\">â”‚   â””â”€â”€ fileTransform.js</span><br><span class=\"line\">â”œâ”€â”€ paths.js</span><br><span class=\"line\">â”œâ”€â”€ polyfills.js</span><br><span class=\"line\">â”œâ”€â”€ webpack.config.dev.js &#x2F;&#x2F; å¼€å‘ç¯å¢ƒé…ç½®</span><br><span class=\"line\">â”œâ”€â”€ webpack.config.prod.js &#x2F;&#x2F; ç”Ÿäº§ç¯å¢ƒé…ç½®</span><br><span class=\"line\">â””â”€â”€ webpackDevServer.config.js</span><br></pre></td></tr></table></figure>\n<p><strong>å¥½åœ¨<code>CLI 3</code>å¹¶æ²¡æœ‰åƒCRAä¸€æ ·ï¼Œå¼€å‘è€…ä½ è¦æ˜¯æƒ³è‡ªå·±ä¿®æ”¹é…ç½®ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œæˆ‘ä¸éœ€è¦ä½ ejectï¼Œä½ æƒ³æ”¹å°±å»vue.config.jsé‡Œæ”¹å§ã€‚</strong><br><img src=\"https://user-images.githubusercontent.com/17926741/98778972-1b4c1a80-242e-11eb-9249-4a803f012815.png\"></p>\n<p>å¦‚æœä½ æƒ³çœ‹çœ‹é»˜è®¤çš„webpacké…ç½®ï¼Œå¯æ‰§è¡Œ<code>vue inspect</code>æŸ¥çœ‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šå°†é…ç½®è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œä½ ä¹Ÿå¯ä»¥å°†ç»“æœæŒ‡å‘ä¸€ä¸ªæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š<code>vue inspect &gt; webpack.config.js</code>ã€‚</p>\n<h3 id=\"ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢\"><a href=\"#ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢\" class=\"headerlink\" title=\"ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢\"></a>ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢</h3><p>å›¾å½¢ç•Œé¢åŒ–èƒ½å¿«é€Ÿå¼•å¯¼ç”¨æˆ·åˆ›å»ºå’Œç®¡ç†é¡¹ç›®ï¼Œè¿™å¯¹äºä¹ æƒ¯äº†å›¾å½¢ç•Œé¢åŒ–çš„å¼€å‘è€…æ¥è¯´ç®€ç›´å°±æ˜¯ç¦éŸ³ã€‚æ“ä½œæ–¹å¼å¾ˆç®€å•ï¼Œåœ¨ä½ å®‰è£…å¥½äº†<code>CLI 3</code>çš„å‰æä¸‹ï¼Œæ‰§è¡Œ<code>vue ui</code>å‘½ä»¤ ï¼Œä¼šè‡ªåŠ¨åœ¨æµè§ˆå™¨æ‰“å¼€å›¾å½¢ç•Œé¢ã€‚</p>\n<p><img src=\"https://user-images.githubusercontent.com/17926741/98778984-1e470b00-242e-11eb-9d43-2094ec4ed4f3.png\" alt=\"Vue CLIå›¾å½¢ç•Œé¢\"></p>\n<p>åˆ›å»ºé¡¹ç›®çš„æ•´ä¸ªæµç¨‹è·Ÿå‘½ä»¤åˆ›å»ºé¡¹ç›®å¤§åŒå°å¼‚ã€‚è¿™é‡Œä»‹ç»ä¸‹ä¸€ä¸ª<strong>â€œå¯¼å…¥â€</strong>åŠŸèƒ½ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸æ˜¯ç”¨è¿™ä¸ªå›¾å½¢ç•Œé¢åˆ›å»ºçš„é¡¹ç›®æ˜¯ä¸ä¼šå‡ºç°åœ¨é¡¹ç›®åˆ—è¡¨ä¸­ï¼Œå¦‚æœä½ æƒ³æŠŠå·²æœ‰çš„é¡¹ç›®ä¹Ÿæ”¾åœ¨Vue CLI å›¾å½¢ç•Œé¢ç®¡ç†ï¼Œå¯å°†é¡¹ç›®å¯¼å…¥è¿›æ¥ã€‚å¯¼å…¥é¡¹ç›®åˆ°åº•æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿè¿™é‡Œå°±å‰å®³äº†ï¼ä¸€ä¸ªé¡¹ç›®å¯¼å…¥è¿›æ¥ï¼Œä¼šæŒ‰å››ä¸ªéƒ¨åˆ†è¿›è¡Œç®¡ç†é¡¹ç›®ï¼Œåˆ†åˆ«ä¸ºæ’ä»¶ã€ä¾èµ–ã€é…ç½®å’Œä»»åŠ¡</p>\n<h5 id=\"æ’ä»¶\"><a href=\"#æ’ä»¶\" class=\"headerlink\" title=\"æ’ä»¶\"></a>æ’ä»¶</h5><p>åœ¨æ’ä»¶è¿™ä¸€éƒ¨åˆ†ç½—åˆ—äº†é¡¹ç›®å·²å®‰è£…çš„CLIæ’ä»¶ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œç”¨æˆ·è¿˜å¯ä»¥éšæ—¶æ·»åŠ æ’ä»¶ï¼Œé»˜è®¤æ¨èç»™ä½ æ·»åŠ vue-routerå’Œvuexã€‚æ›´æ£’çš„æ˜¯è¿˜æœªæ¯ä¸ªæ’ä»¶æä¾›äº†å®˜æ–¹æ–‡æ¡£ï¼Œæ˜¯ä¸æ˜¯å¾ˆè´´å¿ƒ~</p>\n<h5 id=\"ä¾èµ–\"><a href=\"#ä¾èµ–\" class=\"headerlink\" title=\"ä¾èµ–\"></a>ä¾èµ–</h5><p>æˆ‘ä»¬éƒ½çŸ¥é“ä¾èµ–åˆ†ä¸ºå¼€å‘ä¾èµ–å’Œè¿è¡Œä¾èµ–ï¼Œåœ¨å›¾å½¢ç•Œé¢æœªå‡ºç°æ—¶ï¼Œæˆ‘ä»¬è¦ç§»é™¤ä¸ç”¨çš„ä¾èµ–è¿˜å¾—æ ¹æ®ç¯å¢ƒè¿›è¡Œç§»é™¤ï¼Œç§»é™¤å¼€å‘ä¾èµ–æ‰§è¡Œ<code>npm uninstall xx --save-dev</code>ï¼Œç§»é™¤è¿è¡Œä¾èµ–<code>npm uninstall xx --save</code>ã€‚ç§»é™¤ä¹‹å‰ä½ å¯èƒ½éƒ½è¦å»package.jsoné‡ŒæŸ¥çœ‹ç›¸å…³ä¾èµ–åï¼Œå¾ˆæ˜¯è´¹åŠ²ã€‚è¿˜åœ¨å›¾å½¢åŒ–ç•Œé¢è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œè½»è½»æ¾æ¾ä½ å°±å¯ä»¥ç§»é™¤ä¸éœ€è¦å¾—ä¾èµ–ã€‚</p>\n<h5 id=\"é…ç½®\"><a href=\"#é…ç½®\" class=\"headerlink\" title=\"é…ç½®\"></a>é…ç½®</h5><p>å…³äºvue.config.jsæ–‡ä»¶çš„é…ç½®ï¼Œåœ¨è¿™ä¹Ÿæä¾›äº†å…¥å£ã€‚è¿™é‡Œå®ƒåˆ†ä¸ºåŸºç¡€é…ç½®å’ŒCSSé…ç½®ï¼Œåˆ«è§‰å¾—å°‘ï¼Œä½†è¿™å´æ˜¯æœ€åŸºæœ¬ã€æœ€ç»å¸¸è¢«ä¿®æ”¹çš„é…ç½®ã€‚å¦‚æœæ— æ³•æ»¡è¶³ä½ æ ¹æœ¬éœ€æ±‚ï¼Œä½ ä¹Ÿå¯ä»¥æ‰“å¼€vue.config.jsæ–‡ä»¶å¹¶å‚è€ƒå®˜æ–¹é…ç½®ã€‚é™¤æ­¤ä¹‹å¤–ä¹Ÿæä¾›äº†ESlintçš„ç›¸å…³é…ç½®ã€‚</p>\n<h5 id=\"ä»»åŠ¡\"><a href=\"#ä»»åŠ¡\" class=\"headerlink\" title=\"ä»»åŠ¡\"></a>ä»»åŠ¡</h5><p>ç¬”è€…è§‰å¾—ï¼Œå‰å®³çš„è¿˜æ˜¯ä»»åŠ¡è¿™ä¸€æ ã€‚è¿™ä¸€æ ç›®åŒ…å«äº†<code>serve</code>ã€<code>build</code>ã€<code>lint</code>å’Œ<code>inspect</code>ã€‚é¡¹ç›®çš„è¿è¡Œæƒ…å†µã€æ•°æ®åˆ†æã€ç¼–è¯‘è¿›åº¦ã€æ£€æŸ¥webpacké…ç½®ç­‰ã€‚çœŸçš„å¾ˆå‰å®³æœ‰æœ¨æœ‰~<br><img src=\"https://user-images.githubusercontent.com/17926741/98778978-1d15de00-242e-11eb-8fe3-bedb153157de.png\" alt=\"æ‰€æœ‰ä¿¡æ¯å°½æ”¶çœ¼åº•\"></p>\n<p>æ–°ç‰¹æ€§åˆ°æ­¤å°±ä»‹ç»å®Œæ¯•äº†ã€‚åˆæ¬¡å†™ä¸€ç¯‡è¿™ä¹ˆé•¿çš„æ–‡ç« ï¼Œå¦‚æœ‰ä¸è¶³ï¼Œè¯·å¤šè§è°…ã€‚æ„Ÿè°¢æŸ¥é˜…~~<br><img src=\"https://user-images.githubusercontent.com/17926741/98778988-1edfa180-242e-11eb-8bd1-4d078318ac8c.png\"></p>\n<p>å‚è€ƒèµ„æ–™ï¼š</p>\n<p><a href=\"https://cli.vuejs.org/zh/guide/\">https://cli.vuejs.org/zh/guide/</a><br><a href=\"https://npmjs.com/package/vue-cli\">https://npmjs.com/package/vue-cli</a><br><a href=\"http://zhaozhiming.github.io/blog/2018/01/08/create-react-app-override-webpack-config/\">http://zhaozhiming.github.io/blog/2018/01/08/create-react-app-override-webpack-config/</a><br><a href=\"https://segmentfault.com/a/1190000012581869#articleHeader5\">https://segmentfault.com/a/1190000012581869#articleHeader5</a><br><a href=\"http://www.css88.com/archives/8405\">http://www.css88.com/archives/8405</a></p>\n<blockquote>\n<p>æœ¬æ–‡ä½œè€…ï¼š mileOfSunshine<br>æœ¬æ–‡é“¾æ¥ï¼š <a href=\"https://mileofsunshine.github.io/2018/08/06/2018-08-06-dont-miss-vue-cli3/\">https://mileofsunshine.github.io/2018/08/06/2018-08-06-dont-miss-vue-cli3/</a><br>ç‰ˆæƒå£°æ˜ï¼šæ–‡ç« æ˜¯åŸåˆ›ä½œå“ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>\n</blockquote>\n","categories":["å‰ç«¯"],"tags":["vue"]},{"title":"about","url":"http://example.com/about/index.html","content":"","categories":[],"tags":[]},{"title":"category","url":"http://example.com/category/index.html","content":"","categories":[],"tags":[]},{"title":"link","url":"http://example.com/link/index.html","content":"","categories":[],"tags":[]},{"title":"search","url":"http://example.com/search/index.html","content":"","categories":[],"tags":[]},{"title":"tag","url":"http://example.com/tag/index.html","content":"","categories":[],"tags":[]}]